{"name":"@newrelic/native-metrics","version":"2.1.1","description":"A module for generating metrics from V8.","main":"index.js","scripts":{"build":"node-gyp build -j 4","rebuild":"node-gyp rebuild -j 4","lint":"eslint ./*.js lib","unit":"tap --expose-gc tests/unit/*.tap.js","integration":"tap --timeout 6m tests/integration/*.tap.js","native":"node tests/native/*.js","test":"npm run unit && npm run integration","install":"node-gyp rebuild"},"repository":"https://github.com/newrelic/node-native-metrics","keywords":["newrelic","gc","metrics","stats","gc-stats","gc stats","gc metrics","native-metrics","native metrics"],"license":"LicenseRef-LICENSE","engines":{"node":">=0.12","npm":">=2"},"devDependencies":{"async":"^2.1.4","eslint":"^3.9.1","segfault-handler":"^1.0.0","semver":"^5.3.0","tap":"^9.0.3"},"dependencies":{"nan":"^2.4.0"},"gypfile":true,"gitHead":"d93d9eabc919d57678cf24bcaefdae97fe008af1","homepage":"https://github.com/newrelic/node-native-metrics#readme","versions":[{"number":"0.1.0","date":"2016-11-30T20:33:02.257Z"},{"number":"0.1.1","date":"2016-12-06T00:03:18.177Z"},{"number":"1.0.0","date":"2016-12-07T22:41:28.689Z"},{"number":"2.0.0","date":"2017-01-04T21:46:32.825Z"},{"number":"2.0.1","date":"2017-01-04T22:06:18.661Z"},{"number":"2.0.2","date":"2017-01-19T23:00:18.057Z"},{"number":"2.1.0","date":"2017-02-06T22:13:24.623Z"},{"number":"2.1.1","date":"2017-04-04T21:16:58.645Z"}],"readme":"\n# Native Metrics for New Relic Node Agent\n\nThis module provides hooks into the native layer of Node to provide metrics for\nthe [New Relic Node Agent][npm-newrelic]. It gathers\ninformation that isn't available at the JS layer about the V8 virtual machine\nand the process health. It comes packaged with the New Relic Agent v2, and there\nis nothing that needs to be done. For Agent v1 you need only to install the\nmodule alongside [`newrelic`][npm-newrelic].\n\n## Installation\n\n`npm install @newrelic/native-metrics`\n\nNote that this is a native module and thus must be compiled to function. You\nwill need to have a compiler installed on the machine where this is to be\ndeployed. See [node-gyp](https://www.npmjs.com/package/node-gyp#installation)\nfor more information on compiling native addons.\n\n## Usage\n\n```js\nvar getMetricEmitter = require('@newrelic/native-metrics')\n\nvar emitter = getMetricEmitter()\nif (emitter.gcEnabled) {\n  emitter.on('gc', (gc) => console.log(gc.type + ': ' + gc.duration))\n}\nif (emitter.usageEnabled) {\n  emitter.on('usage', (usage) => console.log(usage))\n}\nif (emitter.loopEnabled) {\n  setInterval(() => {\n    var loopMetrics = emitter.getLoopMetrics()\n    console.log(\"Loop time:\", loopMetrics.loop)\n    console.log(\"IO wait time:\", loopMetrics.ioWait)\n  }, 1000)\n}\n```\n\nThe metric emitter keeps a referenced timer running for its periodic sampling\nevents. For a graceful shutdown of the process call `NativeMetricEmitter#unbind`.\n\n```js\ngetMetricEmitter().unbind() // Process will now close gracefully.\n```\n\nIf you would like to change the period of the sampling, simply unbind and then\ncall `NativeMetricEmitter#bind` with the new period.\n\n```js\nvar emitter = getMetricEmitter({timeout: 15000})\nemitter.unbind()\nemitter.bind(10000) // Samples will now fire once every 10 seconds.\n```\n\n## License\n\nThe New Relic native metrics module is free-to-use, proprietary software. Please\nsee the full license (found in [LICENSE](LICENSE)) for details on its license\nand the licenses of its dependencies.\n\n[npm-newrelic]: https://www.npmjs.com/package/newrelic\n","starsCount":1,"created":"2016-11-30T20:33:02.257Z","modified":"2017-04-04T21:16:58.645Z","lastPublisher":{"name":"n.wolfe","email":"natalie@lifewanted.com"},"owners":[{"name":"newrelic","email":"nodejs@newrelic.com"}],"other":{"_attachments":{},"_from":".","_id":"@newrelic/native-metrics","_nodeVersion":"4.8.0","_npmOperationalInternal":{"host":"packages-12-west.internal.npmjs.com","tmp":"tmp/native-metrics-2.1.1.tgz_1491340618397_0.03875814261846244"},"_npmUser":{"name":"n.wolfe","email":"natalie@lifewanted.com"},"_npmVersion":"2.15.11","_rev":"15-d82a04c6701d79acb375e3344dc9f125","_shasum":"2a7abd87373e46b3c957a08124a72c0c41968dc8","author":{"name":"New Relic Node.js agent team","email":"nodejs@newrelic.com"},"bugs":{"url":"https://github.com/newrelic/node-native-metrics/issues"},"contributors":[{"name":"Natalie Wolfe","email":"nwolfe@newrelic.com","url":"https://newrelic.com"}],"directories":{},"dist-tags":{"latest":"2.1.1"},"dist":{"shasum":"2a7abd87373e46b3c957a08124a72c0c41968dc8","tarball":"https://registry.npmjs.org/@newrelic/native-metrics/-/native-metrics-2.1.1.tgz"},"maintainers":[{"name":"newrelic","email":"nodejs@newrelic.com"}],"readmeFilename":"README.md","time":{"modified":"2017-04-04T21:16:58.645Z","created":"2016-11-30T20:33:02.257Z","0.1.0":"2016-11-30T20:33:02.257Z","0.1.1":"2016-12-06T00:03:18.177Z","1.0.0":"2016-12-07T22:41:28.689Z","2.0.0":"2017-01-04T21:46:32.825Z","2.0.1":"2017-01-04T22:06:18.661Z","2.0.2":"2017-01-19T23:00:18.057Z","2.1.0":"2017-02-06T22:13:24.623Z","2.1.1":"2017-04-04T21:16:58.645Z"},"users":{"newrelic":true}}}