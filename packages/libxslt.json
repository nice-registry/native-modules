{"name":"libxslt","version":"0.6.5","description":"Node.js bindings for libxslt compatible with libxmljs","main":"index.js","scripts":{"test":"mocha -R spec","docs":"jsdoc2md index.js --template readme.hbs > README.md","install":"node-gyp rebuild"},"keywords":["xml","xsl","xslt","libxslt","bindings"],"homepage":"https://github.com/albanm/node-libxslt","repository":"https://github.com/albanm/node-libxslt","license":"MIT","dependencies":{"bindings":"~1.2.1","libxmljs-mt":"0.18.0","nan":"^2.1.0"},"devDependencies":{"async":"~0.9.0","jsdoc-to-markdown":"^0.5.7","mocha":"^1.21.4","should":"~4.0.4"},"gypfile":true,"gitHead":"2de75b5253b540e1ef275301a9e92ec6539f1dc1","versions":[{"number":"0.1.0","date":"2014-08-20T11:25:54.560Z"},{"number":"0.1.3","date":"2014-08-20T11:49:26.765Z"},{"number":"0.1.4","date":"2014-08-20T20:07:30.892Z"},{"number":"0.1.5","date":"2014-09-09T18:48:49.205Z"},{"number":"0.2.0","date":"2014-09-11T20:47:41.739Z"},{"number":"0.2.1","date":"2014-11-24T14:32:00.420Z"},{"number":"0.2.2","date":"2014-12-16T21:20:31.227Z"},{"number":"0.3.0","date":"2015-01-13T20:57:09.970Z"},{"number":"0.4.0","date":"2015-01-21T10:55:30.205Z"},{"number":"0.4.1","date":"2015-02-01T19:10:01.401Z"},{"number":"0.5.0","date":"2015-07-08T23:18:22.146Z"},{"number":"0.5.1","date":"2015-07-09T18:44:25.567Z"},{"number":"0.5.2","date":"2015-07-12T20:10:48.699Z"},{"number":"0.5.3","date":"2015-08-31T19:01:43.975Z"},{"number":"0.5.4","date":"2015-09-08T20:01:30.869Z"},{"number":"0.6.0","date":"2015-11-20T20:44:27.869Z"},{"number":"0.6.1","date":"2016-01-03T16:26:54.738Z"},{"number":"0.6.2","date":"2016-01-13T12:03:44.495Z"},{"number":"0.6.3","date":"2016-01-13T12:13:45.150Z"},{"number":"0.6.4","date":"2017-02-14T22:21:07.360Z"},{"number":"0.6.5","date":"2017-02-15T12:48:57.091Z"}],"readme":"node-libxslt\n============\n\n[![Build status](https://travis-ci.org/albanm/node-libxslt.svg)](https://travis-ci.org/albanm/node-libxslt)\n[![Code Climate](https://codeclimate.com/github/albanm/node-libxslt/badges/gpa.svg)](https://codeclimate.com/github/albanm/node-libxslt)\n[![NPM version](https://badge.fury.io/js/libxslt.svg)](http://badge.fury.io/js/libxslt)\n\nNode.js bindings for [libxslt](http://xmlsoft.org/libxslt/) compatible with [libxmljs](https://github.com/polotek/libxmljs/issues/226).\n\nInstallation\n------------\n\n    npm install libxslt\n\nFrom source:\n\n    git clone https://github.com/albanm/node-libxslt.git\n\t\tgit submodule update --init\n\t\tnpm install\n\t\tnpm test\n\nBasic usage\n-----------\n\n```js\nvar libxslt = require('libxslt');\n\nlibxslt.parse(stylesheetString, function(err, stylesheet){\n  var params = {\n    MyParam: 'my value'\n  };\n\n  // 'params' parameter is optional\n  stylesheet.apply(documentString, params, function(err, result){\n    // err contains any error from parsing the document or applying the stylesheet\n    // result is a string containing the result of the transformation\n  });  \n});\n```\n\nLibxmljs integration\n--------------------\n\nNode-libxslt depends on [libxmljs](https://github.com/polotek/libxmljs/issues/226) in the same way that [libxslt](http://xmlsoft.org/libxslt/) depends on [libxml](http://xmlsoft.org/). This dependancy makes possible to bundle and to load in memory libxml only once for users of both libraries.\n\nThe libxmljs module required by node-libxslt is exposed as ```require('libxslt').libxmljs```. This prevents depending on libxmljs twice which is not optimal and source of weird bugs.\n\nIt is possible to work with libxmljs documents instead of strings:\n\n```js\nvar lixslt = require('libxslt');\nvar libxmljs = libxslt.libxmljs;\n\nvar stylesheetObj = libxmljs.parseXml(stylesheetString, { nocdata: true });\nvar stylesheet = libxslt.parse(stylesheetObj);\n\nvar document = libxmljs.parseXml(documentString);\nstylesheet.apply(document, function(err, result){\n  // result is now a libxmljs document containing the result of the transformation\n});\n\n```\n\nThis is only useful if you already needed to parse a document before applying the stylesheet for previous manipulations.\nOr if you wish to be returned a document instead of a string for ulterior manipulations.\nIn these cases you will prevent extraneous parsings and serializations.\n\nIncludes\n--------\n\nXSL includes are supported but relative paths must be given from the execution directory, usually the root of the project.\n\nIncludes are resolved when parsing the stylesheet by libxml. Therefore the parsing task becomes IO bound, which is why you should not use synchronous parsing when you expect some includes.\n\nSync or async\n-------------\n\nThe same *parse()* and *apply()* functions can be used in synchronous mode simply by removing the callback parameter.\nIn this case if a parsing error occurs it will be thrown.\n\n```js\nvar lixslt = require('libxslt');\n\nvar stylesheet = libxslt.parse(stylesheetString);\n\nvar result = stylesheet.apply(documentString);\n\n```\n\nThe asynchronous functions use the [libuv work queue](http://nikhilm.github.io/uvbook/threads.html#libuv-work-queue)\nto provide parallelized computation in node.js worker threads. This makes it non-blocking for the main event loop of node.js.\n\nNote that libxmljs parsing doesn't use the work queue, so only a part of the process is actually parallelized.\n\nA small benchmark is available in the project. It has a very limited scope, it uses always the same small transformation a few thousand times.\nTo run it use:\n\n    node benchmark.js\n\nThis is an example of its results with an intel core i5 3.1GHz:\n\n```\n10000 synchronous parse from parsed doc                in 52ms = 192308/s\n10000 asynchronous parse in series from parsed doc     in 229ms = 43668/s\n10000 asynchronous parse in parallel from parsed doc   in 56ms = 178571/s\n10000 synchronous apply from parsed doc                in 329ms = 30395/s\n10000 asynchronous apply in series from parsed doc     in 569ms = 17575/s\n10000 asynchronous apply in parallel from parsed doc   in 288ms = 34722/s\n\n```\n\nObservations:\n  - it's pretty fast !\n  - asynchronous is slower when running in series.\n  - asynchronous can become faster when concurrency is high.\n\nConclusion:\n  - use asynchronous by default it will be kinder to your main event loop and is pretty fast anyway.\n  - use synchronous only if you really want the highest performance and expect low concurrency.\n  - of course you can also use synchronous simply to reduce code depth. If you don't expect a huge load it will be ok.\n  - DO NOT USE synchronous parsing if there is some includes in your XSL stylesheets.\n\nEnvironment compatibility\n-------------------------\n\nFor now 64bits linux and 32bits windows are confirmed. Other environments are probably ok, but not checked. Please report an issue if you encounter some difficulties.\n\nNode-libxslt depends on [node-gyp](https://github.com/TooTallNate/node-gyp), you will need to meet its requirements. This can be a bit painful mostly for windows users. The node-gyp version bundled in your npm will have to be greater than 0.13.0, so you might have to follow [these instructions to upgrade](https://github.com/TooTallNate/node-gyp/wiki/Updating-npm's-bundled-node-gyp). There is no system dependancy otherwise, libxslt is bundled in the project.\n\nAPI Reference\n=============\n  Node.js bindings for libxslt compatible with libxmljs\n\n<a name=\"module_libxslt.libxmljs\"></a>\n### libxslt.libxmljs\nThe libxmljs module. Prevents the need for a user's code to require it a second time. Also prevent weird bugs.\n\n**Kind**: static property of <code>[libxslt](#module_libxslt)</code>  \n<a name=\"module_libxslt.parse\"></a>\n### libxslt.parse(source, [callback]) ⇒ <code>Stylesheet</code>\nParse a XSL stylesheet\n\nIf no callback is given the function will run synchronously and return the result or throw an error.\n\n**Kind**: static method of <code>[libxslt](#module_libxslt)</code>  \n**Returns**: <code>Stylesheet</code> - Only if no callback is given.  \n\n| Param | Type | Description |\n| --- | --- | --- |\n| source | <code>string</code> &#124; <code>Document</code> | The content of the stylesheet as a string or a [libxmljs document](https://github.com/polotek/libxmljs/wiki/Document) |\n| [callback] | <code>parseCallback</code> | The callback that handles the response. Expects err and Stylesheet object. |\n\n<a name=\"module_libxslt.parseFile\"></a>\n### libxslt.parseFile(sourcePath, callback)\nParse a XSL stylesheet\n\n**Kind**: static method of <code>[libxslt](#module_libxslt)</code>  \n\n| Param | Type | Description |\n| --- | --- | --- |\n| sourcePath | <code>stringPath</code> | The path of the file |\n| callback | <code>parseFileCallback</code> | The callback that handles the response. Expects err and Stylesheet object. |\n\n<a name=\"module_libxslt..Stylesheet\"></a>\n### libxslt~Stylesheet\n**Kind**: inner class of <code>[libxslt](#module_libxslt)</code>  \n\n* [~Stylesheet](#module_libxslt..Stylesheet)\n    * [new Stylesheet(stylesheetDoc, stylesheetObj)](#new_module_libxslt..Stylesheet_new)\n    * [.apply(source, [params], [options], [callback])](#module_libxslt..Stylesheet+apply) ⇒ <code>string</code> &#124; <code>Document</code>\n    * [.applyToFile(sourcePath, [params], [options], callback)](#module_libxslt..Stylesheet+applyToFile)\n\n<a name=\"new_module_libxslt..Stylesheet_new\"></a>\n#### new Stylesheet(stylesheetDoc, stylesheetObj)\nA compiled stylesheet. Do not call this constructor, instead use parse or parseFile.\n\nstore both the source document and the parsed stylesheet\nif we don't store the stylesheet doc it will be deleted by garbage collector and it will result in segfaults.\n\n\n| Param | Type | Description |\n| --- | --- | --- |\n| stylesheetDoc | <code>Document</code> | XML document source of the stylesheet |\n| stylesheetObj | <code>Document</code> | Simple wrapper of a libxslt stylesheet |\n\n<a name=\"module_libxslt..Stylesheet+apply\"></a>\n#### stylesheet.apply(source, [params], [options], [callback]) ⇒ <code>string</code> &#124; <code>Document</code>\nApply a stylesheet to a XML document\n\nIf no callback is given the function will run synchronously and return the result or throw an error.\n\n**Kind**: instance method of <code>[Stylesheet](#module_libxslt..Stylesheet)</code>  \n**Returns**: <code>string</code> &#124; <code>Document</code> - Only if no callback is given. Type is the same as the source param.  \n\n| Param | Type | Description |\n| --- | --- | --- |\n| source | <code>string</code> &#124; <code>Document</code> | The XML content to apply the stylesheet to given as a string or a [libxmljs document](https://github.com/polotek/libxmljs/wiki/Document) |\n| [params] | <code>object</code> | Parameters passed to the stylesheet ([http://www.w3schools.com/xsl/el_with-param.asp](http://www.w3schools.com/xsl/el_with-param.asp)) |\n| [options] | <code>applyOptions</code> | Options |\n| [callback] | <code>applyCallback</code> | The callback that handles the response. Expects err and result of the same type as the source param passed to apply. |\n\n<a name=\"module_libxslt..Stylesheet+applyToFile\"></a>\n#### stylesheet.applyToFile(sourcePath, [params], [options], callback)\nApply a stylesheet to a XML file\n\n**Kind**: instance method of <code>[Stylesheet](#module_libxslt..Stylesheet)</code>  \n\n| Param | Type | Description |\n| --- | --- | --- |\n| sourcePath | <code>string</code> | The path of the file to read |\n| [params] | <code>object</code> | Parameters passed to the stylesheet ([http://www.w3schools.com/xsl/el_with-param.asp](http://www.w3schools.com/xsl/el_with-param.asp)) |\n| [options] | <code>applyOptions</code> | Options |\n| callback | <code>applyToFileCallback</code> | The callback that handles the response. Expects err and result as string. |\n\n<a name=\"module_libxslt..parseCallback\"></a>\n### libxslt~parseCallback : <code>function</code>\nCallback to the parse function\n\n**Kind**: inner typedef of <code>[libxslt](#module_libxslt)</code>  \n\n| Param | Type |\n| --- | --- |\n| [err] | <code>error</code> |\n| [stylesheet] | <code>Stylesheet</code> |\n\n<a name=\"module_libxslt..parseFileCallback\"></a>\n### libxslt~parseFileCallback : <code>function</code>\nCallback to the parseFile function\n\n**Kind**: inner typedef of <code>[libxslt](#module_libxslt)</code>  \n\n| Param | Type |\n| --- | --- |\n| [err] | <code>error</code> |\n| [stylesheet] | <code>Stylesheet</code> |\n\n<a name=\"module_libxslt..applyOptions\"></a>\n### libxslt~applyOptions\nOptions for applying a stylesheet\n\n**Kind**: inner typedef of <code>[libxslt](#module_libxslt)</code>  \n**Properties**\n\n| Name | Type | Description |\n| --- | --- | --- |\n| outputFormat | <code>String</code> | Force the type of the output, either 'document' or 'string'. Default is to use the type of the input. |\n| noWrapParams | <code>boolean</code> | If true then the parameters are XPath expressions, otherwise they are treated as strings. Default is false. |\n\n<a name=\"module_libxslt..applyCallback\"></a>\n### libxslt~applyCallback : <code>function</code>\nCallback to the Stylesheet.apply function\n\n**Kind**: inner typedef of <code>[libxslt](#module_libxslt)</code>  \n\n| Param | Type | Description |\n| --- | --- | --- |\n| [err] | <code>error</code> | Error either from parsing the XML document if given as a string or from applying the styleshet |\n| [result] | <code>string</code> &#124; <code>Document</code> | Result of the same type as the source param passed to apply |\n\n<a name=\"module_libxslt..applyToFileCallback\"></a>\n### libxslt~applyToFileCallback : <code>function</code>\nCallback to the Stylesheet.applyToFile function\n\n**Kind**: inner typedef of <code>[libxslt](#module_libxslt)</code>  \n\n| Param | Type | Description |\n| --- | --- | --- |\n| [err] | <code>error</code> | Error either from reading the file, parsing the XML document or applying the styleshet |\n| [result] | <code>string</code> |  |\n\n*documented by [jsdoc-to-markdown](https://github.com/75lb/jsdoc-to-markdown)*.\n","starsCount":3,"created":"2014-08-20T11:25:54.560Z","modified":"2017-04-26T13:55:00.760Z","lastPublisher":{"name":"alban","email":"alban.mouton@gmail.com"},"owners":[{"name":"alban","email":"alban.mouton@gmail.com"},{"name":"gagern","email":"Martin.vGagern@gmx.net"}],"other":{"_attachments":{},"_from":".","_id":"libxslt","_nodeVersion":"7.4.0","_npmOperationalInternal":{"host":"packages-12-west.internal.npmjs.com","tmp":"tmp/libxslt-0.6.5.tgz_1487162934205_0.6125199724920094"},"_npmUser":{"name":"alban","email":"alban.mouton@gmail.com"},"_npmVersion":"4.0.5","_rev":"4-41685c396836cb155c9110538d4ace61","_shasum":"0144c47a1871d172af6f6ab8d54074e5c8924818","author":{"name":"Alban Mouton","email":"alban.mouton@gmail.com"},"bugs":{"url":"https://github.com/albanm/node-libxslt/issues"},"contributors":[{"name":"Rui Azevedo","email":"ruihfazevedo@gmail.com","url":"http://www.r-site.net/"}],"directories":{},"dist-tags":{"latest":"0.6.5"},"dist":{"shasum":"0144c47a1871d172af6f6ab8d54074e5c8924818","tarball":"https://registry.npmjs.org/libxslt/-/libxslt-0.6.5.tgz"},"maintainers":[{"name":"alban","email":"alban.mouton@gmail.com"},{"name":"gagern","email":"Martin.vGagern@gmx.net"}],"readmeFilename":"README.md","time":{"modified":"2017-04-26T13:55:00.760Z","created":"2014-08-20T11:25:54.560Z","0.1.0":"2014-08-20T11:25:54.560Z","0.1.3":"2014-08-20T11:49:26.765Z","0.1.4":"2014-08-20T20:07:30.892Z","0.1.5":"2014-09-09T18:48:49.205Z","0.2.0":"2014-09-11T20:47:41.739Z","0.2.1":"2014-11-24T14:32:00.420Z","0.2.2":"2014-12-16T21:20:31.227Z","0.3.0":"2015-01-13T20:57:09.970Z","0.4.0":"2015-01-21T10:55:30.205Z","0.4.1":"2015-02-01T19:10:01.401Z","0.5.0":"2015-07-08T23:18:22.146Z","0.5.1":"2015-07-09T18:44:25.567Z","0.5.2":"2015-07-12T20:10:48.699Z","0.5.3":"2015-08-31T19:01:43.975Z","0.5.4":"2015-09-08T20:01:30.869Z","0.6.0":"2015-11-20T20:44:27.869Z","0.6.1":"2016-01-03T16:26:54.738Z","0.6.2":"2016-01-13T12:03:44.495Z","0.6.3":"2016-01-13T12:13:45.150Z","0.6.4":"2017-02-14T22:21:07.360Z","0.6.5":"2017-02-15T12:48:57.091Z"},"users":{"benoror":true,"neu-rah":true,"adammc":true}}}