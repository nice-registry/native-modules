{"name":"flac-seektable","version":"0.1.2","description":"Stream tap for generating a seek table for a FLAC file stream.","main":"index.js","scripts":{"test":"node test/test | tap-spec","install":"node-gyp rebuild"},"repository":"https://github.com/lammas/flac-seektable","keywords":["flac","seek","seektable","seekpoint"],"license":"MIT","homepage":"https://github.com/lammas/flac-seektable#readme","devDependencies":{"tap-spec":"^4.1.1","tape":"^4.6.0"},"dependencies":{"nan":"^2.4.0"},"gypfile":true,"gitHead":"2a88b127d853d5e301a865c8eda688eb9c51d2d7","versions":[{"number":"0.1.0","date":"2016-09-05T08:31:39.114Z"},{"number":"0.1.2","date":"2017-08-02T18:26:47.952Z"}],"readme":"# flac-seektable\n\nNode.js stream tap for generating a seek table for a FLAC file stream.\nIt also supports extracting some of the metadata in the FLAC header (StreamInfo and Vorbis Comments blocks).\n\n## Install\n\n```sh\n# install dependencies\napt-get install libflac-dev\n\n# install the node module\nnpm install flac-seektable\n```\n\n## Limitations\n\n* Currently only generates the seek table at 1s intervals.\n* Errors detected during FLAC decoding are not propagated to the JS side.\n* The Vorbis comments data is forwarded as-is and the key-value pairs are not parsed.\n\nAll of the above limitations will be addressed in future releases.\n\n## Usage\n\n```javascript\nconst fs = require('fs');\nconst seektable = require('flac-seektable');\n\nvar reader = fs.createReadStream('input.flac');\nvar writer = fs.createWriteStream('output.flac');\nreader\n\t.pipe(new seektable(function(data) {\n\t\tconsole.log(data);\n\t\t/* would output a structure similar to this (or false in case an error occurred):\n\t\t{\n\t\t\tseekpoints: [\n\t\t\t\t{ sample: 0, offset: 0 },\n\t\t\t\t{ sample: 12288, offset: 11347 },\n\t\t\t\t{ sample: 28672, offset: 25690 },\n\t\t\t\t... etc ...\n\t\t\t],\n\t\t\taudio_offset: 136,\n\t\t\tmin_blocksize: 4096,\n\t\t\tmax_blocksize: 4096,\n\t\t\tmin_framesize: 555,\n\t\t\tmax_framesize: 4300,\n\t\t\tsample_rate: 16000,\n\t\t\tchannels: 1,\n\t\t\tbits_per_sample: 16,\n\t\t\ttotal_samples: 107200,\n\t\t\tvendor: 'reference libFLAC 1.3.0 20130526',\n\t\t\tmd5sum: 'e95f39f3d8b28b55181283cfd7ac98e7',\n\t\t\ttags: [\n\t\t\t\t// Vorbis Comment format key-value pairs\n\t\t\t\t'Comment=Processed by SoX'\n\t\t\t]\n\t\t}\n\t\t*/\n\t}))\n\t.pipe(writer);\n```\n\n### The seekpoints\n\n```javascript\n{\n\tsample: 123, // The sample number\n\toffset: 321  // The offset from the start of the audio stream\n}\n\n// The absolute seek position in the FLAC file would then be:\ndata.audio_offset + data.seekpoints[n].offset\n// Where n is an integer in the range [0, data.seekpoints.length)\n```\n","created":"2016-09-05T08:31:39.114Z","modified":"2017-08-02T18:26:47.952Z","lastPublisher":{"name":"lammas","email":"lammas@gmail.com"},"owners":[{"name":"lammas","email":"lammas@gmail.com"}],"other":{"_attachments":{},"_id":"flac-seektable","_nodeVersion":"8.2.1","_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/flac-seektable-0.1.2.tgz_1501698406842_0.3868096002843231"},"_npmUser":{"name":"lammas","email":"lammas@gmail.com"},"_npmVersion":"5.3.0","_rev":"2-8fe2d0d2995a1feea8e4677fe393e0b1","author":{"name":"lammas"},"bugs":{"url":"https://github.com/lammas/flac-seektable/issues"},"directories":{},"dist-tags":{"latest":"0.1.2"},"dist":{"integrity":"sha512-5gbssILy6GWGovqOElXqVty+dqjMJ4aKf4N+FIsfFp2okh2U3Q1irdK+aPOTOJFeRTzfgwO+D+z6ryUUKizueg==","shasum":"4c1a89711d48c6481fb991a1dd62afde34e3d86a","tarball":"https://registry.npmjs.org/flac-seektable/-/flac-seektable-0.1.2.tgz"},"maintainers":[{"name":"lammas","email":"lammas@gmail.com"}],"readmeFilename":"README.md","time":{"modified":"2017-08-02T18:26:47.952Z","created":"2016-09-05T08:31:39.114Z","0.1.0":"2016-09-05T08:31:39.114Z","0.1.2":"2017-08-02T18:26:47.952Z"}}}