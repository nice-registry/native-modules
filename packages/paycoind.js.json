{"name":"paycoind.js","description":"Node binding for paycoind","version":"0.0.8","main":"./index.js","repository":"https://github.com/bitpay/paycoind.js","homepage":"https://github.com/bitpay/paycoind.js","scripts":{"preinstall":"./bin/build-libpaycoind","install":"./bin/build-bindings","start":"export LD_LIBRARY_PATH=`./platform/os.sh osdir` && node example","debug_install":"./bin/build-libpaycoind debug && ./bin/build-bindings debug"},"tags":["paycoin","paycoind"],"dependencies":{"bindings":"^1.2.1","mkdirp":"0.5.0","nan":"1.3.0","tiny":"0.0.10"},"devDependencies":{"async":"1.2.1","benchmark":"1.0.0","paycoin":"^2.3.2","bitcore":"^0.12.12","chai":"^3.0.0","mocha":"~1.16.2","sinon":"^1.15.4"},"gitHead":"a31d9bcc37f9401b9a886fcc9c025103336c3f3a","versions":[{"number":"0.0.8","date":"2015-12-28T22:00:49.136Z"}],"readme":"# paycoind.js\n\nA Node.js module that adds a native interface to Paycoin Core for querying information about the Paycoin blockchain. Bindings are linked to Bitcore Core compiled as a shared library.\n\n## Example Usage\n\n``` js\nvar paycoind = require('paycoind.js')({\n  directory: '~/.paycoin',\n  testnet: true\n});\n\npaycoind.on('ready', function() {\n\n  paycoind.getBlock(blockHash, function(err, block) {\n    // block is a node buffer\n  }\n\n  paycoind.close(function(err, result) {\n    // paycoind is stopped\n  });\n});\n\n```\n\nYou can log output from the daemon using:\n\n``` bash\n$ tail -f ~/.paycoin/debug.log\n```\n\n^C (SIGINT) will call `StartShutdown()` in paycoind on the node thread pool.\n\n## Documentation\n\n- `paycoind.start([options], [callback])` - Start the JavaScript Paycoin node.\n- `paycoind.getBlock(blockHash|blockHeight, callback)` - Get any block asynchronously by block hash or height as a node buffer.\n- `paycoind.getTransaction(txid, blockhash, callback)` - Get any tx asynchronously by reading it from disk.\n- `paycoind.log(message), paycoind.info(message)` - Log to standard output.\n- `paycoind.error(message)` - Log to stderr.\n- `paycoind.close([callback])` - Stop the JavaScript paycoin node safely, the callback will be called when paycoind is closed. This will also be done automatically on `process.exit`. It also takes the paycoind node off the libuv event loop. If the paycoind object is the only thing on the event loop. Node will simply close.\n\n## Building\n\nThere are two main parts of the build, compiling Paycoin Core and the Node.js bindings. You can run both by using `npm install` and `npm run debug_install`.\n\n### Node.js Bindings\n\n```bash\n$ node-gyp rebuild\n```\n\nAnd then with debug:\n\n```bash\n$ node-gyp -d rebuild\n```\n\nTo be able to debug you'll need to have `gdb` and `node` compiled for debugging with gdb using `--gdb` (node_g), and you can then run:\n\n```bash\n$ gdb --args node_g path/to/example.js\n```\n\nTo run integration tests against testnet or livenet data:\n\n```bash\n$ cd integration\n// modify index.js configuration, and then run mocha\n$ mocha -R spec index.js\n```\n\nTo run the benchmarks (also with livenet or testnet data):\n\n```bash\n$ cd benchmarks\n$ node index.js\n```\n\n### Paycoin Core\n\n#### Dependencies\n\nMost of all the dependencies for building Paycoin Core are needed, for more information please see the build notes for [Unix](https://github.com/paycoin/paycoin/blob/master/doc/build-unix.md) and [Mac OS X](https://github.com/paycoin/paycoin/blob/master/doc/build-osx.md). These dependencies are needed:\n\n- Boost\n  - Boost Header Files (`/usr/include/boost`)\n  - The Boost header files can be from your distro (like Debian or Ubuntu), just be sure to install the \"-dev\" versions of Boost (`sudo apt-get install libboost-all-dev`).\n\n- OpenSSL headers and libraries (-lcrypto and -lssl), this is used to compile Paycoin.\n\n- If target platform is Mac OS X, then OS X >= 10.9, Clang and associated linker.\n\n#### Shared Library Patch\n\nTo provide native bindings to JavaScript *(or any other language for that matter)*, Paycoin code, itself, must be linkable. Currently, Paycoin Core provides a JSON RPC interface to paycoind as well as a shared library for script validation *(and hopefully more)* called libpaycoinconsensus. There is a node module, [node-libpaycoinconsensus](https://github.com/bitpay/node-libpaycoinconsensus), that exposes these methods. While these interfaces are useful for several use cases, there are additional use cases that are not fulfilled, and being able to implement customized interfaces is necessary. To be able to do this a few simple changes need to be made to Paycoin Core to compile as a shared library.\n\nThe patch is located at `etc/paycoin.patch` and adds a configure option `--enable-daemonlib` to compile all object files with `-fPIC` (Position Independent Code - needed to create a shared object), exposes leveldb variables and objects, exposes the threadpool to the bindings, and conditionally includes the main function.\n\nEvery effort will be made to ensure that this patch stays up-to-date with the latest release of Paycoin. At the very least, this project began supporting Paycoin Core v0.10.2.\n\n#### Building\n\nThere is a build script that will download Paycoin Core v0.10.2 and apply the necessary patch, compile `libpaycoind.{so|dylib}` and copy the artifact into `platform/<os_dir>`. Unix/Linux uses the file extension \"so\" whereas Mac OSX uses \"dylib\" *(paycoind compiled as a shared library)*.\n\n```bash\n$ cd /path/to/paycoind.js\n$ ./bin/build-libpaycoind\n```\n\nThe first argument is 'debug', this will compile node bindings and paycoind with debug flags. The `PATCH_VERSION` file dictates what version/tag the patch goes clean against.\n\nThere is a config_options.sh that has the configure options used to build libpaycoind. `make` will then compile `libpaycoind/src/.libs/libpaycoind.{so|dylib}`. This will completely ignore compiling tests, QT object files and the wallet features in `paycoind/libpaycoind.{so|dylib}`.\n\nOr you can also manually compile using:\n\nconfigure and make (Linux/Unix)\n\n```bash\n$ cd libpaycoind\n$ ./configure --enable-tests=no --enable-daemonlib --with-gui=no --without-qt --without-miniupnpc --without-bdb --enable-debug --disable-wallet --without-utils\n$ make\n```\nconfigure and make (Mac OS X) --note the addition of prefix to the location where the libpaycoind library will be installed.\n\n```bash\n$ cd libpaycoind\n$ ./configure --enable-tests=no --enable-daemonlib --with-gui=no --without-qt --without-miniupnpc --without-bdb --enable-debug --disable-wallet --without-utils --prefix=<os_dir/lib>\n$ make\n```\nAnd then copy the files (with Unix/Linux):\n\n```bash\n$ cp -P libpaycoind/src/.libs/libpaycoind.so* platform/<os_dir>\n```\n\nWith Mac OS X:\n```bash\n$ cp -R libpaycoind/src/.libs/libpaycoind.*dylib platform/osx/lib\n```\n\n## License\n\nCode released under [the MIT license](https://github.com/bitpay/paycoind.js/blob/master/LICENSE).\n\nCopyright 2013-2015 BitPay, Inc.\n\n- paycoin: Copyright (c) 2009-2015 Paycoin Core Developers (MIT License)\n- bcoin (some code borrowed temporarily): Copyright Fedor Indutny, 2014.\n","created":"2015-12-28T22:00:49.136Z","modified":"2015-12-28T22:00:49.136Z","lastPublisher":{"name":"rdewilde","email":"email@robertdewilde.nl"},"owners":[{"name":"rdewilde","email":"email@robertdewilde.nl"}],"other":{"_attachments":{},"_from":".","_id":"paycoind.js","_nodeVersion":"0.12.7","_npmUser":{"name":"rdewilde","email":"email@robertdewilde.nl"},"_npmVersion":"2.11.3","_rev":"1-cb4a061c2a46d98904b4ea696c3cec8c","_shasum":"a6c895a1f51e9dfe66d0d19c2bb3f36a9a9f705e","author":{"name":"BitPay","email":"dev@bitpay.com"},"bugs":{"url":"https://github.com/bitpay/paycoind.js/issues"},"contributors":[{"name":"Christopher Jeffrey"},{"name":"Braydon Fuller","email":"braydon@bitpay.com"},{"name":"Chris Kleeschulte","email":"chrisk@bitpay.com"}],"directories":{},"dist-tags":{"latest":"0.0.8"},"dist":{"shasum":"a6c895a1f51e9dfe66d0d19c2bb3f36a9a9f705e","tarball":"http://registry.npmjs.org/paycoind.js/-/paycoind.js-0.0.8.tgz"},"maintainers":[{"name":"rdewilde","email":"email@robertdewilde.nl"}],"readmeFilename":"README.md","time":{"modified":"2015-12-28T22:00:49.136Z","created":"2015-12-28T22:00:49.136Z","0.0.8":"2015-12-28T22:00:49.136Z"}}}