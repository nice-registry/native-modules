{"name":"ustcmirror","version":"0.1.6","description":"Aims to provide effortless management of docker containers on USTC Mirrors","main":"dist/index.js","repository":"https://github.com/ustclug/ustcmirror","scripts":{"test":"NODE_ENV=test ava --no-cache","dev":"babel -wd dist src","pub":"npm run build && npm publish","lint":"eslint src","install":"node-gyp rebuild","doc":"apidoc -i src/routes -f api.js","build":"NODE_ENV=production babel -d dist src && node-gyp rebuild","build:dev":"babel -d dist src && node-gyp rebuild","yukid":"NODE_ENV=production dist/index.js daemon","yukid:dev":"NODE_ENV=dev dist/index.js daemon","yukid:test":"NODE_ENV=test dist/index.js daemon"},"license":"MIT","dependencies":{"babel-runtime":"^6.22.0","bluebird":"^3.4.7","commander":"^2.9.0","dockode":"^1.0.1","koa":"^2.0.0","koa-bodyparser":"^3.2.0","koa-router":"^7.1.0","mongoose":"^4.8.3","nan":"^2.5.1","node-fetch":"^1.6.3","node-schedule":"^1.2.0","winston":"^2.3.1"},"preferGlobal":true,"bin":{"yuki":"dist/index.js","ustcmirror":"dist/index.js"},"engines":{"node":">=6"},"devDependencies":{"ava":"^0.18.1","babel-cli":"^6.22.2","babel-eslint":"^7.1.1","babel-plugin-add-module-exports":"^0.2.1","babel-plugin-transform-runtime":"^6.22.0","babel-preset-babili":"0.0.11","babel-preset-env":"^1.1.6","babel-register":"^6.22.0","eslint":"^3.15.0","eslint-plugin-import":"^2.2.0"},"babel":{"presets":[["env",{"node":6}]],"env":{"production":{"presets":["babili"]}},"plugins":["add-module-exports",["transform-runtime",{"polyfill":false,"regenerator":true}]]},"ava":{"require":["babel-register"],"babel":"inherit","failFast":true,"verbose":true,"files":["test/*.js"]},"gitHead":"1d3190dfc389a4d262cba5784535b5a76441d9e1","gypfile":true,"homepage":"https://github.com/ustclug/ustcmirror#readme","versions":[{"number":"0.0.1","date":"2017-02-02T19:15:16.462Z"},{"number":"0.0.2","date":"2017-02-02T19:19:26.083Z"},{"number":"0.0.3","date":"2017-02-02T19:24:40.965Z"},{"number":"0.0.4","date":"2017-02-03T03:26:10.027Z"},{"number":"0.1.0","date":"2017-02-03T04:28:55.871Z"},{"number":"0.1.1","date":"2017-02-03T05:41:41.111Z"},{"number":"0.1.2","date":"2017-02-03T06:22:38.624Z"},{"number":"0.1.3","date":"2017-02-05T13:48:51.508Z"},{"number":"0.1.4","date":"2017-02-15T15:38:56.341Z"},{"number":"0.1.5","date":"2017-02-17T10:27:27.447Z"},{"number":"0.1.6","date":"2017-02-17T13:04:03.810Z"}],"readme":"ustcmirror\n==========\n\n\n[![Build Status](https://travis-ci.org/ustclug/ustcmirror.svg?branch=master)](https://travis-ci.org/ustclug/ustcmirror)\n\n- [Introduction](#introduction)\n- [Dependencies](#dependencies)\n- [Quickstart](#quickstart)\n- [API Documentation](#api-documentation)\n- [Configuration](#configuration)\n    - [Server side](#server-side)\n    - [Client side](#client-side)\n\n# Introduction\n\nAims to provide effortless management of docker containers on USTC Mirrors\n\n# Dependencies\n\n* Node.js > 6\n* Docker\n* MongoDB\n* python (building dep)\n* make (building dep)\n* g++ (building dep)\n\n# Quickstart\n\n```\nnpm i -g ustcmirror\n```\n\nSpecify the ip address to be bound in either `/etc/ustcmirror/config.json` or `~/.ustcmirror/config.json`:\n\n```\n$ cat ~/.ustcmirror/config.json\n{\n    \"BIND_ADDRESS\": \"1.2.3.4\",\n    \"LOGDIR_ROOT\": \"/home/knight/logs\"\n}\n```\n\nStart a mongo instance:\n\n```\ndocker run --name mongo -p 127.0.0.1:27017:27017 -tid mongo:3.4\n```\n\nRun the daemon in debug mode:\n\n```\nNODE_ENV=dev ustcmirror daemon\n```\n\nPlay with the CLI:\n\n```\nustcmirror -h\n```\n\n# API Documentation\n\n* [Routes](https://ustclug.github.io/ustcmirror/)\n\n# Configuration\n\nGlobal configuration: `/etc/ustcmirror/config.(js|json)`\n\nUser-specific configuration: `~/.ustcmirror/config.(js|json)`\n\n### Server side\n\n| Parameter | Description |\n|-----------|-------------|\n| `DB_USER` | Defaults to empty. |\n| `DB_PASSWD` | Defaults to empty. |\n| `DB_HOST` | Defaults to `127.0.0.1`. |\n| `DB_NAME` | Defaults to `mirror`. |\n| `DB_PORT` | Defaults to `27017`. |\n| `API_PORT` | Defaults to `9999`. |\n| `DOCKERD_PORT` | Defaults to `2375`. |\n| `DOCKERD_HOST` | Defaults to `127.0.0.1`. |\n| `DOCKERD_SOCKET` | Defaults to `/var/run/docker.sock`. |\n| `BIND_ADDRESS` | Defaults to empty. |\n| `CT_LABEL` | Defaults to `syncing`. |\n| `CT_NAME_PREFIX` | Defaults to `syncing`. |\n| `LOGDIR_ROOT` | Defaults to `/var/log/ustcmirror`. |\n| `IMAGES_UPGRADE_INTERVAL` | Defaults to `1 * * * *`. |\n| `LOGLEVEL` | Defaults to `debug` if `NODE_ENV == 'dev'` else `warn`. |\n| `OWNER` | Defaults to `${process.getuid()}:${process.getgid()}` |\n| `TIMESTAMP` | Defaults to `true` |\n\n### Client side\n\n| Parameter | Description |\n|-----------|-------------|\n| `API_ROOT` | Defaults to `http://localhost:${API_PORT}/`. |\n","starsCount":1,"created":"2017-02-02T19:15:16.462Z","modified":"2017-03-23T14:47:29.133Z","lastPublisher":{"name":"ustclugbot","email":"bot@ustclug.org"},"owners":[{"name":"knight_42","email":"anonymousknight96+npm@gmail.com"},{"name":"ustclugbot","email":"bot@ustclug.org"}],"other":{"_attachments":{},"_from":".","_id":"ustcmirror","_nodeVersion":"6.9.5","_npmOperationalInternal":{"host":"packages-18-east.internal.npmjs.com","tmp":"tmp/ustcmirror-0.1.6.tgz_1487336643278_0.8523009975906461"},"_npmUser":{"name":"ustclugbot","email":"bot@ustclug.org"},"_npmVersion":"3.10.10","_rev":"14-267320e959d8dbc227426f53271dd1e9","_shasum":"0da62a07137517b7b6d3a587142875391d9e4e2c","author":{"name":"knight_42","email":"anonymousknight96@gmail.com"},"bugs":{"url":"https://github.com/ustclug/ustcmirror/issues"},"directories":{},"dist-tags":{"latest":"0.1.6"},"dist":{"shasum":"0da62a07137517b7b6d3a587142875391d9e4e2c","tarball":"https://registry.npmjs.org/ustcmirror/-/ustcmirror-0.1.6.tgz"},"maintainers":[{"name":"knight_42","email":"anonymousknight96+npm@gmail.com"},{"name":"ustclugbot","email":"bot@ustclug.org"}],"readmeFilename":"README.md","time":{"modified":"2017-03-23T14:47:29.133Z","created":"2017-02-02T19:15:16.462Z","0.0.1":"2017-02-02T19:15:16.462Z","0.0.2":"2017-02-02T19:19:26.083Z","0.0.3":"2017-02-02T19:24:40.965Z","0.0.4":"2017-02-03T03:26:10.027Z","0.1.0":"2017-02-03T04:28:55.871Z","0.1.1":"2017-02-03T05:41:41.111Z","0.1.2":"2017-02-03T06:22:38.624Z","0.1.3":"2017-02-05T13:48:51.508Z","0.1.4":"2017-02-15T15:38:56.341Z","0.1.5":"2017-02-17T10:27:27.447Z","0.1.6":"2017-02-17T13:04:03.810Z"},"users":{"knight_42":true}}}