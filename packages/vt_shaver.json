{"name":"vt_shaver","version":"0.0.2-beta","description":"Project","main":"./lib/index.js","scripts":{"test":"tape test/*.test.js","preinstall":"npm install node-pre-gyp","install":"node-pre-gyp install --fallback-to-build","docs":"documentation build src/*.cpp --polyglot -f md -o API.md"},"license":"ISC","dependencies":{"nan":"^2.3.5","node-pre-gyp":"^0.6.28","protozero":"~1.3.0"},"devDependencies":{"aws-sdk":"^2.4.7","documentation":"^4.0.0-beta5","mapnik":"3.5.x","tape":"^4.5.1"},"binary":{"module_name":"vt_shaver","module_path":"./lib/binding/","host":"https://mapbox-node-binary.s3.amazonaws.com","remote_path":"./{name}/v{version}/{configuration}/","package_name":"{node_abi}-{platform}-{arch}.tar.gz"},"gitHead":"11ca2bb8114c8f7f18efa2aef9e77a0e20c13fa8","versions":[{"number":"0.0.2-beta","date":"2016-07-15T19:41:33.801Z"}],"readme":"# Vector Tile Shaver - C++ version\n\n[![Build Status](https://travis-ci.com/mapbox/vt-shaver-cpp.svg?token=XUVmCBVxtg4Px9i4scss&branch=master)](https://travis-ci.com/mapbox/vt-shaver-cpp)\n\n*Style-driven vector tile size reduction.* The shaver takes a **Mapbox Vector Tile** and a **Mapbox GL Style** and removes layers in the tile that are not used by the style to reduce the size of the tile. [Javascript version found here](https://github.com/mapbox/vt-shaver).\n\n# Installation\n\n```bash\nnpm install vt-shaver-cpp # some sort of internal publish at some point\n```\n\n# Usage\n\n### `require`\n\n```javascript\nvar shaver = require('vt-shaver-cpp');\n```\n\n### `styleToFilters(style)`\n\nTakes a Mapbox GL Style JSON and returns an optimized filter object for use within the shaver.\n\n```javascript\nvar style = require('/path/to/style.json');\nvar filters = shaver.styleToFilters(style);\nconsole.log(filters);\n// {\n//   \"poi_label\": [\"!=\",\"maki\",\"cafe\"],\n//   \"road\": [\"==\",\"class\",\"path\"],\n//   ...\n// }\n```\n\n### `shave(tile, options, callback)`\n\nTakes a Mapbox Vector Tile `.mvt` buffer and compares it to a Mapbox GL Style-based filter object to remove unused layers and features. You can create a filter object with the `shave.styleToFilters()` method.\n\n```javascript\nvar fs = require('fs');\n\nvar buffer = fs.readFileSync('/path/to/vector-tile.mvt');\nvar style = require('/path/to/style.json');\n\nvar options = {\n  filters: shaver.styleToFilters(style)\n};\n\nshaver.shave(buffer, {filters: filters}, function(err, shavedTile) {\n  if (err) throw err;\n  console.log(shavedTile); // => vector tile buffer\n});\n```\n\n# Test\n\n```\nnpm test\n```\n\n# Develop\n\nInstall dependencies\n\n```\nmake setup_mapboxgl\nmake node_modules\n```\n\nBuild binaries\n\n```\nmake\n```\n\n# Docs\n\nDocumentation is generated using Documentation.js `--polyglot` mode. Generate docs in `API.md` by running:\n\n```\nmake docs\n```\n","created":"2016-07-15T19:41:33.801Z","modified":"2016-07-15T19:41:33.801Z","lastPublisher":{"name":"mapsam","email":"sam@mapbox.com"},"owners":[{"name":"mapsam","email":"sam@mapbox.com"}],"other":{"_attachments":{},"_from":".","_id":"vt_shaver","_nodeVersion":"4.4.5","_npmOperationalInternal":{"host":"packages-16-east.internal.npmjs.com","tmp":"tmp/vt_shaver-0.0.2-beta.tgz_1468611691746_0.26869239867664874"},"_npmUser":{"name":"mapsam","email":"sam@mapbox.com"},"_npmVersion":"2.15.5","_rev":"1-fa24089b7a929d80f0b83effe632d947","_shasum":"ef98a612a31abe22123aaa82b86121fa62d64c86","author":{"name":"Mapbox"},"directories":{},"dist-tags":{"latest":"0.0.2-beta"},"dist":{"shasum":"ef98a612a31abe22123aaa82b86121fa62d64c86","tarball":"http://registry.npmjs.org/vt_shaver/-/vt_shaver-0.0.2-beta.tgz"},"maintainers":[{"name":"mapsam","email":"sam@mapbox.com"}],"readmeFilename":"README.md","time":{"modified":"2016-07-15T19:41:33.801Z","created":"2016-07-15T19:41:33.801Z","0.0.2-beta":"2016-07-15T19:41:33.801Z"}}}