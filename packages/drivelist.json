{"name":"drivelist","version":"5.1.5","description":"List all connected drives in your computer, in all major operating systems","main":"lib/drivelist.js","homepage":"https://github.com/resin-io-modules/drivelist","gypfile":true,"repository":"https://github.com/resin-io-modules/drivelist","keywords":["disk","cross","platform","physical","drive","list"],"scripts":{"test":"npm run lint && mocha --recursive tests -R spec","compile-scripts":"node scripts/compile.js","lint":"eslint lib tests example && cpplint --recursive src","readme":"jsdoc2md --template doc/README.hbs lib/drivelist.js > README.md","configure":"node-gyp configure","build":"node-gyp build","rebuild":"node-gyp rebuild","install":"node-gyp rebuild"},"bin":{"drivelist-darwin":"scripts/darwin.sh","drivelist-linux":"scripts/linux.sh"},"license":"Apache-2.0","devDependencies":{"eslint":"^4.0.0","jsdoc-to-markdown":"^3.0.0","mocha":"^3.4.2","mochainon":"^1.0.0"},"dependencies":{"bindings":"^1.2.1","debug":"^2.6.0","js-yaml":"^3.4.1","lodash":"^4.16.4","nan":"^2.6.2"},"gitHead":"6e5cfcb6fc51957930cbb3bd786d83f1556ae658","versions":[{"number":"1.0.0","date":"2015-01-30T15:32:11.464Z"},{"number":"1.1.0","date":"2015-01-30T15:50:22.141Z"},{"number":"1.1.1","date":"2015-02-06T12:39:50.884Z"},{"number":"1.1.2","date":"2015-02-09T18:27:15.288Z"},{"number":"1.2.0","date":"2015-02-25T14:56:08.454Z"},{"number":"1.2.1","date":"2015-03-03T16:01:41.755Z"},{"number":"1.2.2","date":"2015-06-01T12:33:52.010Z"},{"number":"1.3.0","date":"2015-08-17T14:48:51.034Z"},{"number":"1.3.1","date":"2015-10-06T22:46:03.793Z"},{"number":"1.3.2","date":"2015-10-08T11:59:25.734Z"},{"number":"2.0.0","date":"2015-10-22T18:48:37.155Z"},{"number":"2.0.1","date":"2015-10-27T17:40:33.042Z"},{"number":"2.0.2","date":"2015-11-09T11:53:05.691Z"},{"number":"2.0.3","date":"2015-11-20T16:44:09.066Z"},{"number":"2.0.4","date":"2015-11-30T01:53:33.310Z"},{"number":"2.0.5","date":"2016-01-01T17:42:39.236Z"},{"number":"2.0.6","date":"2016-01-01T18:59:44.124Z"},{"number":"2.0.7","date":"2016-01-04T04:43:06.060Z"},{"number":"2.0.8","date":"2016-03-10T13:56:54.119Z"},{"number":"2.0.9","date":"2016-03-24T17:35:57.609Z"},{"number":"2.0.10","date":"2016-03-25T15:52:07.029Z"},{"number":"2.0.11","date":"2016-03-30T20:09:49.258Z"},{"number":"2.0.12","date":"2016-04-05T14:48:57.929Z"},{"number":"2.0.13","date":"2016-04-08T18:40:20.728Z"},{"number":"2.0.14","date":"2016-04-12T16:59:44.582Z"},{"number":"3.0.0","date":"2016-04-22T19:14:19.018Z"},{"number":"3.1.0","date":"2016-04-26T18:46:18.332Z"},{"number":"3.1.1","date":"2016-05-25T17:13:52.399Z"},{"number":"3.1.2","date":"2016-06-06T16:40:35.767Z"},{"number":"3.2.0","date":"2016-06-08T19:04:52.961Z"},{"number":"3.2.1","date":"2016-07-14T15:06:33.629Z"},{"number":"3.2.2","date":"2016-07-18T02:06:56.797Z"},{"number":"3.2.3","date":"2016-07-26T12:38:27.572Z"},{"number":"3.2.4","date":"2016-07-27T00:49:00.725Z"},{"number":"3.2.5","date":"2016-08-01T01:10:04.770Z"},{"number":"3.2.6","date":"2016-08-02T02:34:58.849Z"},{"number":"3.3.0","date":"2016-08-22T15:57:25.316Z"},{"number":"3.3.1","date":"2016-08-24T19:40:04.845Z"},{"number":"3.3.2","date":"2016-08-26T18:05:21.413Z"},{"number":"3.3.3","date":"2016-09-02T15:54:41.494Z"},{"number":"3.3.4","date":"2016-09-21T22:05:36.202Z"},{"number":"4.0.0","date":"2016-10-31T04:30:12.950Z"},{"number":"5.0.0","date":"2016-11-09T20:14:44.303Z"},{"number":"5.0.1","date":"2016-11-14T09:20:42.816Z"},{"number":"5.0.2","date":"2016-11-16T13:01:01.335Z"},{"number":"5.0.3","date":"2016-11-16T13:16:13.404Z"},{"number":"5.0.4","date":"2016-11-24T22:11:41.354Z"},{"number":"5.0.5","date":"2017-01-06T15:38:42.585Z"},{"number":"5.0.6","date":"2017-01-12T15:58:10.501Z"},{"number":"5.0.7","date":"2017-01-26T16:19:54.174Z"},{"number":"5.0.8","date":"2017-01-27T21:54:19.667Z"},{"number":"5.0.9","date":"2017-01-31T14:45:33.924Z"},{"number":"5.0.10","date":"2017-02-14T14:39:08.899Z"},{"number":"5.0.11","date":"2017-02-19T23:58:00.935Z"},{"number":"5.0.12","date":"2017-02-21T20:29:12.474Z"},{"number":"5.0.13","date":"2017-02-21T20:50:45.828Z"},{"number":"5.0.14","date":"2017-02-23T18:59:21.069Z"},{"number":"5.0.15","date":"2017-03-06T15:47:55.731Z"},{"number":"5.0.16","date":"2017-03-06T19:16:22.783Z"},{"number":"5.0.17","date":"2017-03-15T14:40:09.820Z"},{"number":"5.0.18","date":"2017-03-21T15:18:51.018Z"},{"number":"5.0.19","date":"2017-04-19T18:23:45.570Z"},{"number":"5.0.20","date":"2017-05-10T18:24:49.444Z"},{"number":"5.0.21","date":"2017-05-26T00:36:56.399Z"},{"number":"5.0.22","date":"2017-06-08T14:24:35.787Z"},{"number":"5.0.25","date":"2017-07-11T21:28:30.624Z"},{"number":"5.0.26","date":"2017-07-18T19:57:09.333Z"},{"number":"5.0.27","date":"2017-07-19T14:03:52.954Z"},{"number":"5.1.0","date":"2017-07-31T20:59:32.465Z"},{"number":"5.0.28","date":"2017-07-31T20:59:49.142Z"},{"number":"5.1.1","date":"2017-08-01T18:23:39.489Z"},{"number":"5.1.2","date":"2017-08-01T21:17:14.501Z"},{"number":"5.1.3","date":"2017-08-01T22:16:55.158Z"},{"number":"5.1.4","date":"2017-08-07T02:54:22.409Z"},{"number":"5.1.5","date":"2017-08-14T16:52:23.585Z"}],"readme":"<!-- Make sure you edit doc/README.hbs rather than README.md because the latter is auto-generated -->\n\ndrivelist\n=========\n\n> List all connected drives in your computer, in all major operating systems.\n\n[![Current Release](https://img.shields.io/npm/v/drivelist.svg?style=flat-square)](https://npmjs.com/package/drivelist)\n[![License](https://img.shields.io/npm/l/drivelist.svg?style=flat-square)](https://npmjs.com/package/drivelist)\n[![Downloads](https://img.shields.io/npm/dm/drivelist.svg?style=flat-square)](https://npmjs.com/package/drivelist)\n[![Travis CI status](https://img.shields.io/travis/resin-io-modules/drivelist/master.svg?style=flat-square&label=linux)](https://travis-ci.org/resin-io-modules/drivelist/branches)\n[![AppVeyor status](https://img.shields.io/appveyor/ci/resin-io/drivelist/master.svg?style=flat-square&label=windows)](https://ci.appveyor.com/project/resin-io/drivelist/branch/master)\n[![Dependency status](https://img.shields.io/david/resin-io-modules/drivelist.svg?style=flat-square)](https://david-dm.org/resin-io-modules/drivelist)\n[![Gitter Chat](https://img.shields.io/gitter/room/resin-io/etcher.svg?style=flat-square)](https://gitter.im/resin-io/etcher)\n\nNotice that this module **does not require** admin privileges to get the drives in any supported operating system.\n\nSupports:\n\n- Windows.\n- GNU/Linux distributions that include [util-linux](https://github.com/karelzak/util-linux) and [udev](https://wiki.archlinux.org/index.php/udev).\n- Mac OS X.\n\nThe `drivelist` core consists of a set of scripts built with technologies that\nare available by default on the target operating systems (like Bash, VBScript,\netc). Each of these scripts attempts to get information about the available\ndrives (and metadata related to them), using any methods the target platform\nprovides, like a combination of `diskutil`, `/proc/mounts`, etc. You can find\nthese scripts in the `scripts/` directory.\n\nThe scripts are then expected to print to `stdout` all the drive information\nthey have gathered in a predefined way, based on the [YAML][yaml] language. The\nscripts are expected to output a set of blocks (separated by blank lines), each\nrepresenting a drive with a set of key/value pairs. The exact keys that we\nexpect are constantly changing while we keep improving this module, but you can\nsee what the currently expected keys are by running the platform script that\ncorresponds to your operating system.\n\nThis is how the raw output looks on my MacBook Pro at the time of this writing:\n\n```sh\n$ ./scripts/darwin.sh\ndevice: /dev/disk0\ndisplayName: /dev/disk0\ndescription: \"APPLE SSD SM0256G\"\nsize: 251000193024\nmountpoints: []\nraw: /dev/rdisk0\nprotected: False\nsystem: True\n\ndevice: /dev/disk1\ndisplayName: /dev/disk1\ndescription: \"Macintosh HD\"\nsize: 249779191808\nmountpoints:\n  - path: /\nraw: /dev/rdisk1\nprotected: False\nsystem: True\n```\n\nBecause of the simplicity of this module's design, supporting a new operating\nsystem simply means adding a new script to `scripts/` that gathers drive data\nand outputs something similar to the above example. The challenge with this is\nthat we must ensure all the platform scripts print consistent output.\n\nWhen the user executes `drivelist.list()`, the module checks the operating\nsystem of the client, and executes the corresponding drive scanning script as a\nchild process. It then parses the [YAML][yaml] output of the script as an array\nof objects, and returns that to the user.\n\nExamples (the output will vary depending on your machine):\n\n```js\nconst drivelist = require('drivelist');\n\ndrivelist.list((error, drives) => {\n  if (error) {\n    throw error;\n  }\n\n  console.log(drives);\n});\n```\n\n***\n\nMac OS X:\n\n```sh\n[\n  {\n    device: '/dev/disk0',\n    displayName: '/dev/disk0',\n    description: 'GUID_partition_scheme',\n    size: 68719476736,\n    mountpoints: [\n      {\n        path: '/'\n      }\n    ],\n    raw: '/dev/rdisk0',\n    protected: false,\n    system: true\n  },\n  {\n    device: '/dev/disk1',\n    displayName: '/dev/disk1',\n    description: 'Apple_HFS Macintosh HD',\n    size: 68719476736,\n    mountpoints: [],\n    raw: '/dev/rdisk0',\n    protected: false,\n    system: true\n  }\n]\n```\n\n***\n\nGNU/Linux\n\n```sh\n[\n  {\n    device: '/dev/sda',\n    displayName: '/dev/sda',\n    description: 'WDC WD10JPVX-75J',\n    size: 68719476736,\n    mountpoints: [\n      {\n        path: '/'\n      }\n    ],\n    raw: '/dev/sda',\n    protected: false,\n    system: true\n  },\n  {\n    device: '/dev/sdb',\n    displayName: '/dev/sdb',\n    description: 'DataTraveler 2.0',\n    size: 7823458304,\n    mountpoints: [\n      {\n        path: '/media/UNTITLED'\n      }\n    ],\n    raw: '/dev/sdb',\n    protected: true,\n    system: false\n  }\n]\n```\n\n***\n\nWindows\n\n```sh\n[\n  {\n    device: '\\\\\\\\.\\\\PHYSICALDRIVE0',\n    displayName: 'C:',\n    description: 'WDC WD10JPVX-75JC3T0',\n    size: 68719476736,\n    mountpoints: [\n      {\n        path: 'C:'\n      }\n    ],\n    raw: '\\\\\\\\.\\\\PHYSICALDRIVE0',\n    protected: false,\n    system: true\n  },\n  {\n    device: '\\\\\\\\.\\\\PHYSICALDRIVE1',\n    displayName: 'D:, F:',\n    description: 'Generic STORAGE DEVICE USB Device',\n    size: 7823458304,\n    mountpoints: [\n      {\n        path: 'D:'\n      },\n      {\n        path: 'F:'\n      }\n    ],\n    raw: '\\\\\\\\.\\\\PHYSICALDRIVE1',\n    protected: true,\n    system: false\n  },\n  {\n    device: '\\\\\\\\.\\\\PHYSICALDRIVE2',\n    displayName: '\\\\\\\\.\\\\PHYSICALDRIVE2',\n    description: 'Silicon-Power2G',\n    size: 2014314496,\n    mountpoints: [],\n    raw: '\\\\\\\\.\\\\PHYSICALDRIVE2',\n    protected: false,\n    system: false\n  }\n]\n```\n\nInstallation\n------------\n\nInstall `drivelist` by running:\n\n```sh\n$ npm install --save drivelist\n```\n\nDocumentation\n-------------\n\n<a name=\"module_drivelist.list\"></a>\n\n### drivelist.list(callback)\n**Kind**: static method of [<code>drivelist</code>](#module_drivelist)  \n**Summary**: List available drives  \n**Access**: public  \n\n| Param | Type | Description |\n| --- | --- | --- |\n| callback | <code>function</code> | callback (error, drives) |\n\n**Example**  \n```js\nconst drivelist = require('drivelist');\n\ndrivelist.list((error, drives) => {\n  if (error) {\n    throw error;\n  }\n\n  drives.forEach((drive) => {\n    console.log(drive);\n  });\n});\n```\n\nTests\n-----\n\nRun the test suite by doing:\n\n```sh\n$ npm test\n```\n\nContribute\n----------\n\nWe're looking forward to support more operating systems. Please raise an issue or even better, send a PR to increase support!\n\n- Issue Tracker: [github.com/resin-io-modules/drivelist/issues](https://github.com/resin-io-modules/drivelist/issues)\n- Source Code: [github.com/resin-io-modules/drivelist](https://github.com/resin-io-modules/drivelist)\n\nBefore submitting a PR, please make sure that you include tests, and that the linter runs without any warning:\n\n```sh\n$ npm run lint\n```\n\nExecute the following command after making any changes to the platform scripts:\n\n```sh\nnpm run compile-scripts\n```\n\nSupport\n-------\n\nIf you're having any problem, please [raise an issue](https://github.com/resin-io-modules/drivelist/issues/new) on GitHub.\n\nLicense\n-------\n\nThe project is licensed under the Apache 2.0 license.\n\n[yaml]: http://yaml.org\n","starsCount":1,"created":"2015-01-30T15:32:11.464Z","modified":"2017-08-14T16:52:23.585Z","lastPublisher":{"name":"resin.io","email":"accounts@resin.io"},"owners":[{"email":"accounts@resin.io","name":"resin.io"}],"other":{"_attachments":{},"_from":".","_id":"drivelist","_nodeVersion":"6.1.0","_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/drivelist-5.1.5.tgz_1502729542911_0.5153639523778111"},"_npmUser":{"name":"resin.io","email":"accounts@resin.io"},"_npmVersion":"3.10.10","_rev":"38-3dc16f4f041b6282f7ef5a240e271647","_shasum":"271422bad8220a824990f7293bf797ae3847ac29","author":{"name":"Juan Cruz Viotti","email":"juan@resin.io"},"bugs":{"url":"https://github.com/resin-io-modules/drivelist/issues"},"directories":{"test":"tests"},"dist-tags":{"latest":"5.1.5"},"dist":{"shasum":"271422bad8220a824990f7293bf797ae3847ac29","tarball":"https://registry.npmjs.org/drivelist/-/drivelist-5.1.5.tgz"},"maintainers":[{"email":"accounts@resin.io","name":"resin.io"}],"readmeFilename":"README.md","time":{"modified":"2017-08-14T16:52:23.585Z","created":"2015-01-30T15:32:11.464Z","1.0.0":"2015-01-30T15:32:11.464Z","1.1.0":"2015-01-30T15:50:22.141Z","1.1.1":"2015-02-06T12:39:50.884Z","1.1.2":"2015-02-09T18:27:15.288Z","1.2.0":"2015-02-25T14:56:08.454Z","1.2.1":"2015-03-03T16:01:41.755Z","1.2.2":"2015-06-01T12:33:52.010Z","1.3.0":"2015-08-17T14:48:51.034Z","1.3.1":"2015-10-06T22:46:03.793Z","1.3.2":"2015-10-08T11:59:25.734Z","2.0.0":"2015-10-22T18:48:37.155Z","2.0.1":"2015-10-27T17:40:33.042Z","2.0.2":"2015-11-09T11:53:05.691Z","2.0.3":"2015-11-20T16:44:09.066Z","2.0.4":"2015-11-30T01:53:33.310Z","2.0.5":"2016-01-01T17:42:39.236Z","2.0.6":"2016-01-01T18:59:44.124Z","2.0.7":"2016-01-04T04:43:06.060Z","2.0.8":"2016-03-10T13:56:54.119Z","2.0.9":"2016-03-24T17:35:57.609Z","2.0.10":"2016-03-25T15:52:07.029Z","2.0.11":"2016-03-30T20:09:49.258Z","2.0.12":"2016-04-05T14:48:57.929Z","2.0.13":"2016-04-08T18:40:20.728Z","2.0.14":"2016-04-12T16:59:44.582Z","3.0.0":"2016-04-22T19:14:19.018Z","3.1.0":"2016-04-26T18:46:18.332Z","3.1.1":"2016-05-25T17:13:52.399Z","3.1.2":"2016-06-06T16:40:35.767Z","3.2.0":"2016-06-08T19:04:52.961Z","3.2.1":"2016-07-14T15:06:33.629Z","3.2.2":"2016-07-18T02:06:56.797Z","3.2.3":"2016-07-26T12:38:27.572Z","3.2.4":"2016-07-27T00:49:00.725Z","3.2.5":"2016-08-01T01:10:04.770Z","3.2.6":"2016-08-02T02:34:58.849Z","3.3.0":"2016-08-22T15:57:25.316Z","3.3.1":"2016-08-24T19:40:04.845Z","3.3.2":"2016-08-26T18:05:21.413Z","3.3.3":"2016-09-02T15:54:41.494Z","3.3.4":"2016-09-21T22:05:36.202Z","4.0.0":"2016-10-31T04:30:12.950Z","5.0.0":"2016-11-09T20:14:44.303Z","5.0.1":"2016-11-14T09:20:42.816Z","5.0.2":"2016-11-16T13:01:01.335Z","5.0.3":"2016-11-16T13:16:13.404Z","5.0.4":"2016-11-24T22:11:41.354Z","5.0.5":"2017-01-06T15:38:42.585Z","5.0.6":"2017-01-12T15:58:10.501Z","5.0.7":"2017-01-26T16:19:54.174Z","5.0.8":"2017-01-27T21:54:19.667Z","5.0.9":"2017-01-31T14:45:33.924Z","5.0.10":"2017-02-14T14:39:08.899Z","5.0.11":"2017-02-19T23:58:00.935Z","5.0.12":"2017-02-21T20:29:12.474Z","5.0.13":"2017-02-21T20:50:45.828Z","5.0.14":"2017-02-23T18:59:21.069Z","5.0.15":"2017-03-06T15:47:55.731Z","5.0.16":"2017-03-06T19:16:22.783Z","5.0.17":"2017-03-15T14:40:09.820Z","5.0.18":"2017-03-21T15:18:51.018Z","5.0.19":"2017-04-19T18:23:45.570Z","5.0.20":"2017-05-10T18:24:49.444Z","5.0.21":"2017-05-26T00:36:56.399Z","5.0.22":"2017-06-08T14:24:35.787Z","5.0.25":"2017-07-11T21:28:30.624Z","5.0.26":"2017-07-18T19:57:09.333Z","5.0.27":"2017-07-19T14:03:52.954Z","5.1.0":"2017-07-31T20:59:32.465Z","5.0.28":"2017-07-31T20:59:49.142Z","5.1.1":"2017-08-01T18:23:39.489Z","5.1.2":"2017-08-01T21:17:14.501Z","5.1.3":"2017-08-01T22:16:55.158Z","5.1.4":"2017-08-07T02:54:22.409Z","5.1.5":"2017-08-14T16:52:23.585Z"},"users":{"blog":true}}}