{"name":"addon-emitter","version":"0.0.2","description":"event emitter class for native addons","main":"include_dirs.js","repository":"https://github.com/gerhardberger/addon-emitter","scripts":{"test":"echo \"Error: no test specified\" && exit 1"},"keywords":["native","event","emitter","addon"],"license":"MIT","dependencies":{"nan":"^2.0.5"},"gitHead":"bf4a9cc4a98dee951aa3ee563d27d6198a64eeb2","homepage":"https://github.com/gerhardberger/addon-emitter#readme","versions":[{"number":"0.0.1","date":"2015-08-25T19:44:10.686Z"},{"number":"0.0.2","date":"2015-08-25T19:51:20.529Z"}],"readme":"# addon-emitter\nevent emitter class for native addons.\n\n## usage\nusing a native addon (here `foo`) with event emitter:\n``` js\nvar Foo = require('foo')\nvar foo = new Foo()\n\nfoo.on('sus', function (a, b) {\n  console.log('Received:', a, b);\n})\n```\nthe `Foo` class inherits the public interface of the `Emitter` class:\n``` cpp\n// foo.h\n\n#include <nan.h>\n#include <emitter.h>\n\n// inherit from the Emitter class\nclass Foo : public Emitter {\npublic:\n  static void Init(v8::Local<v8::Object> exports);\n\nprivate:\n  explicit Foo ();\n  ~Foo ();\n\n  void Bar ();\n};\n```\nset the method for the event listening (usually the `on` method):\n``` cpp\n// foo.cc\n\nvoid Foo::Init(v8::Local<v8::Object> exports) {\n  v8::Local<v8::FunctionTemplate> tpl = Nan::New<v8::FunctionTemplate>(New);\n\n  // setting the prototype method for the event listening\n  Nan::SetPrototypeMethod(tpl, \"on\", Emitter::On);\n}\n```\nto emit an event from `Foo`:\n``` cpp\nvoid Foo::Bar(const Nan::FunctionCallbackInfo<v8::Value>& info) {\n  // the first parameter is the name of the event,\n  // after that you can write as many parameters as needed,\n  // but they have to convertible to v8's `Local<Value>` type\n  Emit(Nan::New(\"sus\").ToLocalChecked()\n      , Nan::New(\"a string\").ToLocalChecked(), 123);\n}\n```\nthe example above is just to show what you have to do to use the module. it's not a fully functioning program. for a working example check the `test` folder.\n\n## install\n``` bash\nnpm i addon-emitter\n```\nin `binding.gyp`:\n``` gyp\n{\n  'include_dirs': [ \"<!(node -e \\\"require('addon-emitter')\\\")\" ]\n}\n```\n","created":"2015-08-25T19:44:10.686Z","modified":"2015-08-25T19:51:20.529Z","lastPublisher":{"name":"gerhardberger","email":"93.morph@gmail.com"},"owners":[{"name":"gerhardberger","email":"93.morph@gmail.com"}],"other":{"_attachments":{},"_from":".","_id":"addon-emitter","_nodeVersion":"0.12.5","_npmUser":{"name":"gerhardberger","email":"93.morph@gmail.com"},"_npmVersion":"2.13.0","_rev":"1-2464775bf638938408e1204e249686ea","_shasum":"59e0b80d3f64228675a41a5795f5698276f750c1","author":{"name":"@native_cat"},"bugs":{"url":"https://github.com/gerhardberger/addon-emitter/issues"},"directories":{},"dist-tags":{"latest":"0.0.2"},"dist":{"shasum":"59e0b80d3f64228675a41a5795f5698276f750c1","tarball":"http://registry.npmjs.org/addon-emitter/-/addon-emitter-0.0.2.tgz"},"maintainers":[{"name":"gerhardberger","email":"93.morph@gmail.com"}],"readmeFilename":"README.md","time":{"modified":"2015-08-25T19:51:20.529Z","created":"2015-08-25T19:44:10.686Z","0.0.1":"2015-08-25T19:44:10.686Z","0.0.2":"2015-08-25T19:51:20.529Z"}}}