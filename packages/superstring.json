{"name":"superstring","version":"2.0.16","description":"A data structure to efficiently represent the results of applying patches.","main":"./index","browser":"./browser","scripts":{"build:node":"node-gyp rebuild","build:browser":"script/build-browser-version.sh","build":"npm run build:node && npm run build:browser","test:native":"script/test-native.js","test:node":"mocha test/js/*.js","test:browser":"SUPERSTRING_USE_BROWSER_VERSION=1 mocha test/js/*.js","test":"npm run test:node && npm run test:browser","benchmark":"node benchmark/marker-index.benchmark.js","prepublish":"not-in-install && npm run build:browser || in-install","standard":"standard --recursive src test","install":"node-gyp rebuild"},"repository":"https://github.com/atom/superstring","keywords":["text","data-structure"],"license":"MIT","homepage":"https://github.com/atom/superstring","dependencies":{"nan":"^2.4.0"},"devDependencies":{"chai":"^2.0.0","in-publish":"^2.0.0","mocha":"^2.3.4","random-seed":"^0.2.0","stackvis":"^0.4.0","standard":"^4.5.4","temp":"^0.8.3"},"standard":{"global":["describe","it","expect"]},"gypfile":true,"gitHead":"3c464cabc0363ac8f10fd7d2af6e7cfee63098f7","versions":[{"number":"0.0.1","date":"2016-10-19T15:25:10.991Z"},{"number":"0.0.2","date":"2016-10-19T15:40:02.642Z"},{"number":"0.0.3","date":"2016-10-19T16:27:37.226Z"},{"number":"0.0.4","date":"2016-10-25T10:58:22.160Z"},{"number":"0.0.5","date":"2016-10-27T14:02:46.825Z"},{"number":"0.0.6","date":"2016-10-27T17:54:56.715Z"},{"number":"0.0.7","date":"2016-10-28T13:09:27.199Z"},{"number":"0.0.8","date":"2016-10-28T13:22:18.150Z"},{"number":"1.0.0","date":"2016-12-28T21:02:42.270Z"},{"number":"1.0.1","date":"2016-12-28T21:48:06.928Z"},{"number":"1.0.2-0","date":"2016-12-28T22:07:28.569Z"},{"number":"1.0.2","date":"2016-12-28T22:32:33.919Z"},{"number":"1.0.3","date":"2016-12-29T21:25:26.353Z"},{"number":"1.0.4","date":"2016-12-30T20:46:13.328Z"},{"number":"1.0.5","date":"2017-01-13T21:10:48.140Z"},{"number":"1.0.6","date":"2017-01-17T22:51:45.474Z"},{"number":"1.0.7","date":"2017-01-18T00:37:40.837Z"},{"number":"1.0.8","date":"2017-01-18T00:38:29.002Z"},{"number":"1.0.9","date":"2017-01-31T16:53:46.003Z"},{"number":"1.1.0","date":"2017-02-10T18:35:47.116Z"},{"number":"1.2.0","date":"2017-03-06T23:43:49.151Z"},{"number":"1.2.1","date":"2017-03-06T23:56:16.041Z"},{"number":"1.3.0-0","date":"2017-03-30T22:06:05.486Z"},{"number":"1.3.0","date":"2017-05-01T19:00:42.722Z"},{"number":"1.4.0","date":"2017-05-02T23:33:02.620Z"},{"number":"1.3.0-1","date":"2017-05-15T18:50:33.617Z"},{"number":"1.3.0-2","date":"2017-05-15T19:09:59.706Z"},{"number":"1.3.0-3","date":"2017-05-15T20:11:52.066Z"},{"number":"1.3.0-4","date":"2017-05-15T20:42:34.011Z"},{"number":"1.3.0-5","date":"2017-05-17T21:32:52.610Z"},{"number":"1.3.0-6","date":"2017-05-18T17:38:38.218Z"},{"number":"1.3.0-7","date":"2017-05-19T18:30:50.424Z"},{"number":"1.3.0-8","date":"2017-05-19T23:48:33.725Z"},{"number":"1.3.0-10","date":"2017-05-22T23:02:07.921Z"},{"number":"1.3.0-11","date":"2017-05-23T14:47:47.970Z"},{"number":"1.3.0-12","date":"2017-05-23T16:28:42.452Z"},{"number":"1.3.0-13","date":"2017-05-30T23:11:42.128Z"},{"number":"1.3.0-14","date":"2017-05-31T16:41:09.624Z"},{"number":"1.3.0-15","date":"2017-06-06T00:37:40.492Z"},{"number":"1.3.0-16","date":"2017-06-06T00:43:08.888Z"},{"number":"1.3.0-17","date":"2017-06-06T23:02:06.332Z"},{"number":"1.3.0-18","date":"2017-06-07T18:02:25.542Z"},{"number":"1.3.0-19","date":"2017-06-07T21:33:45.929Z"},{"number":"1.3.0-20","date":"2017-06-08T20:05:00.941Z"},{"number":"1.3.0-21","date":"2017-06-08T22:22:50.895Z"},{"number":"2.0.0","date":"2017-06-09T00:03:40.664Z"},{"number":"2.0.1","date":"2017-06-13T17:20:10.488Z"},{"number":"2.0.2","date":"2017-06-13T17:22:51.790Z"},{"number":"2.0.3","date":"2017-06-13T18:21:24.553Z"},{"number":"2.0.4","date":"2017-06-16T17:25:30.540Z"},{"number":"2.0.5","date":"2017-06-16T18:25:02.269Z"},{"number":"2.0.6","date":"2017-06-19T21:01:59.497Z"},{"number":"2.0.7","date":"2017-06-19T21:27:55.159Z"},{"number":"2.0.8","date":"2017-06-30T22:38:48.472Z"},{"number":"2.0.9-0","date":"2017-07-28T18:22:24.121Z"},{"number":"2.0.9","date":"2017-07-28T22:32:41.938Z"},{"number":"2.0.10","date":"2017-07-31T23:27:24.513Z"},{"number":"2.0.11","date":"2017-08-21T20:34:44.779Z"},{"number":"2.0.12","date":"2017-08-21T22:51:10.820Z"},{"number":"2.0.13","date":"2017-08-22T22:23:03.887Z"},{"number":"2.0.14","date":"2017-08-23T18:54:31.483Z"},{"number":"2.0.15","date":"2017-08-23T21:23:24.268Z"},{"number":"2.0.16","date":"2017-08-25T18:59:50.416Z"}],"readme":"# Superstring\n[![macOS Build Status](https://circleci.com/gh/atom/superstring/tree/master.svg?style=shield)](https://circleci.com/gh/atom/superstring)\n[![linux Build Status](https://travis-ci.org/atom/superstring.svg?branch=master)](https://travis-ci.org/atom/superstring)\n[![Windows Build Status](https://ci.appveyor.com/api/projects/status/n5pack4yk7w80fso/branch/master?svg=true)](https://ci.appveyor.com/project/Atom/superstring/branch/master)\n[![Dependency Status](https://david-dm.org/atom/superstring.svg)](https://david-dm.org/atom/superstring)\n\n\n\nNative library at the core of Atom's text editor.\n\n## Components:\n\n### Patch\n\nThis data structure represents a transformation from input to output text, and it's useful for combining changes that occur at different points in time and space.\n\nExample:\n```js\nconst patch = new Patch\n\n// At column 5, replace the string 'abc' with '1234':\npatch.splice({row: 0, column: 5}, {row: 0, column: 3}, {row: 0, column: 4}, 'abc', '1234')\n\n// Then at column 7, replace 3 characters with 4 characters:\npatch.splice({row: 0, column: 7}, {row: 0, column: 3}, {row: 0, column: 4}, '34d', '5678')\n\n// Retrieve the consolidated changes:\nassert.deepEqual(patch.getChanges(), [\n  {\n    oldStart: {row: 0, column: 5},\n    oldEnd: {row: 0, column: 9},\n    oldText: 'abcd',\n    newStart: {row: 0, column: 5},\n    newEnd: {row: 0, column: 11},\n    newText: '125678'\n  }\n])\n```\n\n### MarkerIndex\n\nThis data structure is used to track logical locations in a text buffer as the contents of the buffer are changed.\n\nExample:\n\n```js\nconst index = new MarkerIndex\n\n// Associate a marker id with two ordered start and end points\nindex.insert(1, {row: 2, column: 5}, {row: 4, column: 10})\n\n// Splice represents a change to the text file\n// you pass it a starting point, then points representing the old and new extent\nindex.splice({row: 3, column: 5}, {row: 0, column: 0}, {row: 1, column: 0})\n\n// The marker's end point was updated by the splice\nassert.deepEqual(index.getEnd(1), {row: 5, column: 10})\n```\n\n#### API\n\n##### `insert (id, start, end)`\n\nAssociates the given non-negative integer with a range represented by two `{row: number, column: number}` objects.\n\n##### `splice (start, oldExtent, newExtent)`\n\nUpdate the locations of all markers based on the description of a change to the text. The range of the replaced text is described by *traversing* from `start` by `oldExtent`. The range of the new text is described by *traversing* from `start` to `newExtent`.\n\n*Traversal* means that beginning with the `start` location, we arrive at a new location by performing X line feeds and carriage returns and then walk forward Y columns, where X is the `row` of the given traversal extent and Y is its `column`. So basically `start`, `oldExtent`, and `newExtent` describe two ranges in the file, basically the spatial before and after effects of a change.\n\nThis method returns an object that describes what markers were *invalidated* by the change based on various invalidation strategies. If a marker is in a set for a given strategy, it was invalidated according to that strategy. The strategies are as follows:\n\n* `touch` Contains markers that the change touched in any way.\n* `inside` Contains markers that the change touched, but not markers with endpoints immediately adjacent to the change.\n* `overlap` Contains markers that had one or both of their endpoints surrounded by the change.\n* `surround` Contains markers that had both endpoints surrounded by the change.\n\n##### `setExclusive (markerId, boolean)`\n\nThis method allows to control the behavior of a marker when splices start and/or end at the marker's endpoints.\n\nBy default, we consider markers to be *inclusive*: that is, splices exactly at the beginning of the marked range will be considered to begin inside the marker (meaning that the marker's start position **will not** move), and splices exactly at the end of the marked range will be considered to end inside the marker (meaning that the marker's end position **will** move).\n\n*Exclusive* markers, on the other hand, exhibit a slightly different behavior: in fact, splices exactly at the beginning of the marked range will be considered to begin outside the marker (meaning that the marker's start position **will** move), and splices exactly at the end of the marked range will be considered to end outside the marker (meaning that the marker's end position **will not** move).\n\nPlease note that, independently of whether a marker is inclusive or exclusive, its end **will always** be moved when its start gets moved as a result of a splice.\n\n##### `isExclusive (markerId)`\n\nReturns whether the given marker id has been set to behave exclusively via `setExclusive`.\n\n##### `delete (markerId)`\n\nRemoves the specified marker from the index.\n\n##### `getRange (markerId)`\n\nReturns the range for the given marker id, in the form of an object with `start` and `end` points.\n\n##### `getStart (markerId)`\n\nReturns a `{row: number, column: number}` object representing the start of the specified marker.\n\n##### `getEnd (markerId)`\n\nReturns a `{row: number, column: number}` object representing the end of the specified marker.\n\n##### `dump ()`\n\nReturns the current location of every marker in the index, represented as an object mapping marker ids to range objects. For example:\n\n```js\n{\n  '1': {start: {row: 2, column: 5}, end: {row: 5, column: 10}},\n  '2': {start: {row: 4, column: 10}, end: {row: 6, column: 3}}\n}\n```\n\n##### `findIntersecting (start, end = start)`\n\nReturns a set with the ids of all markers intersecting the specified point range.\n\n##### `findContaining (start, end = start)`\n\nReturns a set with the ids of all markers intersecting the specified point range.\n\n##### `findContainedIn (start, end)`\n\nReturns a set with the ids of all markers contained in the specified point range.\n\n##### `findStartingIn (start, end)`\n\nReturns a set with the ids of all markers starting in the specified point range.\n\n##### `findEndingIn (start, end)`\n\nReturns a set with the ids of all markers ending in the specified point range.\n\n##### `findStartingAt (position)`\n\nReturns a set with the ids of all markers starting at the specified point.\n\n##### `findEndingAt (position)`\n\nReturns a set with the ids of all markers ending at the specified point.\n\n##### `findBoundariesIn (start, end)`\n\nA boundary is a position in the index where a marker starts or ends. Multiple markers starting and/or ending at the same position describe only one boundary. This method returns an object containing all the boundaries in the specified point range, and an array of marker ids that overlap the specified start position. For example:\n\n```js\n{\n  containingStart: [1, 2, 3, 4],\n  boundaries: [\n    {position: {row: 0, column: 1}, starting: new Set([5, 6]), ending: new Set()},\n    {position: {row: 1, column: 0}, starting: new Set(), ending: new Set([5])}\n    {position: {row: 2, column: 0}, starting: new Set(), ending: new Set([6])}\n  ]\n}\n```\n","created":"2016-10-19T15:25:10.991Z","modified":"2017-08-25T18:59:50.416Z","lastPublisher":{"name":"maxbrunsfeld","email":"maxbrunsfeld@gmail.com"},"owners":[{"email":"atom@github.com","name":"atom-team"},{"email":"maxbrunsfeld@gmail.com","name":"maxbrunsfeld"},{"email":"nathan@github.com","name":"nathansobo"},{"email":"as-cii@github.com","name":"as-cii"}],"other":{"_attachments":{},"_id":"superstring","_nodeVersion":"8.4.0","_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/superstring-2.0.16.tgz_1503687590174_0.015209223376587033"},"_npmUser":{"name":"maxbrunsfeld","email":"maxbrunsfeld@gmail.com"},"_npmVersion":"5.3.0","_rev":"62-5f539aa00c6c345c2f16258cf7836ee9","author":{"name":"Nathan Sobo","email":"nathan@github.com"},"bugs":{"url":"https://github.com/atom/superstring/issues"},"directories":{},"dist-tags":{"latest":"2.0.16"},"dist":{"integrity":"sha512-mg6UDZ+SgUojSJkoO8SvY8qEd9l/7zck1fp0UMI89wsFc+AUIVVePWFhSui36X58YDeDs9WQ8dYKEbiBOLIt6g==","shasum":"d9b5ab89ec3193d436e833a30e3da496b82ddbb2","tarball":"https://registry.npmjs.org/superstring/-/superstring-2.0.16.tgz"},"maintainers":[{"email":"atom@github.com","name":"atom-team"},{"email":"maxbrunsfeld@gmail.com","name":"maxbrunsfeld"},{"email":"nathan@github.com","name":"nathansobo"},{"email":"as-cii@github.com","name":"as-cii"}],"readmeFilename":"README.md","time":{"modified":"2017-08-25T18:59:50.416Z","created":"2016-10-19T15:25:10.991Z","0.0.1":"2016-10-19T15:25:10.991Z","0.0.2":"2016-10-19T15:40:02.642Z","0.0.3":"2016-10-19T16:27:37.226Z","0.0.4":"2016-10-25T10:58:22.160Z","0.0.5":"2016-10-27T14:02:46.825Z","0.0.6":"2016-10-27T17:54:56.715Z","0.0.7":"2016-10-28T13:09:27.199Z","0.0.8":"2016-10-28T13:22:18.150Z","1.0.0":"2016-12-28T21:02:42.270Z","1.0.1":"2016-12-28T21:48:06.928Z","1.0.2-0":"2016-12-28T22:07:28.569Z","1.0.2":"2016-12-28T22:32:33.919Z","1.0.3":"2016-12-29T21:25:26.353Z","1.0.4":"2016-12-30T20:46:13.328Z","1.0.5":"2017-01-13T21:10:48.140Z","1.0.6":"2017-01-17T22:51:45.474Z","1.0.7":"2017-01-18T00:37:40.837Z","1.0.8":"2017-01-18T00:38:29.002Z","1.0.9":"2017-01-31T16:53:46.003Z","1.1.0":"2017-02-10T18:35:47.116Z","1.2.0":"2017-03-06T23:43:49.151Z","1.2.1":"2017-03-06T23:56:16.041Z","1.3.0-0":"2017-03-30T22:06:05.486Z","1.3.0":"2017-05-01T19:00:42.722Z","1.4.0":"2017-05-02T23:33:02.620Z","1.3.0-1":"2017-05-15T18:50:33.617Z","1.3.0-2":"2017-05-15T19:09:59.706Z","1.3.0-3":"2017-05-15T20:11:52.066Z","1.3.0-4":"2017-05-15T20:42:34.011Z","1.3.0-5":"2017-05-17T21:32:52.610Z","1.3.0-6":"2017-05-18T17:38:38.218Z","1.3.0-7":"2017-05-19T18:30:50.424Z","1.3.0-8":"2017-05-19T23:48:33.725Z","1.3.0-10":"2017-05-22T23:02:07.921Z","1.3.0-11":"2017-05-23T14:47:47.970Z","1.3.0-12":"2017-05-23T16:28:42.452Z","1.3.0-13":"2017-05-30T23:11:42.128Z","1.3.0-14":"2017-05-31T16:41:09.624Z","1.3.0-15":"2017-06-06T00:37:40.492Z","1.3.0-16":"2017-06-06T00:43:08.888Z","1.3.0-17":"2017-06-06T23:02:06.332Z","1.3.0-18":"2017-06-07T18:02:25.542Z","1.3.0-19":"2017-06-07T21:33:45.929Z","1.3.0-20":"2017-06-08T20:05:00.941Z","1.3.0-21":"2017-06-08T22:22:50.895Z","2.0.0":"2017-06-09T00:03:40.664Z","2.0.1":"2017-06-13T17:20:10.488Z","2.0.2":"2017-06-13T17:22:51.790Z","2.0.3":"2017-06-13T18:21:24.553Z","2.0.4":"2017-06-16T17:25:30.540Z","2.0.5":"2017-06-16T18:25:02.269Z","2.0.6":"2017-06-19T21:01:59.497Z","2.0.7":"2017-06-19T21:27:55.159Z","2.0.8":"2017-06-30T22:38:48.472Z","2.0.9-0":"2017-07-28T18:22:24.121Z","2.0.9":"2017-07-28T22:32:41.938Z","2.0.10":"2017-07-31T23:27:24.513Z","2.0.11":"2017-08-21T20:34:44.779Z","2.0.12":"2017-08-21T22:51:10.820Z","2.0.13":"2017-08-22T22:23:03.887Z","2.0.14":"2017-08-23T18:54:31.483Z","2.0.15":"2017-08-23T21:23:24.268Z","2.0.16":"2017-08-25T18:59:50.416Z"}}}