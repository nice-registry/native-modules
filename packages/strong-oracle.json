{"name":"strong-oracle","description":"Oracle database driver","keywords":["database","db","oracle"],"homepage":"https://github.com/strongloop/strong-oracle","version":"1.9.0","engines":{"node":">=0.10.0"},"repository":"https://github.com/strongloop/strong-oracle","dependencies":{"nan":"^2.0.9"},"devDependencies":{"async":"^1.4.0","mocha":"~2.2.5"},"scripts":{"pretest":"node pretest.js","test":"mocha -R spec --timeout 10000 test/*.js","install":"node-gyp rebuild"},"main":"./index.js","license":"Artistic-2.0","gypfile":true,"gitHead":"72ffb4b06f5942d64fe0c2503a166150b279dc8c","versions":[{"number":"1.0.0","date":"2014-03-21T22:18:37.199Z"},{"number":"1.1.0","date":"2014-03-25T23:24:00.107Z"},{"number":"1.1.1","date":"2014-03-26T18:32:43.115Z"},{"number":"1.1.2","date":"2014-03-26T19:09:44.507Z"},{"number":"1.1.3","date":"2014-03-30T06:58:25.688Z"},{"number":"1.1.4","date":"2014-04-01T06:43:08.895Z"},{"number":"1.2.0","date":"2014-05-22T18:48:49.565Z"},{"number":"1.2.1","date":"2014-09-25T20:07:26.526Z"},{"number":"1.2.2","date":"2014-11-21T05:02:52.777Z"},{"number":"1.3.0","date":"2015-01-22T21:42:22.346Z"},{"number":"1.4.0","date":"2015-03-24T17:51:07.831Z"},{"number":"1.5.0","date":"2015-03-24T18:34:53.635Z"},{"number":"1.5.1","date":"2015-03-24T18:37:03.317Z"},{"number":"1.6.0","date":"2015-03-26T15:37:08.842Z"},{"number":"1.6.1","date":"2015-04-10T16:30:54.072Z"},{"number":"1.6.2","date":"2015-05-04T23:07:59.189Z"},{"number":"1.6.3","date":"2015-05-15T17:36:01.522Z"},{"number":"1.6.4","date":"2015-05-15T18:05:55.432Z"},{"number":"1.6.5","date":"2015-07-15T15:40:50.741Z"},{"number":"1.7.0","date":"2015-09-25T20:00:15.939Z"},{"number":"1.8.0","date":"2015-12-17T20:36:57.956Z"},{"number":"1.8.1","date":"2016-02-02T19:40:35.338Z"},{"number":"1.9.0","date":"2016-06-03T23:21:05.978Z"}],"readme":"# Install\n\nYou need to download and install [Oracle instant client](http://www.oracle.com/technetwork/database/features/instant-client/index-097480.html) from following links:\n\nhttp://www.oracle.com/technetwork/database/features/instant-client/index-097480.html\n\n1. Instant Client Package - Basic or Basic Lite: All files required to run OCI, OCCI, and JDBC-OCI applications\n2. Instant Client Package - SDK: Additional header files and an example makefile for developing Oracle applications with Instant Client\n\nFor Windows, please make sure 12_1 version is used.\n\n**Please make sure you download the correct packages for your system architecture, such as 64 bit vs 32 bit**\n**Unzip the files 1 and 2 into the same directory, such as /opt/instantclient\\_11\\_2 or c:\\instantclient\\_12\\_1**\n\nOn MacOS or Linux:\n\n1. Set up the following environment variables\n\nMacOS/Linux:\n\n    export OCI_HOME=<directory of Oracle instant client>\n    export OCI_LIB_DIR=$OCI_HOME\n    export OCI_INCLUDE_DIR=$OCI_HOME/sdk/include\n\n2. Create the following symbolic links\n\nMacOS:\n\n    cd $OCI_LIB_DIR\n    ln -s libclntsh.dylib.11.1 libclntsh.dylib\n    ln -s libocci.dylib.11.1 libocci.dylib\n\nLinux:\n\n    cd $OCI_LIB_DIR\n    ln -s libclntsh.so.12.1 libclntsh.so\n    ln -s libocci.so.12.1 libocci.so\n\n`libaio` library is required on Linux systems:\n\n* On Unbuntu/Debian\n\n        ﻿sudo apt-get install libaio1\n\n* On Fedora/CentOS/RHEL\n\n        ﻿sudo yum install libaio\n\n3. Configure the dynamic library path\n\nMacOS:\n\n    export DYLD_LIBRARY_PATH=$OCI_LIB_DIR\n\nLinux:\n\nAdd the shared object files to the ld cache:\n\n\t    # Replace /opt/instantclient_11_2/ with wherever you extracted the Basic Lite files to\n\t    echo '/opt/instantclient_11_2/' | sudo tee -a /etc/ld.so.conf.d/oracle_instant_client.conf\n\t    sudo ldconfig\n\nOn Windows, you need to set the environment variables:\n\nIf you have VisualStudio 2012 installed,\n\n    OCI_INCLUDE_DIR=C:\\instantclient_12_1\\sdk\\include\n    OCI_LIB_DIR=C:\\instantclient_12_1\\sdk\\lib\\msvc\\vc11\n    Path=...;c:\\instantclient_12_1\\vc11;c:\\instantclient_12_1\n\n**Please make sure c:\\instantclient_12_1\\vc11 comes before c:\\instantclient_12_1**\n\nIf you have VisualStudio 2010 installed,\n\n    OCI_INCLUDE_DIR=C:\\instantclient_12_1\\sdk\\include\n    OCI_LIB_DIR=C:\\instantclient_12_1\\sdk\\lib\\msvc\\vc10\n    Path=...;c:\\instantclient_12_1\\vc10;c:\\instantclient_12_1\n\n**Please make sure c:\\instantclient_12_1\\vc10 comes before c:\\instantclient_12_1**\n\n4. Optionally configure the OCI version\n\n`strong-oracle` defaults to OCI v12 (v11 on Mac OS X.)  To make it use an older\nor newer version of the OCI libraries, use the following:\n\n    export GYP_DEFINES=\"oci_version=11\"\n\nOn Windows:\n\n    GYP_DEFINES=\"oci_version=11\"\n\n# Examples\n\nThe simplest way to connect to the database uses the following code:\n\n```javascript\nvar settings = {};\nvar oracle = require(\"strong-oracle\")(settings);\n\nvar connectData = { \"hostname\": \"localhost\", \"user\": \"test\", \"password\": \"test\", \"database\": \"ORCL\" };\n\noracle.connect(connectData, function(err, connection) {\n    ...\n    connection.close(); // call this when you are done with the connection\n  });\n});\n```\nThe `database` parameter contains the \"service name\" or \"SID\" of the database. If you have an Oracle RAC or some other kind of setup, or if you prefer to use \"TNS\", you can do so as well. You can either provide a complete connection string, like:\n\n```javascript\nvar connString = \n      \"(DESCRIPTION=(ADDRESS=(PROTOCOL=TCP)(HOST=localhost)(PORT=1521))(CONNECT_DATA=(SERVER=DEDICATED)(SERVICE_NAME=orcl)))\";\n```\n\nor just the shortcut as declared in your `tnsnames.ora`:\n\n    DEV =\n      (DESCRIPTION =\n        (ADDRESS = (PROTOCOL = TCP)(HOST = localhost)(PORT = 1521))\n        (CONNECT_DATA =\n          (SERVER = DEDICATED)\n          (SERVICE_NAME = orcl)\n        )\n      )\n\nThe connection parameter would then be:\n\n```javascript\nvar connectData = { \"tns\": \"DEV\", \"user\": \"test\", \"password\": \"test\" };\n// or: var connectData = { \"tns\": connString, \"user\": \"test\", \"password\": \"test\" };\n```\n\nTo access a table you could then use:\n\n```javascript\noracle.connect(connData, function(err, connection) {\n\nor just the shortcut as declared in your `tnsnames.ora`:\n\n  // selecting rows\n  connection.execute(\"SELECT * FROM person\", [], function(err, results) {\n    if ( err ) {\n      console.log(err);\n    } else {\n      console.log(results);\n\n      // inserting with return value\n      connection.execute(\n        \"INSERT INTO person (name) VALUES (:1) RETURNING id INTO :2\",\n        ['joe ferner', new oracle.OutParam()],\n        function(err, results) {\n          if ( err ) { console.log(err) } else {\n            console.log(results);\n          }\n          // results.updateCount = 1\n          // results.returnParam = the id of the person just inserted\n          connection.close(); // call this when you are done with the connection\n        }\n      );\n    }\n  \n  });\n});\n```\n\nTo validate whether the connection is still established after some time:\n\n```javascript\nif (! connection.isConnected()) {\n  // retire this connection from a pool\n}\n```\n\n\n## Out Params\n\nThe following Out Params are supported in Stored Procedures:\n\n```\n\nOCCIINT\nOCCISTRING\nOCCIDOUBLE\nOCCIFLOAT\nOCCICURSOR\nOCCICLOB\nOCCIDATE\nOCCITIMESTAMP\nOCCINUMBER\nOCCIBLOB\n\n```\n\nAnd can be used as follows:\n\n```\n\nconnection.execute(\"call myProc(:1,:2)\", [\"nodejs\", new oracle.OutParam(oracle.OCCISTRING)], function(err, results){\n  console.dir(results);\n};\n\n```\n\nWhen using Strings as Out Params, the size can be optionally specified as follows:\n\n```\n\nconnection.execute(\"call myProc(:1,:2)\", [\"nodejs\", new oracle.OutParam(oracle.OCCISTRING, {size: 1000})], function(err, results){\n\n```\n\nIf no size is specified, a default size of 200 chars is used.\n\nSee tests for more examples.\n\n## In/Out Params\n\nThe following INOUT param types are supported:\n\n```\n\nOCCIINT\nOCCISTRING\nOCCIDOUBLE\nOCCIFLOAT\nOCCINUMBER\n\n```\n\nINOUT params are used like normal OUT prams, with the optional 'in' paramater value being passed in the options object:\n\n```\n\nconnection.execute(\"call myProc(:1)\", [new oracle.OutParam(oracle.OCCIINT, {in: 42})], function(err, results){\n  console.dir(results);\n};\n\n```\n\n\n## Connection options\n\nThe following options can be set on the connection:\n\n```\nconnection.setAutoCommit(true/false);\nconnection.setPrefetchRowCount(count);\n```\n\n# Develop\n\n## Install Oracle/Oracle Express\n\n * Download [Oracle Express 10g](http://www.oracle.com/technetwork/database/express-edition/database10gxe-459378.html)\n * Download [Instant Client](http://www.oracle.com/technetwork/database/features/instant-client/index-097480.html)\n  * Instant Client Package - Basic Lite\n  * Instant Client Package - SQL*Plus\n  * Instant Client Package - SDK\n * Install Oracle Express (Ubuntu)\n\n```bash\nsudo dpkg -i oracle-xe_11.2.0.3.0-1.0_i386.deb\nsudo apt-get install alien\nsudo alien oracle-instantclient11.2-*\nsudo dpkg -i oracle-instantclient11.2-*.deb\nsudo /etc/init.d/oracle-xe configure\n```\n\n * Open http://localhost:9999/apex/ change 9999 to the port you configured. Log-in with \"sys\" and the password.\n * Create a user called \"test\" with password \"test\" and give all accesses.\n\n```bash\nsudo vi /etc/ld.so.conf.d/oracle.conf -- add this line /usr/lib/oracle/11.2/client/lib/\nsudo ldconfig\n\nexport ORACLE_SID=test\nexport ORACLE_HOME=/usr/lib/oracle/xe/app/oracle/product/11.2/server\nexport OCI_INCLUDE_DIR=/usr/include/oracle/11.2/client/\nexport OCI_LIB_DIR=/usr/lib/oracle/11.2/client/lib/\nsqlplus test@XE\n```\n\n## Build\n\n```bash\nnpm install\nnpm test\n```\n","starsCount":2,"created":"2014-03-21T22:18:37.199Z","modified":"2017-06-02T16:39:35.473Z","lastPublisher":{"name":"rfeng","email":"enjoyjava@gmail.com"},"owners":[{"email":"enjoyjava@gmail.com","name":"rfeng"},{"email":"skawful@gmail.com","name":"ritch"},{"email":"strngops@us.ibm.com","name":"strongloop"},{"email":"mbajtoss@gmail.com","name":"bajtos"},{"email":"kjdelisle@gmail.com","name":"kjdelisle"},{"email":"tffrench@us.ibm.com","name":"tonyf-ibm"},{"email":"gpandya@live.com","name":"thegman"},{"email":"qpresley@ca.ibm.com","name":"qpresley"},{"email":"gewily@ca.ibm.com","name":"loay"},{"email":"juehou@ca.ibm.com","name":"jannyhou2016"},{"email":"captain@hacksparrow.com","name":"hacksparrow"},{"email":"davidcheung@live.ca","name":"davidcheung"},{"email":"binadmt@hotmail.com","name":"b-admike"},{"email":"amirali.jfr61@gmail.com","name":"amir-61"},{"email":"ngcandy@ca.ibm.com","name":"0candy"},{"email":"superkhau@gmail.com","name":"superkhau"},{"email":"setogit@gmail.com","name":"setogit"},{"email":"rmg@ca.ibm.com","name":"ibmcloud-admin"},{"email":"kraman@gmail.com","name":"kraman"},{"email":"r.m.graham@gmail.com","name":"rmg"},{"email":"vieuxtech@gmail.com","name":"octet"}],"other":{"_attachments":{},"_from":".","_id":"strong-oracle","_nodeVersion":"6.1.0","_npmOperationalInternal":{"host":"packages-16-east.internal.npmjs.com","tmp":"tmp/strong-oracle-1.9.0.tgz_1464996063246_0.9010134912095964"},"_npmUser":{"name":"rfeng","email":"enjoyjava@gmail.com"},"_npmVersion":"3.8.6","_rev":"9-0bb7f3978a0ad6c6ee3f75a3548045fc","_shasum":"5b6a8bbd796496814264f19bb9e50c7a2317d084","bugs":{"url":"https://github.com/strongloop/strong-oracle/issues"},"directories":{},"dist-tags":{"latest":"1.9.0"},"dist":{"shasum":"5b6a8bbd796496814264f19bb9e50c7a2317d084","tarball":"http://registry.npmjs.org/strong-oracle/-/strong-oracle-1.9.0.tgz"},"maintainers":[{"email":"enjoyjava@gmail.com","name":"rfeng"},{"email":"skawful@gmail.com","name":"ritch"},{"email":"strngops@us.ibm.com","name":"strongloop"},{"email":"mbajtoss@gmail.com","name":"bajtos"},{"email":"kjdelisle@gmail.com","name":"kjdelisle"},{"email":"tffrench@us.ibm.com","name":"tonyf-ibm"},{"email":"gpandya@live.com","name":"thegman"},{"email":"qpresley@ca.ibm.com","name":"qpresley"},{"email":"gewily@ca.ibm.com","name":"loay"},{"email":"juehou@ca.ibm.com","name":"jannyhou2016"},{"email":"captain@hacksparrow.com","name":"hacksparrow"},{"email":"davidcheung@live.ca","name":"davidcheung"},{"email":"binadmt@hotmail.com","name":"b-admike"},{"email":"amirali.jfr61@gmail.com","name":"amir-61"},{"email":"ngcandy@ca.ibm.com","name":"0candy"},{"email":"superkhau@gmail.com","name":"superkhau"},{"email":"setogit@gmail.com","name":"setogit"},{"email":"rmg@ca.ibm.com","name":"ibmcloud-admin"},{"email":"kraman@gmail.com","name":"kraman"},{"email":"r.m.graham@gmail.com","name":"rmg"},{"email":"vieuxtech@gmail.com","name":"octet"}],"readmeFilename":"README.md","time":{"modified":"2017-06-02T16:39:35.473Z","created":"2014-03-21T22:18:37.199Z","1.0.0":"2014-03-21T22:18:37.199Z","1.1.0":"2014-03-25T23:24:00.107Z","1.1.1":"2014-03-26T18:32:43.115Z","1.1.2":"2014-03-26T19:09:44.507Z","1.1.3":"2014-03-30T06:58:25.688Z","1.1.4":"2014-04-01T06:43:08.895Z","1.2.0":"2014-05-22T18:48:49.565Z","1.2.1":"2014-09-25T20:07:26.526Z","1.2.2":"2014-11-21T05:02:52.777Z","1.3.0":"2015-01-22T21:42:22.346Z","1.4.0":"2015-03-24T17:51:07.831Z","1.5.0":"2015-03-24T18:34:53.635Z","1.5.1":"2015-03-24T18:37:03.317Z","1.6.0":"2015-03-26T15:37:08.842Z","1.6.1":"2015-04-10T16:30:54.072Z","1.6.2":"2015-05-04T23:07:59.189Z","1.6.3":"2015-05-15T17:36:01.522Z","1.6.4":"2015-05-15T18:05:55.432Z","1.6.5":"2015-07-15T15:40:50.741Z","1.7.0":"2015-09-25T20:00:15.939Z","1.8.0":"2015-12-17T20:36:57.956Z","1.8.1":"2016-02-02T19:40:35.338Z","1.9.0":"2016-06-03T23:21:05.978Z"},"users":{"io2work":true,"kathan":true}}}