{"name":"magick-cli","description":"Native ImageMagick CLI for Node.js","version":"1.0.1","keywords":["ImageMagick","cli","image","processing","PNG","JPEG","JPEG-2000","GIF","TIFF","DPX","EXR","WebP","Postscript","PDF","SVG","resize","flip","mirror","rotate","distort","transform","colors","effects","BÃ©zier","polygons","text","line","ellipses"],"license":"Apache-2.0","scripts":{"test":"node node_modules/jasmine/bin/jasmine.js JASMINE_CONFIG_PATH=test/jasmine.json","install":"node-gyp rebuild"},"engines":{"node":">= 6.0.0"},"gypfile":true,"repository":"https://github.com/NickNaso/magick-cli","homepage":"http://www.nacios.it/","dependencies":{"bindings":"^1.2.1","nan":"^2.6.2"},"devDependencies":{"jasmine":"^2.6.0"},"files":["LICENSE","README.md","CHANGELOG.md","index.js","binding.gyp","magick-cli-path.py","lib/","src/"],"gitHead":"0c215d621a7911e55e08bb560ec21b9ec414f89c","versions":[{"number":"1.0.0","date":"2017-05-02T21:50:51.896Z"},{"number":"1.0.1","date":"2017-07-12T19:09:23.660Z"}],"readme":"<p align=\"center\">\n<img src=\"https://raw.githubusercontent.com/NickNaso/magick-cli/master/node-love-imagemagick.png\"/>\n</p>\n\n# MagickCLI\n\n## Native ImageMagick CLI for Node.js\n\n* [Introduction](#introduction)\n* [Motivations](#motivations)\n* [Prerequisites](#prerequisites)\n* [Installation](#install)\n* [Installation options](#installoptions)\n* [Usage](#usage)\n* [Team](#team)\n* [Acknowledgements](#acknowledgements)\n* [License](#license)\n\n<a name=\"introduction\"></a>\n\n## Introduction\n\n**ImageMagick** is a free and open-source software suite for displaying, converting, and editing raster and vector \nimage files. It utilizes multiple computational threads to increase performance and can read, process, or write mega-, \ngiga-, or tera-pixel image sizes.\n\n### More resource and info about ImageMagick\n\n* [Introduction to ImageMagick](http://imagemagick.org/script/index.php)\n\n* [ImageMagick on Wikipedia](https://en.wikipedia.org/wiki/ImageMagick)\n\n* [ImageMagick command-line](http://imagemagick.org/script/command-line-processing.php)\n\n<a name=\"motivations\"></a>\n\n## Motivations\n\nAt the time i created this module i was not able to find any module on npm that execute ImageMagick command through its C API,\notherwise there were some module that call ImageMagick through the execution of the corresponding shell command. This is a\ngood way to start using some library from node, but there are the following drawbacks:\n\n* **Performance** - The call to the shell command take more time and more resources than calling a library C or C++ API directly from Node.js environment.\n\n* **Errror handler** - Sometimes you cannot intercept and handle errors in a good and a proper way.\n\nTo fit all needs MagickCLI has sync and async methods so it could be used in a web application where it's very important\nto not block the event loop, so all requests will be served without any delay originated by our application.\n\n[Understanding Node.js event loop](https://nodesource.com/blog/understanding-the-nodejs-event-loop/)\n\n<a name=\"prerequisites\"></a>\n\n## Prerequisites\n\nBefore installing MagickCLI you need to assure you have the following prerequisites:\n\n* **Node.JS** see: [Installing Node.js via package manager](https://nodejs.org/en/download/package-manager/)\n\n* **Node.js native addon build tool** see: [node-gyp](https://github.com/nodejs/node-gyp)\n\n* **ImageMagick** for your Operating System.\n\n## At moment MagickCLI is fully compatible with ImgameMagick from version 7.0.1 to 7.0.5\n\n## Linux\n\nYou can install ImageMagick from binary or directly from source:\n\n* [Install from soucre](http://imagemagick.org/script/install-source.php#unix)\n\n* [Install from binary](http://imagemagick.org/script/download.php#unix)\n\nMaybe your linux distribution has already packaged ImageMagick version 7.0.1 or above\nso you can install it using your package manager and all is more simple.\n\n## Windows\n\n* Download the installer for your platform from this link [ImageMagick Windows Installer](http://imagemagick.org/script/download.php#windows)\n\n* Install ImageMagick on your system.\n\n## macOS\n\n* Install Homebrew following the official guide [here](https://brew.sh/index_it.html)\n\n* Open terminal and install ImageMagick\n\n```bash\nbrew install imagemagick\n``` \n\n* Open terminal and install **pkg-info**\n\n```bash\nbrew install pkg-info\n```\n\n<a name=\"install\"></a>\n\n## Installation\n\nIf you want to use **MagickCLI** you have to install it. There are two methods for that:\n\nIn dependencies of your ```package.json``` add the following item:\n\n```json\n\"magick-cli\": \"version\"\n```\n\nthen digit\n\n```console\nnpm install\n```\n\n**Example**:\n\n```json\n\"magick-cli\": \"*\" for the latest version\n\"magick-cli\": \"1.0.0\" for the version 1.0.0\n```\n\n**OR**\n\nlaunch this command:\n\n```console\nnpm install magick-cli --save\n```\n\n<a name=\"usage\"></a>\n\n## Usage\n\n```js\n'use strict'\n\nconst MagickCLI = require('magick-cli')\n\ntry {\n  // Take decision based on ImageMagick version\n  const version = MagickCLI.version()\n  console.log(version)\n  MagickCLI.executeSync('magick input.png -resize 50% output.png')\n} catch (err) {\n  // Handle error\n  throw err\n}\n```\n\n## API\n\n### version\n\n**version()** method returns an string that represent the version of ImageMagick library\ninstalled on the system. It is important in those circumstances where you have to take\ndecision based on different version.\n\n#### Example - version\n\n```js\n'use strict'\n\nconst MagickCLI = require('magick-cli')\n\ntry {\n  const version = MagickCLI.version()\n  console.log(version)\n  // Take decision based on ImageMagick version\n  if (version != '7.0.1') {\n    // ... some stuff\n  } else {\n    // ... other stuff\n  }\n} catch (err) {\n  // Handle error\n  throw err\n}\n```\n\n### executeSync\n\n**executeSync(cmd)** method takes the ImageMagick command parameters in input as a string and executes in a synchronous way.\nIf something wrong happens in calling this method an Error with description and code error will be thrown.\n\n#### Example - executeSync\n\n```js\n'use strict'\n\nconst MagickCLI = require('magick-cli')\n\ntry {\n  MagickCLI.executeSync('magick input.png -resize 50% output.png')\n} catch (err) {\n  // Handle error\n  throw err\n}\n```\n\n### execute\n\n**execute(cmd, callback)** method takes in input the ImageMagick command parameters as a string and an optional callback. \nThe execution will be asynchronous so this ensure better performance especially in a web application enviroment, because \nit'll not block the Node.Js event loop.\nThis method has an optional callback function as input, in that case, a possible error will be handled by this function. \nIf noone function will be provided the method returns a Promise that will be resolved or rejected as reported in the \nfollowing example.\n\n#### Example - execute\n\n```js\n'use strict'\n\nconst MagickCLI = require('magick-cli')\n\nlet cmd = 'magick input.png -resize 50% output.png'\nMagickCLI.execute(cmd, function (err) {\n  if (err) {\n    console.log(\"Ooops... something wrong happened\")\n  }\n})\n\n```\n\n```js\n'use strict'\n\nconst MagickCLI = require('magick-cli')\n\nlet cmd = '-magick input.png -resize 50% output.png'\nMagickCLI.execute(cmd)\n.then(() => {\n  console.log(\"All is ok\")\n})\n.catch((err) => {\n console.log(\"Ooops... something wrong happened\")\n})\n\n```\n\n### Error\n\nThe error raised from **magick-cli** in all of its method is an instance of Error object that cointains a message that\ndescribes what happened and at the same time cointains the ImageMagick error code so you can inspect what happened in a better\nway.\n\n### Min and Max supported revision\n\nThis module was built based on ImageMagick C API that is compatible with some specifics versions. The module has two\nproperties  **MIN_SUPPORTED_REVISION** and **MAX_SUPPORTED_REVISION** which respectively indicate the minimum and maximum\nsupported ImageMagick's version.\n\n#### Example - Min and Max supported revision\n\n```js\n'use strict'\n\nconst MagickCLI = require('magick-cli')\n\nconsole.log(MagickCLI.MIN_SUPPORTED_REVISION)\nconsole.log(MagickCLI.MAX_SUPPORTED_REVISION)\n\n```\n\n<a name=\"team\"></a>\n\n## The Team\n\n### Nicola Del Gobbo\n\n<https://github.com/NickNaso/>\n\n<https://www.npmjs.com/~nicknaso>\n\n<https://twitter.com/NickNaso>\n\n### Mauro Doganieri\n\n<https://github.com/mauro-d>\n\n<https://www.npmjs.com/~mauro-d>\n\n<https://twitter.com/maurodoganieri>\n\n<a name=\"acknowledgements\"></a>\n\n## Acknowledgements\n\nThank you to all people that encourage me every day.\n\n<a name=\"license\"></a>\n\n## License\n\nLicensed under [Apache license V2](./LICENSE)","starsCount":3,"created":"2017-05-02T21:50:51.896Z","modified":"2017-07-12T19:09:23.660Z","lastPublisher":{"name":"nicknaso","email":"nicoladelgobbo@gmail.com"},"owners":[{"name":"mauro-d","email":"mauro.doganieri@gmail.com"},{"name":"nicknaso","email":"nicoladelgobbo@gmail.com"}],"other":{"_attachments":{},"_id":"magick-cli","_nodeVersion":"8.1.4","_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/magick-cli-1.0.1.tgz_1499886562594_0.7801012988202274"},"_npmUser":{"name":"nicknaso","email":"nicoladelgobbo@gmail.com"},"_npmVersion":"5.2.0","_rev":"6-5d2c7aa3b571cfe1a42a945efb624d43","bugs":{"url":"https://github.com/NickNaso/magick-cli/issues"},"contributors":[{"name":"Nicola Del Gobbo","email":"nicoladelgobbo@gmail.com"},{"name":"Mauro Doganieri","email":"mauro.doganieri@gmail.com"}],"directories":{},"dist-tags":{"latest":"1.0.1"},"dist":{"integrity":"sha512-WLcDQXqC+dop+ED8Q1qtXqUGgzsQszME/Nw3e8Vjc//5iMwO/zgNRY6Byp/JACoS1lLuE8Q/nrxce30+LXRMSg==","shasum":"26cdac939dc80500edc37b758aaeeb7612a7f316","tarball":"https://registry.npmjs.org/magick-cli/-/magick-cli-1.0.1.tgz"},"maintainers":[{"name":"mauro-d","email":"mauro.doganieri@gmail.com"},{"name":"nicknaso","email":"nicoladelgobbo@gmail.com"}],"readmeFilename":"README.md","time":{"modified":"2017-07-12T19:09:23.660Z","created":"2017-05-02T21:50:51.896Z","1.0.0":"2017-05-02T21:50:51.896Z","1.0.1":"2017-07-12T19:09:23.660Z"},"users":{"nicknaso":true,"mauro-d":true,"timmimim":true}}}