{"name":"bacnet","description":"(early stages) node wrapper for the bacnet-stack c library","version":"0.0.13","main":"bacnet.js","scripts":{"configure":"node-gyp configure && npm run build","clean":"node-gyp clean","rebuild":"node-gyp rebuild && npm test","build":"node-gyp build && npm test","build-debug":"node-gyp --debug build","test":"mocha spec","testOnly":"mocha","style":"standard","prepublish":"standard && npm rebuild && npm test","install":"node-gyp rebuild"},"devDependencies":{"async":"^1.5.2","mocha":"^2.3.4","should":"^8.0.1","standard":"*"},"dependencies":{"nan":"^2.1.0"},"standard":{"ignore":["bacnet-stack"]},"gypfile":true,"gitHead":"216c2f7f57fa63fd520173dad53d21ae32de9837","versions":[{"number":"0.0.1","date":"2016-04-11T14:10:06.481Z"},{"number":"0.0.2","date":"2016-04-11T14:27:07.049Z"},{"number":"0.0.3","date":"2016-04-11T14:38:08.697Z"},{"number":"0.0.4","date":"2016-04-12T17:19:45.150Z"},{"number":"0.0.5","date":"2016-04-13T14:40:42.705Z"},{"number":"0.0.6","date":"2016-04-13T15:08:22.813Z"},{"number":"0.0.7","date":"2016-04-14T08:47:59.324Z"},{"number":"0.0.8","date":"2016-04-14T09:27:28.713Z"},{"number":"0.0.9","date":"2016-04-20T06:18:27.285Z"},{"number":"0.0.10","date":"2016-04-25T12:18:38.737Z"},{"number":"0.0.11","date":"2016-06-06T11:49:38.031Z"},{"number":"0.0.12","date":"2016-06-07T16:09:17.958Z"},{"number":"0.0.13","date":"2016-10-27T18:06:20.765Z"}],"readme":"# experimental nodejs BACnet wrapper\n\n[![Build Status](https://travis-ci.org/relayr/node-bacnet.svg?branch=master)](https://travis-ci.org/relayr/node-bacnet)\n\nThis is an experiment to see if it is viable to build a thin wrapper around the\n[bacnet-stack c library](http://bacnet.sourceforge.net/) using the Node.js addons api.\n\n## Contents\n\n- bacnet-stack/ - contains the full contents of the c library checked out from svn://svn.code.sf.net/p/bacnet/code/trunk/bacnet-stack\n  - .svn/ - the svn db is checked in to make it easier to update to newer versions and in case we have something to push back to the c library - I don't know if this is a bad idea\n- src/ - contains the wrapper code\n  - h_*.c - request and response message handlers - modified from code in bacnet-stack/demo/handlers\n  - functions.cc - contains the addon code that runs when functions are called from js\n  - init.cc - runs on module initialisation\n  - module.cc - defines the module\n  - *conversion.cc - provides conversions between js and the BACnet structs\n  - emitter.cc - emits js events into an EventEmitter in js-land asynchronously with events from the c code\n- test/test.js - contains just a single example script which uses the module to send a whois message\n\n## License\n\nThe bacnet-stack code is provided under an eCos license, which is a GPL license with the exception that code linked to\nit is not covered. For simplicity we would release the wrapper also under the eCos license.\n\nSome code is additionally licensed under an MIT license.\n\n## Technical considerations\n\n- Currently this builds for OSX and Linux (x86), it needs to be cross-platform. The c library supports most everything\n  so it shouldn't be a problem.\n- We will want some high load tests to detect memory leaks and incorrect threading.\n- Some of the bacnet-stack code is static and so we are restricted to one instance per VM - the tests spawn various \n  devices in forked VMs \n- Many of the files I've included in the build are probably not needed and can be removed to reduce install time\n- We may want to switch to a tag of the bacnet-stack instead of the random head on the day I started the project\n- Segmentation is not supported in bacnet-stack (see below)\n- I've seen failures occasionally when making requests concurrently \n\n## Installation\n\n`npm install` should get everything you need. Though you may also need to install compiler tools - such as \n`build-essential` on Ubuntu.\n\n## Operations needed\n\nBACnet is a huge and impressive protocol suite - the scope of this project currently is only to cover the most basic \noperations which are needed for our use case and compliance.\n\nFor our use case we will need at least these commands:\n\n- whois\n- write property\n- read property\n- subscribe to cov\n\nAnd to receive these messages:\n\n- i am\n- read ack\n- write ack\n- cov ack\n- cov notification\n\nIn order to simulate devices we will also want these the opposite way around.\n\n## Priorities remaining\n\n6. synchronise sending requests\n7. separate the code into modules\n8. use c++11\n12. Subscribe to COV\n13. Try again to get 2 devices running on 1 process\n14. Add stress tests to seek memory leaks / socket problems / queue exhaustion (events added faster than consumed in either direction)\n15. Enable writing of the deviceid using WriteProperty - so it can be configured by the installer\n16. Get cross-architecture tests running\n17. Get cross-architecture to work\n18. Make initialisation non-blocking\n\n## Things we're not currently trying to support\n\n- non-ip datalinks\n- bbmp / remote device registration\n- services other than those above\n- bacnet routers\n\n## Useful BACnet documentation\n\n- [BACnet device IDs](http://kargs.net/BACnet/Foundations2012-BACnetDeviceID.pdf)\n- [Segmentation in BACnet](http://www.chipkin.com/segementation-in-bacnet/)\n- [The language of BACnet](http://www.bacnet.org/Bibliography/ES-7-96/ES-7-96.htm)\n\n\n## Usage considerations\n\n### Segmentation not supported\n\nbacnet-stack doesnt support segmentation - so this client doesn't support segmentation. \n\nThis can be worked around for large arrays (particularly object lists) by reading the length of the array (index 0) and \nthen reading each element of the array. This should be OK if these arrays don't need to be subscribed using COV or read \nregularly.\n\nAnother option is that we find a way to get segmentation support, such as by merging this branch - \nhttps://svn.code.sf.net/p/bacnet/code/branches/jbennet/bacnet-stack-0-5-7/\n\n## Known issues\n\n### Ran out of invoke ids!\n\nOccasionally runs out of invocation IDs - the request will throw an\nerror immediately and with PRINT_ENABLED will print to console \"Ran out \nof invoke ids!\" - this may not be recoverable - we have to look into how \nthe underlying c library issues and reuses the invocation ids.\n\n### Issues with concurrent BACnet requests\n\nIt doesn't always happen, but at the moment its best to avoid concurrent requests.\n","created":"2016-04-11T14:10:06.481Z","modified":"2016-10-27T18:06:20.765Z","lastPublisher":{"name":"platy","email":"mpbush@gmail.com"},"owners":[{"name":"platy","email":"mpbush@gmail.com"}],"other":{"_attachments":{},"_from":".","_id":"bacnet","_nodeVersion":"4.4.4","_npmOperationalInternal":{"host":"packages-12-west.internal.npmjs.com","tmp":"tmp/bacnet-0.0.13.tgz_1477591577787_0.11080986703746021"},"_npmUser":{"name":"platy","email":"mpbush@gmail.com"},"_npmVersion":"2.15.1","_rev":"2-2fad2a35a547f405774aeef626ce4b97","_shasum":"d09cd0e96efce7d85421591743c33d2efd8ed856","directories":{},"dist-tags":{"latest":"0.0.13"},"dist":{"shasum":"d09cd0e96efce7d85421591743c33d2efd8ed856","tarball":"http://registry.npmjs.org/bacnet/-/bacnet-0.0.13.tgz"},"maintainers":[{"name":"platy","email":"mpbush@gmail.com"}],"readmeFilename":"README.md","time":{"modified":"2016-10-27T18:06:20.765Z","created":"2016-04-11T14:10:06.481Z","0.0.1":"2016-04-11T14:10:06.481Z","0.0.2":"2016-04-11T14:27:07.049Z","0.0.3":"2016-04-11T14:38:08.697Z","0.0.4":"2016-04-12T17:19:45.150Z","0.0.5":"2016-04-13T14:40:42.705Z","0.0.6":"2016-04-13T15:08:22.813Z","0.0.7":"2016-04-14T08:47:59.324Z","0.0.8":"2016-04-14T09:27:28.713Z","0.0.9":"2016-04-20T06:18:27.285Z","0.0.10":"2016-04-25T12:18:38.737Z","0.0.11":"2016-06-06T11:49:38.031Z","0.0.12":"2016-06-07T16:09:17.958Z","0.0.13":"2016-10-27T18:06:20.765Z"}}}