{"name":"v4l2camera","version":"1.0.4","description":"Capturing images from USB(UVC) webcam on linux machines","keywords":["linux","camera","native","v4l2","video4linux2"],"homepage":"https://github.com/bellbind/node-v4l2camera","license":"(MIT OR LGPL-3.0)","main":"./index.js","repository":"https://github.com/bellbind/node-v4l2camera","devDependencies":{"pngjs":"*","jpeg-js":"*"},"engines":{"node":">=4.0.0"},"scripts":{"test":"node test.js","make-c-examples":"make -f c-examples.makefile","install":"node-gyp rebuild"},"os":["linux"],"dependencies":{"nan":">=2.3.0"},"gypfile":true,"gitHead":"7d2c321ca123e2ee6bbc83426e152a6c6717c728","versions":[{"number":"0.0.3","date":"2013-10-08T12:48:03.532Z"},{"number":"0.0.4","date":"2013-10-08T13:20:47.537Z"},{"number":"0.0.5","date":"2013-10-08T13:55:13.191Z"},{"number":"0.1.0","date":"2013-10-10T14:47:22.476Z"},{"number":"0.1.1","date":"2013-10-11T02:05:49.730Z"},{"number":"0.2.0","date":"2013-10-11T23:52:42.457Z"},{"number":"0.2.1","date":"2013-10-12T01:00:21.006Z"},{"number":"0.2.2","date":"2013-10-13T09:29:14.900Z"},{"number":"0.3.0","date":"2013-10-13T10:35:59.620Z"},{"number":"0.4.0","date":"2013-10-13T14:08:25.163Z"},{"number":"0.4.1","date":"2013-10-13T14:13:08.585Z"},{"number":"0.4.2","date":"2013-10-16T13:06:11.838Z"},{"number":"0.4.3","date":"2014-03-14T17:49:50.188Z"},{"number":"1.0.0","date":"2015-10-09T13:00:31.560Z"},{"number":"1.0.1","date":"2015-11-01T05:07:48.603Z"},{"number":"1.0.2","date":"2015-11-01T09:31:17.813Z"},{"number":"1.0.4","date":"2016-06-02T18:29:20.118Z"}],"readme":"# node-v4l2camera\n\nCapturing images from USB(UVC) webcam on linux machines.\n\n## Requirements\n\n- node >= 4.x\n- video4linux2 headers\n- c and c++ compiler with `-std=c11` and `-std=c++14`\n    - gcc >= 4.9\n\n## Install\n\nOn linux machines:\n\n```bash\nnpm install v4l2camera\n```\n\n- package details: https://npmjs.org/package/v4l2camera\n\n## Usage\n\n```js\nvar v4l2camera = require(\"v4l2camera\");\n\nvar cam = new v4l2camera.Camera(\"/dev/video0\");\nif (cam.configGet().formatName !== \"MJPG\") {\n  console.log(\"NOTICE: MJPG camera required\");\n  process.exit(1);\n}\ncam.start();\ncam.capture(function (success) {\n  var frame = cam.frameRaw();\n  require(\"fs\").createWriteStream(\"result.jpg\").end(Buffer(frame));\n  cam.stop();\n});\n```\n\nFor more detail see: examples/*.js (required \"pngjs\" modules)\n\n## API\n\nInitializing and Configuration API\n\n- `var cam = new v4l2camera.Camera(device)`\n    - `device`: e.g. `\"/dev/video0\"`\n- `cam.formats`: Array of available frame formats\n- `var format = cam.formats[n]`\n    - `format.formatName`: Name of pixel format. e.g. `\"YUYV\"`, `\"MJPG\"`\n    - `format.format`: ID number of pixel format\n    - `format.width`: Frame width\n    - `format.height`: Frame height\n    - `format.interval.numerator` and `format.interval.denominator`\n      : Capturing interval per `numerator/denominator` seconds \n      (e.g. 30fps is 1/30)\n- `cam.configSet(format)`\n  : Set capture `width`, `height`, `interval` per `numerator/denominator` sec\n  if the members exist in the `format` object\n- `cam.configGet()` : Get a `format` object of current config\n\nCapturing API (control flow)\n\n- `cam.start()`\n- `cam.stop(afterStoped)`\n    - call re-`config(format)` or re-`start()` in `afterStoped()` callback\n- `cam.capture(afterCaptured)`: Do cache a current captured frame\n    - use `cam.frameRaw()` in `afterCaptured(true)` callback\n\nCapturing API (frame access)\n\n- `cam.frameRaw()`: Get the cached raw frame as `Uint8Array`\n   (YUYU frame is array of YUYV..., MJPG frame is single JPEG compressed data)\n- `cam.toYUYV()`: Get the cached frame as `Uint8Array` of pixels YUYVYUYV...\n   (will be deprecated method)\n- `cam.toRGB()`: Get the cached frame as `Uint8Array` of pixels RGBRGB...\n   (will be deprecated method)\n\nCapturing API (camera frame info)\n\n- `cam.device`: the device file name e.g. `\"/dev/video0\"`\n- `cam.width`: pixel width of the camera\n- `cam.height`: pixel height of the camera\n\nControl API\n\n- `cam.controls`: Array of the control information\n- `cam.controlGet(id)`: Get int value of the control of the `id`\n  (id is one of cam.controls[n].id)\n- `cam.controlSet(id, value)`: Set int value of the control of the `id`\n- `var control = cam.controls[n]`: Control spec\n    - `control.id`: Control `id` for controlGet and controlSet\n    - `control.name`: Control name string\n    - `control.type`: `\"int\"`, `\"bool\"`, `\"button\"`, `\"menu\"` or other types\n    - `control.max`, `control.min`, `control.step`: value should be\n      `min <= v` and `v <= max` and `(v - min) % step === 0`\n    - `control.default`: default value of the control\n    - `control.flags`: Several bool flags of the controls\n    - `control.menu`: Array of items. \n      A control value is the index of the menu item when type is `\"menu\"`.\n\n## Build for Development\n\nOn linux machines:\n\n```bash\ncd myproject\nmkdir -p node_modules\ncd node_modules\ngit clone https://github.com/bellbind/node-v4l2camera.git v4l2camera\ncd v4l2camera\nnpm install\ncd ../..\n```\n\n\"build/Release/v4l2camera.node\" is exist after the build.\n\n## Tested Environments\n\n- Ubuntu wily armhf on BeagleBone Black with USB Buffalo BSW13K10H\n- Ubuntu wily amd64 on Acer Aspire One with its screen facecam\n- [Travis-CI (build only)](https://travis-ci.org/bellbind/node-v4l2camera):\n  ![Build Status](https://travis-ci.org/bellbind/node-v4l2camera.svg)\n\n## Licenses\n\n[MIT](http://opensource.org/licenses/MIT) and \n[LGPL-3.0](http://opensource.org/licenses/LGPL-3.0) dual\n","starsCount":4,"created":"2013-10-08T12:48:00.008Z","modified":"2017-02-27T16:08:01.539Z","lastPublisher":{"name":"bellbind","email":"bellbind@gmail.com"},"owners":[{"name":"bellbind","email":"bellbind@gmail.com"}],"other":{"_attachments":{},"_from":".","_id":"v4l2camera","_nodeVersion":"6.2.0","_npmOperationalInternal":{"host":"packages-12-west.internal.npmjs.com","tmp":"tmp/v4l2camera-1.0.4.tgz_1464892159646_0.40505370730534196"},"_npmUser":{"name":"bellbind","email":"bellbind@gmail.com"},"_npmVersion":"3.8.9","_rev":"2-10f9d783d611d6b9f8d41186b53242c3","_shasum":"9c68be925030e85044629121071d934b0c173095","author":{"name":"bellbind","email":"bellbind@gmail.com","url":"http://bellbind.tumblr.com"},"bugs":{"url":"https://github.com/bellbind/node-v4l2camera/issues"},"contributors":[{"name":"Tim Cameron Ryan","email":"id@timryan.org","url":"https://github.com/tcr"},{"name":"vird","email":"virdvip@gmail.com","url":"https://github.com/vird"},{"name":"Lennart Kolmodin","email":"kolmodin@gmail.com","url":"https://github.com/kolmodin"}],"directories":{"example":"./examples"},"dist-tags":{"latest":"1.0.4"},"dist":{"shasum":"9c68be925030e85044629121071d934b0c173095","tarball":"http://registry.npmjs.org/v4l2camera/-/v4l2camera-1.0.4.tgz"},"maintainers":[{"name":"bellbind","email":"bellbind@gmail.com"}],"readmeFilename":"readme.md","time":{"modified":"2017-02-27T16:08:01.539Z","created":"2013-10-08T12:48:00.008Z","0.0.3":"2013-10-08T12:48:03.532Z","0.0.4":"2013-10-08T13:20:47.537Z","0.0.5":"2013-10-08T13:55:13.191Z","0.1.0":"2013-10-10T14:47:22.476Z","0.1.1":"2013-10-11T02:05:49.730Z","0.2.0":"2013-10-11T23:52:42.457Z","0.2.1":"2013-10-12T01:00:21.006Z","0.2.2":"2013-10-13T09:29:14.900Z","0.3.0":"2013-10-13T10:35:59.620Z","0.4.0":"2013-10-13T14:08:25.163Z","0.4.1":"2013-10-13T14:13:08.585Z","0.4.2":"2013-10-16T13:06:11.838Z","0.4.3":"2014-03-14T17:49:50.188Z","1.0.0":"2015-10-09T13:00:31.560Z","1.0.1":"2015-11-01T05:07:48.603Z","1.0.2":"2015-11-01T09:31:17.813Z","1.0.4":"2016-06-02T18:29:20.118Z"},"users":{"brandonpapworth":true,"hecto932":true,"march1993":true,"peter.forgacs":true}}}