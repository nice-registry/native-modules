{"name":"ghostscript4js","description":"Bindings for the Ghostscript C API to the Node.JS world.","version":"2.0.3","keywords":["ghostscript","postscript","native","pdf","ps","eps"],"license":"Apache-2.0","scripts":{"test":"node node_modules/jasmine/bin/jasmine.js JASMINE_CONFIG_PATH=test/jasmine.json","install":"node-gyp rebuild"},"engines":{"node":">= 4.0.0"},"gypfile":true,"repository":"https://github.com/NickNaso/ghostscript4js","homepage":"http://www.nacios.it/","dependencies":{"bindings":"^1.2.1","nan":"^2.6.2"},"devDependencies":{"jasmine":"^2.6.0"},"main":"./index.js","files":["LICENSE","README.md","CHANGELOG.md","binding.gyp","index.js","gs4js-env-home.js","binding.gyp","lib/","src/"],"gitHead":"404d5d3429810c2191571ac0cd53fd0451f708cf","versions":[{"number":"1.0.0","date":"2017-02-20T21:49:22.015Z"},{"number":"1.0.1","date":"2017-02-20T21:54:30.889Z"},{"number":"1.0.2","date":"2017-02-20T22:02:39.101Z"},{"number":"1.0.3","date":"2017-02-20T22:11:55.921Z"},{"number":"1.0.5","date":"2017-02-22T19:52:09.605Z"},{"number":"1.0.7","date":"2017-03-03T01:43:44.682Z"},{"number":"1.0.8","date":"2017-03-11T01:36:10.090Z"},{"number":"1.0.11","date":"2017-03-11T02:32:21.726Z"},{"number":"1.0.13","date":"2017-04-05T22:24:10.927Z"},{"number":"1.0.17","date":"2017-04-05T22:27:25.526Z"},{"number":"1.0.19","date":"2017-04-05T22:34:28.132Z"},{"number":"2.0.0","date":"2017-04-18T22:00:12.579Z"},{"number":"2.0.1","date":"2017-04-18T23:22:41.705Z"},{"number":"2.0.3","date":"2017-06-29T22:05:31.234Z"}],"readme":"<p align=\"center\">\n<img src=\"https://raw.githubusercontent.com/NickNaso/ghostscript4js/master/node-love-ghostscript.png\"/>\n</p>\n\n# Ghostscript4JS \n## This module binds the Ghostscript C API to bring its power to the Node.JS world\n\n* [Introduction](#introduction)\n* [Motivations](#motivations)\n* [Prerequisites](#prerequisites)\n* [Installation](#install)\n* [Installation options](#installoptions)\n* [Usage](#usage)\n* [Team](#team)\n* [Acknowledgements](#acknowledgements)\n* [License](#license)\n\n\n<a name=\"introduction\"></a>\n\n## Introduction\n\n**Ghostscript** is a suite of software based on an interpreter for Adobe Systems' PostScript and Portable Document Format (PDF)\npage description languages. Its main purposes are the rasterization or rendering of such page description language files,\nfor the display or printing of document pages, and the conversion between PostScript and PDF files.\n\nGhostscript can be used as a raster image processor (RIP) for raster computer printers—for instance, as an input filter\nof line printer daemon—or as the RIP engine behind PostScript and PDF viewers.\n\nGhostscript can also be used as a file format converter, such as PostScript to PDF converter. The **ps2pdf** conversion program,\nwhich comes with the ghostscript distribution, is described by its documentation as a \"work-alike for nearly all the functionality\n(but not the user interface) of Adobe's Acrobat Distiller product\".[3] This converter is basically a thin wrapper around\nghostscript's pdfwrite output device, which supports PDF/A-1 and PDF/A-2 as well as PDF/X-3 output.[3]\n\nGhostscript can also serve as the back-end for **PDF** to **raster image** (png, tiff, jpeg, etc.) converter; this is often\ncombined with a PostScript printer driver in \"virtual printer\" PDF creators.\n\nAs it takes the form of a language interpreter, Ghostscript can also be used as a general purpose programming environment.\n\nGhostscript has been ported to many operating systems, including Unix-like systems, classic **Mac OS**, **OpenVMS**, **Microsoft Windows**,\n**Plan 9**, **MS-DOS**, **FreeDOS**, **OS/2**, **Atari TOS and AmigaOS**.\n\n### More resource and info about Ghostscript\n\n* [Introduction to Ghostscript](https://www.gnu.org/software/ghostscript/intro.html)\n\n* [Ghostscript on Wikipedia](https://en.wikipedia.org/wiki/Ghostscript)\n\n* [Ghostscript documentation](https://www.ghostscript.com/Documentation.html)\n\n<a name=\"motivations\"></a>\n\n## Motivations\n\nAt the time i created this module i was not able to find any module on npm that execute Ghostscript command through its C API,\notherwise there were some module that call Ghostscript through the execution of the corresponding shell command. This is a\ngood way to start using some library from node, but there are the following drawbacks:\n\n* **Performance** - The call to the shell command take more time and more resources than calling a library C or C++ API directly from Node.js environment.\n\n* **Errror handler** - Sometimes you cannot intercept and handle errors in a good and a proper way.\n\nTo fit all needs Ghostscript4JS has sync and async methods so it could be used in a web application where it's very important\nto not block the event loop, so all requests will be served without any delay originated by our application.\n\n[Understanding Node.js event loop](https://nodesource.com/blog/understanding-the-nodejs-event-loop/)\n\n<a name=\"prerequisites\"></a>\n\n## Prerequisites\n\nBefore installing Ghostscript4JS you need to assure you have the following prerequisites:\n\n* **Node.JS** see: [Installing Node.js via package manager](https://nodejs.org/en/download/package-manager/)\n\n* **Node.js native addon build tool** see: [node-gyp](https://github.com/nodejs/node-gyp)\n\n* **Ghostscript** for your Operating System.\n\n## At moment Ghostscript4JS is fully compatible with Ghostscript version 9.19 and 9.21\n\n## Linux\n\n### Debian systems\n\nInstall Ghostscript\n\n```bash\nsudo apt-get install ghostscript\n```\n\nthen\n\n```bash\nsudo apt-get install libgs-dev\n```\n\nAt this point you need to set the enviroment variable **GS4JS_HOME** to  ```/usr/lib/x86_64-linux-gnu```\n\n### Red Hat | Fedora\n\n```bash\nyum install ghostscript\n```\n\nthen\n\n```bash\nyum install ghostscript-devel\n```\n\nAt this point you need to set the enviroment variable **GS4JS_HOME** to  ```/usr/lib64``` or ```/usr/lib``` based on you architecture\n\nIn general, based on your Linux OS and architecture, you have to set the environment variable **GS4JS_HOME** to point on folder containing ```libgs.so``` library.\n\n## Windows\n\n* Download last Ghostscript version for your platform [x86](https://github.com/ArtifexSoftware/ghostpdl-downloads/releases/download/gs920/gs920w32.exe) or [x64](https://github.com/ArtifexSoftware/ghostpdl-downloads/releases/download/gs920/gs920w64.exe)\n\n* Install Ghostscript on your system, for example in ```C:\\gs```\n\n* Add the environment variable **GS4JS_HOME** to point to a folder containing Ghostscript's DLL and Library files (Es. gsdll64.dll and gsdll64.lib). Typically, they are located in **bin** folder of you ghostscript installation, for example ```C:\\gs\\bin```\n\n## macOS\n\n* Install Homebrew following the official guide [here](https://brew.sh/index_it.html)\n\n* Open terminal and install Ghostscript\n\n```bash\nbrew install ghostscript\n```\n\n* Set the environment variable **GS4JS_HOME** to ```/usr/local/lib```\n\n## Official installation guide to install Ghostscript\n\n* [Installation from official documentation](https://ghostscript.com/doc/current/Install.htm)\n\n* [Download Ghostscript](https://ghostscript.com/download/gsdnld.html)\n\n<a name=\"install\"></a>\n\n## Installation\n\nIf you want to use ghostscript4js you have to install it. There are two methods for that:\n\nIn dependencies of your ```package.json``` add the following item:\n\n```json\n\"ghostscript4js\": \"version\"\n```\n\nthen digit\n\n```console\nnpm install\n```\n\n**Example**:\n\n```json\n\"ghostscript4js\": \"*\" for the latest version\n\"ghostscript4js\": \"1.0.0\" for the version 1.0.0\n```\n\n**OR**\n\nlaunch this command:\n\n```console\nnpm install ghostscript4js --save\n```\n\n<a name=\"installoptions\"></a>\n\n## Installation options\n\nThe module ghostscript4js allows you to use some installation options that you can use when in your operating system something is different against standard installation.\n\n**--GS4JS_HOME** Set the GS4JS_HOME variable that represents the path in your system where is located the ghostscript library\n\nEs. ```npm install ghostscript4js --GS4JS_HOME=\"C:/gs/bin\"```\n\n**--GS4JS_LIB** Set the GS4JS_LIB variable that represents the file name for the ghostscript library installed in your system\n\nEs. ```npm install ghostscript4js --GS4JS_LIB=\"libgs.so\"```\n\n### Only for Windows\n\n**--GS4JS_DLL** Set the GS4JS_DLL variable that represents the file name for the ghostscript DLL installed in your windows system\n\nEs. ```npm install ghostscript4js --GS4JS_DLL=\"gsdll64.dll\"```\n\n<a name=\"usage\"></a>\n\n## Usage\n\n```js\n'use strict'\n\nconst gs = require('ghostscript4js')\n\ntry {\n  // Take decision based on Ghostscript version\n  const version = gs.version()\n  console.log(version)\n  gs.executeSync('-sDEVICE=pngalpha -o my.png -sDEVICE=pngalpha -r144 my.pdf')\n} catch (err) {\n  // Handle error\n  throw err\n}\n```\n\n## API\n\n### version\n\n**version()** method returns an object that contains information about version of Ghostscript library\ninstalled on the system. It is important in those circumstances where you have to take\ndecision based on different version.\nThe returned data are similar to the example repoted below:\n\n```js\n{\n  product: \"GPL Ghostscript\",\n  copyright: \"Copyright (C) 2016 Artifex Software, Inc.  All rights reserved.\",\n  revision: 919,\n  revisiondate: 20160323\n}\n```\n\nThis is a synchronous method and returns the version info or throws an Error to indicate that\nsomething went wrong during its execution.\n\n#### Example - version\n\n```js\n'use strict'\n\nconst gs = require('ghostscript4js')\n\ntry {\n  const version = gs.version()\n  console.log(version)\n  // Take decision based on Ghostscript version\n  if (version.revision > 916) {\n    // ... some stuff\n  } else {\n    // ... other stuff\n  }\n} catch (err) {\n  // Handle error\n  throw err\n}\n```\n\n### executeSync\n\n**executeSync(cmd)** method takes the Ghostscript command parameters in input as a string and executes in a synchronous way.\nIf something wrong happens in calling this method an Error with description and code error will be thrown.\n\n#### Example - executeSync\n\n```js\n'use strict'\n\nconst gs = require('ghostscript4js')\n\ntry {\n  gs.executeSync('-sDEVICE=pngalpha -o my.png -sDEVICE=pngalpha -r144 my.pdf')\n} catch (err) {\n  // Handle error\n  throw err\n}\n```\n\n### execute\n\n**execute(cmd, callback)** method takes in input the Ghostscript command parameters as a string and an optional callback. The execution will be asynchronous so this ensure better performance especially in a web application enviroment, because it'll not block the Node.Js event loop.\nThis method has an optional callback function as input, in that case, a possible error will be handled by this function. If noone function will be provided the method returns a Promise that will be resolved or rejected as reported in the following example.\n\n#### Example - execute\n\n```js\n'use strict'\n\nconst gs = require('ghostscript4js')\n\nlet cmd = '-sDEVICE=pngalpha -o my.png -sDEVICE=pngalpha -r144 my.pdf'\ngs.execute(cmd, function (err) {\n  if (err) {\n    console.log(\"Ooops... something wrong happened\")\n  }\n})\n\n```\n\n```js\n'use strict'\n\nconst gs = require('ghostscript4js')\n\nlet cmd = '-sDEVICE=pngalpha -o my.png -sDEVICE=pngalpha -r144 my.pdf'\ngs.execute(cmd)\n.then(() => {\n  console.log(\"All is ok\")\n})\n.catch((err) => {\n console.log(\"Ooops... something wrong happened\")\n})\n\n```\n\n### Error\n\nThe error raised from **ghostscript4js** in all of its method is an instance of Error object that cointains a message that\ndescribes what happened and at the same time cointains the Ghostscript error code so you can inspect what happened in a better\nway. At this link [Ghostscript error codes](https://ghostscript.com/doc/current/API.htm#return_codes) you can find all Ghostscript errors code.\n\n### Min and Max supported revision\n\nThis module was built based on Ghostscript C API that is compatible with some specifics versions. The module has two\nproperties  **MIN_SUPPORTED_REVISION** and **MAX_SUPPORTED_REVISION** which respectively indicate the minimum and maximum supported Ghostscript's version.\n\n#### Example - Min and Max supported revision\n\n```js\n'use strict'\n\nconst gs = require('ghostscript4js')\n\nconsole.log(gs.MIN_SUPPORTED_REVISION)\nconsole.log(gs.MAX_SUPPORTED_REVISION)\n\n```\n\n<a name=\"team\"></a>\n\n## The Team\n\n### Nicola Del Gobbo\n\n<https://github.com/NickNaso/>\n\n<https://www.npmjs.com/~nicknaso>\n\n<https://twitter.com/NickNaso>\n\n### Mauro Doganieri\n\n<https://github.com/mauro-d>\n\n<https://www.npmjs.com/~mauro-d>\n\n<https://twitter.com/maurodoganieri>\n\n<a name=\"acknowledgements\"></a>\n\n## Acknowledgements\n\nThank you to all people that encourage me every day.\n\n<a name=\"license\"></a>\n\n## License\n\nLicensed under [Apache license V2](./LICENSE)\n","starsCount":2,"created":"2017-02-20T21:49:22.015Z","modified":"2017-06-29T22:05:31.234Z","lastPublisher":{"name":"nicknaso","email":"nicoladelgobbo@gmail.com"},"owners":[{"name":"mauro-d","email":"mauro.doganieri@gmail.com"},{"name":"nicknaso","email":"nicoladelgobbo@gmail.com"}],"other":{"_attachments":{},"_id":"ghostscript4js","_nodeVersion":"8.1.3","_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/ghostscript4js-2.0.3.tgz_1498773930191_0.4984816333744675"},"_npmUser":{"name":"nicknaso","email":"nicoladelgobbo@gmail.com"},"_npmVersion":"5.0.4","_rev":"17-7f4da64afdcfb5028c3ad61645f4061a","bugs":{"url":"https://github.com/NickNaso/ghostscript4js/issues"},"contributors":[{"name":"Nicola Del Gobbo","email":"nicoladelgobbo@gmail.com"},{"name":"Mauro Doganieri","email":"mauro.doganieri@gmail.com"}],"directories":{},"dist-tags":{"latest":"2.0.3"},"dist":{"integrity":"sha512-5LfYUPN3oRC/Ix3FjX1nQyMb1lcTQpAtAcV6QUhrIQjsv22aaHUCan80SXwDRLJ1KDCbG2TTnLycjzHHG7Rcyw==","shasum":"c29cb0c6625660e72946e903f56aa0858a360cb0","tarball":"https://registry.npmjs.org/ghostscript4js/-/ghostscript4js-2.0.3.tgz"},"maintainers":[{"name":"mauro-d","email":"mauro.doganieri@gmail.com"},{"name":"nicknaso","email":"nicoladelgobbo@gmail.com"}],"readmeFilename":"README.md","time":{"modified":"2017-06-29T22:05:31.234Z","created":"2017-02-20T21:49:22.015Z","1.0.0":"2017-02-20T21:49:22.015Z","1.0.1":"2017-02-20T21:54:30.889Z","1.0.2":"2017-02-20T22:02:39.101Z","1.0.3":"2017-02-20T22:11:55.921Z","1.0.5":"2017-02-22T19:52:09.605Z","1.0.7":"2017-03-03T01:43:44.682Z","1.0.8":"2017-03-11T01:36:10.090Z","1.0.11":"2017-03-11T02:32:21.726Z","1.0.13":"2017-04-05T22:24:10.927Z","1.0.17":"2017-04-05T22:27:25.526Z","1.0.19":"2017-04-05T22:34:28.132Z","2.0.0":"2017-04-18T22:00:12.579Z","2.0.1":"2017-04-18T23:22:41.705Z","2.0.3":"2017-06-29T22:05:31.234Z"},"users":{"nicknaso":true,"mirohibler":true}}}