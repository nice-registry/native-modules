{"name":"posix-ext","version":"0.4.1","description":"A drop-in replacement for the Node.js modules process, fs and posix providing their POSIX functionality on both POSIX and Windows platforms.","homepage":"https://github.com/prantlf/node-posix-ext/","license":"MIT","repository":"https://github.com/prantlf/node-posix-ext","keywords":["process","fs","posix","filesystem","getuid","getgid","getgroups","getgrnam","getgrgid","getpwname","getpwuid","stat","lstat","fstat","chown","lchown","fchown"],"main":"./lib/posix-ext","engines":{"node":">= 0.10.0"},"gypfile":true,"scripts":{"postinstall":"npmpd","configure":"node-gyp configure","build":"node-gyp build","test":"mocha --timeout 10000","semantic-release":"semantic-release pre && npm publish && semantic-release post","install":"node-gyp rebuild"},"devDependencies":{"chai":"^4.1.1","mocha":"^3.5.0","node-gyp":"~3.6.2","semantic-release":"^6.3.6"},"dependencies":{"bindings":"~1.3.0","nan":"~2.6.2","npm-platform-dependencies":"~0.0.13"},"darwinDependencies":{"posix":"~4.1.1"},"linuxDependencies":{"posix":"~4.1.1"},"gitHead":"82b19b1624a7eed4c2c51b6259ac004c5fb7859f","versions":[{"number":"0.1.0","date":"2014-01-02T00:03:06.330Z"},{"number":"0.1.1","date":"2014-01-20T20:00:11.725Z"},{"number":"0.1.2","date":"2017-07-29T16:52:33.930Z"},{"number":"0.0.0-development","date":"2017-08-06T16:18:25.206Z"},{"number":"0.0.0","date":"2017-08-06T16:41:30.995Z"},{"number":"0.2.1","date":"2017-08-06T16:44:39.831Z"},{"number":"0.2.2","date":"2017-08-06T16:51:56.180Z"},{"number":"0.2.3","date":"2017-08-06T16:56:00.597Z"},{"number":"0.2.4","date":"2017-08-06T17:12:13.972Z"},{"number":"0.2.5","date":"2017-08-06T17:17:10.978Z"},{"number":"0.3.0","date":"2017-08-07T00:27:13.214Z"},{"number":"0.3.1","date":"2017-08-07T00:35:07.749Z"},{"number":"0.3.2","date":"2017-08-07T00:39:20.971Z"},{"number":"0.4.0","date":"2017-08-07T09:58:11.331Z"},{"number":"0.4.1","date":"2017-08-07T10:32:20.061Z"}],"readme":"# node-posix-ext\n\nA drop-in replacement for the Node.js modules process, fs and posix\nproviding their POSIX functionality on both POSIX and Windows platforms.\n\n[![NPM version](https://badge.fury.io/js/node-posix-ext.png)](http://badge.fury.io/js/node-posix-ext) [![Build Status](https://api.travis-ci.org/prantlf/node-posix-ext.png)](http://travis-ci.org/prantlf/node-posix-ext) [![Dependency Status](https://david-dm.org/prantlf/node-posix-ext.svg)](https://david-dm.org/prantlf/node-posix-ext) [![devDependency Status](https://david-dm.org/prantlf/node-posix-ext/dev-status.svg)](https://david-dm.org/prantlf/node-posix-ext#info=devDependencies) [![Greenkeeper badge](https://badges.greenkeeper.io/prantlf/node-posix-ext.svg)](https://greenkeeper.io/)\n\n[![NPM Downloads](https://nodei.co/npm/posix-ext.png?downloads=true&downloadRank=true&stars=true)](https://www.npmjs.com/package/posix-ext)[![NPM](https://nodei.co/npm-dl/posix-ext.png?months=6&height=3)](https://nodei.co/npm/posix-ext/)\n\n## Motivation\n\n[Node.js](http://nodejs.org) exposes POSIX APIs, among the others.\nSome of them are implemented on Windows, some are not.  When writing\na cross-platform code, the latter must be wrapped by additional code,\nbecause the Node.js built-ins do not offer a cross-platform feature.\n\nSome POSIX APIs can be implemented on Windows too and can provide\nthe desired cross-platform functionality.  For example, the built-in\n`process` object and the core `fs` module do.  The optional modules\n[posix](https://github.com/melor/node-posix) and\n[fs-ext](https://github.com/baudehlo/node-fs-ext) provide additional\nPOSIX APIs to complete the Node.js offer.  However, not all functions\nare callable on Windows.\n\nFor example, [user and group identifiers in file\nstats](http://nodejs.org/api/fs.html#fs_class_fs_stats) are (integer)\nnumbers on POSIX platforms, while Windows represents them with\n[SIDs](http://msdn.microsoft.com/en-us/library/windows/desktop/aa379594.aspx).\nThe type is different, but otherwise the primer is the same.  Why not\nusing the same methods on both platforms?  User and group identifiers\nare \"black boxes\" for the caller anyway; meaning their actual data type...\n\n## Features\n\nThe following methods expect and/or return user and group identifiers\n(uid, gid) and this module implements them to handle and/or produce\nSIDs on windows, while defaulting to the original functionality in POSIX:\n\n    process: getuid, getgid, getgroups\n    fs:      stat, lstat, fstat, chown, lchown, fchown\n    posix:   getpwnam, getpwuid, getgrnam, getgrgid\n\n## Installation\n\nThe installation of this module can be performed either from the GitHub\nsources or simply from the NPM repository:\n\n    npm install posix-ext\n\n**For Windows users**: you will need a C++ compiler capable of compiling\nnative Node.js modules and Python 2.x, *before you install this module*.\nIf you do not have those, you can install them easily by installing the\nNPM module [windows-build-tools](https://github.com/felixrieseberg/windows-build-tools)\nglobaly. Execute the following command in the PowerShell Console or Command\nPrompt with elevated permissions (\"Run as Administrator\"`):\n\n    npm install --global --production windows-build-tools\n\n## Usage\n\nThis module provides patched objects for the `process`, `fs` and `posix`\nmodules, adding functionality on Windows and reusing the built-in one\non POSIX:\n\n    var posix = require('../lib/posix-ext'),\n        process = posix.process,\n        fs = posix.fs;\n\n## Process Calls on Windows\n\n### process.getgid()\n\nReturns the current process's group SID as string.\n\n    // Prints \"GID: S-1-5-32-513\"\n    console.log('GID:', process.getgid());\n\n### process.getuid()\n\nReturns the current process's user SID as string.\n\n    // Prints \"UID: S-1-5-21-3974217899-2981595321-1938156221-1011\"\n    console.log('UID:', process.getuid());\n\n### process.getgroups()\n\nReturns supplementary groups of the current process as an array of strings\nwith the group SIDs.\n\n    console.log('Groups:', process.getgroups());\n\n## POSIX Calls on Windows\n\n### posix.getgrnam(group)\n\nGets the group information structured as a POSIX group database entry for\nthe given group. `group` can be specified as a string with a group name.\n\n    var util = require('util');\n    util.inspect(posix.getgrnam('NOTO\\\\Users'));\n\nA sample output of the code above:\n\n    { name: 'NOTO\\\\Users', passwd: 'x',\n      gid: 'S-1-5-21-3974217899-2981595321-1938156221-513',\n      members:\n       [ 'NT AUTHORITY\\\\INTERACTIVE',\n         'NT AUTHORITY\\\\Authenticated Users',\n         'NOTO\\\\prantlf' ] }\n\n### posix.getgruid(user)\n\nGets the group information structured as a POSIX group database entry for\nthe given group. `group` can be specified as a string with a SID.\n\n    var group = posix.getgrnam('S-1-5-21-3974217899-2981595321-1938156221-513');\n\nSee `getgrnam` for more information.\n\n### posix.getpwnam(user)\n\nGets the user information structured as a POSIX user database entry for\nthe given user. `user` can be specified as a string with a user name.\n\n    var util = require('util');\n    util.inspect(posix.getpwnam('NOTO\\\\prantlf'));\n\nA sample output of the code above:\n\n    { name: 'NOTO\\\\prantlf', passwd: 'x',\n      uid: 'S-1-5-21-3974217899-2981595321-1938156221-1011',\n      gid: 'S-1-5-32-513',\n      gecos: 'Ferdinand Prantl',\n      shell: '', dir: '' }\n\n### posix.getpwuid(user)\n\nGets the user information structured as a POSIX user database entry for\nthe given user. `user` can be specified as a string with a SID.\n\n    var user = posix.getpwnam('S-1-5-21-3974217899-2981595321-1938156221-1011');\n\nSee `getpwnam` for more information.\n\n### posix.options: object\n\nExposes flags to control behavior of the methods above.\n\n#### populateGroupMembers: boolean\n\nDisables enumerating of group members to populate the `members` property\nof the group information. If yoiu do not need it and work on a slow domain\nnetwork with a groups with many members, you may turn it off. The value\nit `true` (populating members is enabled) by default.\n\n    posix.options.populateGroupMembers = false;\n\n## FileSystem Calls on Windows\n\nEvery method as also a synchronous alternative. Their names end with the\n\"Sync\" suffix and they lack the last callback argument. If they succeed,\nthey return their result, instead of passing it to the second callback\nargument. If they fail, they throw the error, instead of passing it\nto the first callback argument.\n\n### fs.stat(path, callback)\n\nRefers to users and groups in the output `uid` and `gid` properties by their\nSIDs (strings). See the original implementation for more infoemation.\n\n### fs.lstat(path, callback)\n\nRefers to users and groups in the output `uid` and `gid` properties by their\nSIDs (strings). See the original implementation for more infoemation.\n\n### fs.fstat(fd, callback)\n\nRefers to users and groups in the output `uid` and `gid` properties by their\nSIDs (strings). See the original implementation for more infoemation.\n\n### fs.chown(path, uid, gid, callback)\n\nRefers to users and groups in the input `uid` and `gid` arguments by their\nSIDs (strings). See the original implementation for more infoemation.\n\n### fs.lchown(path, uig, gid, callback)\n\nRefers to users and groups in the input `uid` and `gid` arguments by their\nSIDs (strings). See the original implementation for more infoemation.\n\n### fs.fchown(fd, uid, gid, callback)\n\nRefers to users and groups in the input `uid` and `gid` arguments by their\nSIDs (strings). See the original implementation for more infoemation.\n\n## Script Example\n\nOutput of the `example/example-whoami.js` run on Linux:\n\n    $ node node_modules/posix-ext/example/example-whoami.js\n    user:   { name: 'prantlf', passwd: 'x',\n      uid: 1000, gid: 1000,\n      gecos: 'Ferdinand Prantl,,,prantlf@gmail.com',\n      shell: '/bin/bash', dir: '/home/prantlf' }\n    group:  { name: 'prantlf', passwd: 'x', gid: 1000, members: [] }\n    groups: [ 'adm (4)',\n      'cdrom (24)',\n      'sudo (27)',\n      'dip (30)',\n      'plugdev (46)',\n      'lpadmin (109)',\n      'sambashare (124)',\n      'prantlf (1000)' ]\n\nOutput of the `example/example-whoami.js` run on Windows:\n\n    > node node_modules\\posix-ext\\example\\example-whoami.js\n    user:   { name: 'NOTO\\\\prantlf', passwd: 'x',\n      uid: 'S-1-5-21-3974217899-2981595321-1938156221-1011',\n      gid: 'S-1-5-32-513',\n      gecos: 'Ferdinand Prantl',\n      shell: '', dir: '' }\n    group:  { name: 'NOTO\\\\Users', passwd: 'x',\n      gid: 'S-1-5-21-3974217899-2981595321-1938156221-513',\n      members:\n       [ 'NT AUTHORITY\\\\INTERACTIVE',\n         'NT AUTHORITY\\\\Authenticated Users',\n         'NOTO\\\\prantlf' ] }\n    groups: [ 'NOTO\\\\Users (S-1-5-21-3974217899-2981595321-1938156221-513)',\n      'Everyone (S-1-1-0)',\n      'BUILTIN\\\\Users (S-1-5-32-545)',\n      'BUILTIN\\\\Remote Desktop Users (S-1-5-32-555)',\n      'NT AUTHORITY\\\\INTERACTIVE (S-1-5-4)',\n      'NT AUTHORITY\\\\Authenticated Users (S-1-5-11)',\n      'LOCAL (S-1-2-0)',\n      'NT AUTHORITY\\\\NTLM Authentication (S-1-5-64-10)' ]\n\n## Build\n\nMake sure that you have [NodeJS] >= 0.10 and the global NPM module `node-gyp`\ninstalled. Clone the Github repository to a local directory and enter it.\nInstall the package dependencies, build and test.\n\n```shell\ngit clone https://github.com/prantlf/node-posix-ext.git\ncd node-posix-ext\nnpm install\nnode-gyp configure\nnode-gyp build\nnpm test\n```\n\n## Contributing\n\nIn lieu of a formal styleguide, take care to maintain the existing coding\nstyle. Add unit tests for any new or changed functionality.\n\nFirst fork this repository and clone your fork locally instead of cloning\nthe original. See the \"Build\" chapter above for more details about how to\nclone it and install the build dependencies.\n\nBefore you commit, check if tests succeed:\n\n```shell\nnode-gyp configure\nnode-gyp build\nnpm test\n```\n\nCommit your changes to a separtate branch, so that you can create a pull\nrequest for it:\n\n```shell\ngit checkout -b <branch name>\ngit commit -a\ngit push origin <branch name>\n```\n\n## Release History\n\n * 2017-08-07   v0.4.0   Allow disable populating group members\n * 2017-08-07   v0.3.0   Fix handling of files and users with non-ASCII characters\n * 2017-08-06   v0.2.0   Fix building for recent Node.js versions on Windows\n * 2017-07-29   v0.1.2   Fix building for Node.js versions >= 0.12 and <= 8\n * 2014-01-20   v0.1.1   Fix building with MSVC 2008\n * 2014-01-02   v0.1.0   Initial release\n\n## License\n\nCopyright (c) 2013-2017 Ferdinand Prantl\n\nLicensed under the MIT license.\n","created":"2014-01-02T00:03:06.330Z","modified":"2017-08-07T10:32:20.061Z","lastPublisher":{"name":"prantlf","email":"prantlf@gmail.com"},"owners":[{"name":"prantlf","email":"prantlf@gmail.com"}],"other":{"_attachments":{},"_id":"posix-ext","_nodeVersion":"6.11.1","_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/posix-ext-0.4.1.tgz_1502101938937_0.15298878238536417"},"_npmUser":{"name":"prantlf","email":"prantlf@gmail.com"},"_npmVersion":"5.3.0","_rev":"14-d3b2784b3451b8778b5d16a3a1c5e793","author":{"name":"Ferdinand Prantl","email":"prantlf@gmail.com","url":"http://prantl.tk"},"bugs":{"url":"https://github.com/prantlf/node-posix-ext/issues"},"directories":{},"dist-tags":{"latest":"0.4.1"},"dist":{"integrity":"sha512-GxlDAPibM/P2ucdFHO1FQRrOoC2jzEfQVe5eSYpfqN4z2Od9U6DkM2Gz2AWXjNnP0vNLeOItyHeiQUFqxfyQJw==","shasum":"b874d91311e85a6c5679c32d089000f9667c8dc5","tarball":"https://registry.npmjs.org/posix-ext/-/posix-ext-0.4.1.tgz"},"maintainers":[{"name":"prantlf","email":"prantlf@gmail.com"}],"readmeFilename":"README.md","time":{"modified":"2017-08-07T10:32:20.061Z","created":"2014-01-02T00:03:06.330Z","0.1.0":"2014-01-02T00:03:06.330Z","0.1.1":"2014-01-20T20:00:11.725Z","0.1.2":"2017-07-29T16:52:33.930Z","0.0.0-development":"2017-08-06T16:18:25.206Z","0.0.0":"2017-08-06T16:41:30.995Z","0.2.1":"2017-08-06T16:44:39.831Z","0.2.2":"2017-08-06T16:51:56.180Z","0.2.3":"2017-08-06T16:56:00.597Z","0.2.4":"2017-08-06T17:12:13.972Z","0.2.5":"2017-08-06T17:17:10.978Z","0.3.0":"2017-08-07T00:27:13.214Z","0.3.1":"2017-08-07T00:35:07.749Z","0.3.2":"2017-08-07T00:39:20.971Z","0.4.0":"2017-08-07T09:58:11.331Z","0.4.1":"2017-08-07T10:32:20.061Z"}}}