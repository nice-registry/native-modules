{"name":"segfault","description":"catches SIGSEGV and prints diagnostic information","version":"0.3.0","repository":"https://github.com/ConradIrwin/node-segfault-handler","dependencies":{"bindings":"^1.2.1","nan":"^1.3.0"},"main":"index.js","scripts":{"install":"node-gyp rebuild"},"gypfile":true,"gitHead":"152fb7cb167d43d55c2f340b3cb486fd35c0772c","homepage":"https://github.com/ConradIrwin/node-segfault-handler","versions":[{"number":"0.3.0","date":"2015-05-01T18:32:33.309Z"}],"readme":"# Overview\n\nThis module catches segfaults and sigaborts. It's useful for debugging native Node.js C/C++ code, and is safe to use in a production environment.\n\nNormally when a C program crashes, the only way to tell is to examine /var/log/syslog at the time of the crash, with this addons installed it writes\na report to the filesystem and to STDERR.\n\n```javascript\n\nvar Segfault = require('segfault');\n\nSegfault.registerHandler(\"/path/to/write/segfaults\");\n\nSegfault.causeSegfault(); // simulates a buggy native module that dereferences NULL\n\n```\n\nObviously, you would only include the first two lines in your own code; the third is for testing purposes and to demonstrate functionality.\n\nAfter running the above sample, you will see a stacktrace that looks like:\n\n```\nPID 67926 received SIGSEGV for address: 0x0\n0   segfault-handler-native.node        0x00000001007e83d6 _ZL16segfault_handleriP9__siginfoPv + 235\n1   libSystem.B.dylib                   0x00007fff844d11ba _sigtramp + 26\n2   ???                                 0x00007fff5fc404a0 0x0 + 140734800069792\n3   segfault-handler-native.node        0x00000001007e80fd _Z22segfault_stack_frame_2v + 9\n4   segfault-handler-native.node        0x00000001007e82d4 _Z13CauseSegfaultRKN2v89ArgumentsE + 17\n5   node                                0x00000001000a45de _ZN2v88internalL21Builtin_HandleApiCallENS0_12_GLOBAL__N_116BuiltinArgumentsILNS0_21BuiltinExtraArgumentsE1EEEPNS0_7IsolateE + 430\n```\n\nNow you can start debugging using tools like \"objdump -dS module.node\" to try and sort out what the stack actually means.  Sometimes, just identifying _which_ native module is causing problems is the biggest win.\n\nCheers, enjoy.  And happy hunting.\n\n# Installing\n\n```\nnpm install segfault --save\n```\n\n# License\n\nThis is a slight modification of the [node-segfault-handler](https://github.com/ddopson/node-segfault-handler) code, thanks Dave!.\n\nThis software is licensed for use under the [WTFPL](http://en.wikipedia.org/wiki/WTFPL); version 2 if it's a lawyer asking.  Though if you make good use of this or any of my other tools, I'd appreciate an email letting me know what you used it for or how you stumbled across it.\n\n\n   ---  Dave\n","created":"2015-05-01T18:32:33.309Z","modified":"2015-05-01T18:32:33.309Z","lastPublisher":{"name":"cirwin","email":"conrad.irwin@gmail.com"},"owners":[{"name":"cirwin","email":"conrad.irwin@gmail.com"}],"other":{"_attachments":{},"_from":".","_id":"segfault","_nodeVersion":"0.10.33","_npmUser":{"name":"cirwin","email":"conrad.irwin@gmail.com"},"_npmVersion":"2.5.1","_rev":"1-abf032f3d48df10177c8fe9a58edd526","_shasum":"d8b0c6adb80288c82eee1a3cdb29070a3b0f27c5","author":{"name":"Conrad Irwin","email":"conrad@bugsnag.com"},"bugs":{"url":"https://github.com/ConradIrwin/node-segfault-handler/issues"},"contributors":[{"name":"Dave Dopson","email":"ddopson@gmail.com"},{"name":"Mark Smith","email":"msmith@rallydev.com"},{"name":"David Swift","email":"dswift@pccowboy.com"},{"name":"Anton Whalley","email":"anton@venshare.com"}],"directories":{},"dist-tags":{"latest":"0.3.0"},"dist":{"shasum":"d8b0c6adb80288c82eee1a3cdb29070a3b0f27c5","tarball":"http://registry.npmjs.org/segfault/-/segfault-0.3.0.tgz"},"maintainers":[{"name":"cirwin","email":"conrad.irwin@gmail.com"}],"readmeFilename":"README.md","time":{"modified":"2015-05-01T18:32:33.309Z","created":"2015-05-01T18:32:33.309Z","0.3.0":"2015-05-01T18:32:33.309Z"}}}