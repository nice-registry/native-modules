{"name":"sd-daemon","version":"0.8.0","description":"Bindings for libsystemd-daemon","homepage":"https://github.com/victorenator/node-sd-daemon","license":"LGPL-2.1+","dependencies":{"nan":"^2.0.0"},"keywords":["systemd","daemon"],"scripts":{"install":"node-gyp rebuild"},"repository":"https://github.com/victorenator/node-sd-daemon","engines":{"nodejs":">= 0.10"},"os":["linux"],"gitHead":"ce649199594df03cb47790d5752eee8a23f919fe","gypfile":true,"versions":[{"number":"0.1.0","date":"2013-07-29T12:10:05.169Z"},{"number":"0.1.1","date":"2014-01-08T07:24:30.137Z"},{"number":"0.1.2","date":"2014-02-28T10:40:52.640Z"},{"number":"0.2.0","date":"2014-05-16T20:21:02.945Z"},{"number":"0.2.1","date":"2014-05-19T15:48:27.792Z"},{"number":"0.3.0","date":"2014-09-12T12:22:47.327Z"},{"number":"0.4.0","date":"2014-10-29T08:24:04.471Z"},{"number":"0.5.0","date":"2015-02-17T17:40:52.215Z"},{"number":"0.6.0","date":"2015-04-23T18:40:31.922Z"},{"number":"0.7.0","date":"2015-05-03T14:59:48.887Z"},{"number":"0.8.0","date":"2015-09-14T19:11:01.963Z"},{"number":"0.7.1","date":"2015-09-16T06:39:45.845Z"}],"readme":"# Bindings for libsystemd-daemon #\n\n## Dependencies ##\n* pkg-config\n* libsystemd-dev or libsystemd-daemon-dev\n* node-nan\n\n## Install ##\n```bash\nnpm install sd-daemon\n```\n\n### On Debian ###\n```bash\nsudo apt-get install devscripts\nsudo mk-build-deps -ir\ndebuild\nsudo dpkg -i ../node-sd-daemon_*.deb\n```\n\n## Test ##\n\n### Watchdog ###\n\ntest.service:\n```ini\n...\n[Service]\nWatchdogSec=10s\n```\n\ntest.js:\n```javascript\n...\nsd.startWatchdogPing();\n```\n\n```bash\nsystemctl --user link \"$PWD/test/test.service\"\nsystemctl --user start test.service\n\ncurl localhost:8089\nsystemctl --user status test.service\ncurl localhost:8089/block\n\n...\nsystemctl --user status test.service\n\nsystemctl --user stop test.service\nsystemctl --user disable test.service\n```\n\n### Socket Activation ###\n\ntest-socket.socket:\n```ini\n...\n[Socket]\nListenStream=8088\n```\n\ntest-socket.service:\n```ini\n...\n[Service]\nExecStart=/usr/bin/nodejs test-socket.js\nNonBlocking=yes\n```\n\ntest-socket.js:\n```javascript\nvar listeners = sd.listeners();\nif (listeners.length) {\n    server.listen({fd: listeners[0]});\n}\n```\n\n```bash\nsystemctl --user link \"$PWD/test/test-socket.socket\" \"$PWD/test/test-socket.service\"\nsystemctl --user start test-socket.socket\n\ncurl localhost:8088\nsystemctl --user status test-socket.service\n...\n\nsystemctl --user stop test-socket.socket test-socket.service\nsystemctl --user disable test-socket.socket\n```\n\n### Cluster (two instances) ###\n\ntest-s3@.service\n```ini\n[Service]\nExecStart=/usr/bin/nodejs test-s3.js %i\nNonBlocking=yes\nSockets=test-s3.socket\n```\n\ntest-s3.socket:\n```ini\n[Socket]\nListenStream=8087\nService=test-s3@1.service\nService=test-s3@2.service\n```\n\n```bash\n$ systemctl --user link \"$PWD/test/test-s3@.service\" \"$PWD/test/test-s3.socket\"\n$ systemctl --user start test-s3@1.service test-s3@2.service\n\n$ systemctl --user list-units --all test-s3*\n UNIT              LOAD   ACTIVE SUB     DESCRIPTION\ntest-s3@1.service loaded active running Test-S3 Service\ntest-s3@2.service loaded active running Test-S3 Service\ntest-s3.socket    loaded active running Test S3 Socket\n\n$ systemctl --user list-sockets test-s3*\nLISTEN    UNIT           ACTIVATES\n[::]:8087 test-s3.socket test-s3@2.service, test-s3@1.service\n\n$ ss -tlp\nLISTEN 0 128  :::8087 :::*  users:((\"nodejs\",pid=...,fd=3),(\"nodejs\",pid=...,fd=3),(\"systemd\",pid=...,fd=...))\n\n$ curl localhost:8087\nHello 2\n\n$ curl localhost:8087\nHello 1\n\n$ curl localhost:8087\nHello 1\n\n$ curl localhost:8087\nHello 2\n\n$ systemctl --user stop test-s3@1.service test-s3@2.service test-s3.socket\n$ systemctl --user disable test-s3@.service test-s3.socket\n```\n","starsCount":1,"created":"2013-07-29T12:10:01.138Z","modified":"2015-09-16T06:39:45.845Z","lastPublisher":{"name":"victorenator","email":"victorenator@gmail.com"},"owners":[{"name":"victorenator","email":"victorenator@gmail.com"}],"other":{"_attachments":{},"_from":".","_id":"sd-daemon","_npmUser":{"name":"victorenator","email":"victorenator@gmail.com"},"_npmVersion":"1.4.21","_rev":"1-07c00fe078abc9139731345f9cb29f6b","_shasum":"1bb299321258189b151a9ec56e3e33c77cf39c14","author":{"name":"Viktar Vauchkevich","email":"victorenator@gmail.com"},"bugs":{"url":"https://github.com/victorenator/node-sd-daemon/issues"},"directories":{},"dist-tags":{"latest":"0.8.0"},"dist":{"shasum":"1bb299321258189b151a9ec56e3e33c77cf39c14","tarball":"http://registry.npmjs.org/sd-daemon/-/sd-daemon-0.8.0.tgz"},"maintainers":[{"name":"victorenator","email":"victorenator@gmail.com"}],"readmeFilename":"README.md","time":{"modified":"2015-09-16T06:39:45.845Z","created":"2013-07-29T12:10:01.138Z","0.1.0":"2013-07-29T12:10:05.169Z","0.1.1":"2014-01-08T07:24:30.137Z","0.1.2":"2014-02-28T10:40:52.640Z","0.2.0":"2014-05-16T20:21:02.945Z","0.2.1":"2014-05-19T15:48:27.792Z","0.3.0":"2014-09-12T12:22:47.327Z","0.4.0":"2014-10-29T08:24:04.471Z","0.5.0":"2015-02-17T17:40:52.215Z","0.6.0":"2015-04-23T18:40:31.922Z","0.7.0":"2015-05-03T14:59:48.887Z","0.8.0":"2015-09-14T19:11:01.963Z","0.7.1":"2015-09-16T06:39:45.845Z"},"users":{"chalker":true}}}