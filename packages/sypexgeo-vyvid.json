{"name":"sypexgeo-vyvid","version":"0.2.7","description":"Unnoficial Sypex Geo API bindings for Node.JS","keywords":["sypexgeo","geo","nodejs"],"homepage":"https://github.com/vsuharnikov/sypexgeo-node","licenses":[{"type":"MIT","url":"https://github.com/vsuharnikov/sypexgeo/blob/master/LICENSE"}],"repository":"https://github.com/vsuharnikov/sypexgeo-node","main":"./lib/sypexgeo.js","scripts":{"configure":"node-gyp configure","build":"node-gyp build","test":"grunt test","install":"node-gyp rebuild"},"gypfile":true,"dependencies":{"nan":"~2.3.2"},"devDependencies":{"chai":"~3.4.0","grunt":"~0.4.5","grunt-shell":"~1.1.2","grunt-simple-mocha":"~0.4.0","line-by-line":"^0.1.4","mocha":"~2.3.3","node-cpplint":"^0.4.0"},"engines":{"node":">= 0.10.0"},"gitHead":"199be06e585ebf1ccfdc08f170a8c00b595e9ac7","versions":[{"number":"0.2.0","date":"2015-02-01T16:56:29.604Z"},{"number":"0.2.1","date":"2015-02-01T17:28:11.314Z"},{"number":"0.2.2","date":"2015-02-01T18:29:43.220Z"},{"number":"0.2.3","date":"2015-03-04T12:55:56.962Z"},{"number":"0.2.4","date":"2015-05-09T00:04:24.918Z"},{"number":"0.2.5","date":"2015-11-01T12:43:49.485Z"},{"number":"0.2.6","date":"2016-01-30T21:43:35.652Z"},{"number":"0.2.7","date":"2016-05-01T06:52:28.276Z"}],"readme":"Unofficial [Sypex Geo API](https://sypexgeo.net) bindings for Node.JS.\n\n    The latest version works only with:\n    * SypexGeo 2.2! See changelog.\n    * SxGeoCity_utf8 (See Gruntfile.js)\n\n## Getting Started\n\n### Requirements\n\n* g++ >= 4.8 for supporting C++11.\n\n### Setup\n\n    $ npm i --save sypexgeo-vyvid\n\n### Using\n\n```javascript\nvar sypex = require('sypexgeo-vyvid');\nvar geoDb = new sypex.Geo('/a/full/path/to/the/SypexGeoCity.dat');\nvar location = geoDb.find('46.148.53.103');\n\nconsole.log(JSON.stringify(location, null, '  '));\n```\n\n## Documentation\n\n### sypex.Geo\n\nCreates an instance.\n\n```javascript\nvar geoDb = new sypex.Geo('/var/www/geo/SypexGeoCity.dat');\n```\n\n#### Parameters\n\n1. {String} _filePath_ - A full path to the SypexGeo DB file.\n2. **[deprecated]** {Number} _mode_ - Specifies a behaviour. Available only **SXGEO_MEMORY**.\n  **It will be removed in 0.3.0**\n\nThe _mode_ is always **SXGEO_BATCH | SXGEO_MEMORY** regardless of arguments you pass in.\n\n### find\n\nLooks up for a location by its _IP_.\n\n```javascript\nvar location = geoDb.find('46.148.53.103');\n\nconsole.log(JSON.stringify(location, null, '  '));\n/** Output:\n{\n  \"latitude\": 55.39485,\n  \"longitude\": 43.83992,\n  \"country\": {\n    \"id\": 185,\n    \"iso\": \"RU\",\n    \"name\": {\n      \"en\": \"Russia\",\n      \"ru\": \"Россия\"\n    }\n  },\n  \"region\": {\n    \"id\": 559838,\n    \"iso\": \"RU-NIZ\",\n    \"name\": {\n      \"en\": \"Nizhegorodskaya Oblast'\",\n      \"ru\": \"Нижегородская область\"\n    }\n  },\n  \"city\": {\n    \"id\": 580724,\n    \"name\": {\n      \"en\": \"Arzamas\",\n      \"ru\": \"Арзамас\"\n    }\n  }\n} \n**/\n```\n\n#### Parameters\n\n* {String} _ip_ - The IP-address, for example: **46.148.53.103**.\n\n#### Returns\n\n* {Object, null} - **null** if the database hasn't a location with a specified ip.\n\nAn object describes a found location:\n\n* {Number} _longitude_ - **5** digits (e.g., **55.39485**)  after the decimal point if the city is detected. Otherwise, **2** (e.g. **51.5**)\n* {Number} _latitude_\n* {Object} _country_\n  * {Number} _id_\n  * {String} _iso_\n  * {Object} _name_\n      * {String} en\n      * {String} ru\n* **[optional]** {Object} _region_ - The information about a region. Omitted if wasn't detected\n  * {Number} _id_\n  * {String} _iso_\n  * {Object} _name_\n      * {String} en\n      * {String} ru\n* **[optional]** {Object} city - The information about a city. Omitted if wasn't detected\n  * {Number} _id_\n  * {Object} _name_\n      * {String} en\n      * {String} ru\n\n### getCountryIso\n\nGet a country ISO ([3166-1 alpha-2](https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2)) by its _IP_.\n\n```javascript\nvar location = geoDb.getCountryIso('46.148.53.103');\n\nconsole.log(location); // Output: RU\n```\n\n#### Parameters\n\n* {String} _ip_ - The IP-address, for example: **46.148.53.103**.\n\n\n### [deprecated] getCity \n\n**The method will be removed in 0.3.0**.\n\n```javascript\nvar city = geoDb.getCityFull('46.148.53.103');\n\nconsole.log(JSON.stringify(city, null, '  '));\n/** Output:\n{\n  \"region\": \"Нижегородская область\",\n  \"country\": \"RU\",\n  \"name\": \"Арзамас\",\n  \"latitude\": 55.39485,\n  \"longitude\": 43.83992\n}\n*/\n```\n\n### [deprecated] getCityFull \n\n**The method will be removed in 0.3.0**.\n\nAlias to _getCity_.\n\n### [deprecated] getCountry\n\n**The method will be removed in 0.3.0**.\n\nalias to _getCountryIso_.\n\n## Grunt commands\n\n* `grunt test` - run tests. Downloads a base if it necessary. At this time we have only JS-tests :)\n* `grunt cpplint` - check a cpp code for some rules.\n\n## Contributing\n\n* Please check your code by the command: `grunt cpplint`\n* If you need a manual build, then run:\n\n    ```bash\n    node-gyp configure &&\\\n    node-gyp install &&\\\n    node-gyp build\n    ```\n\n_(Coming soon)_\n\n## Changelog\n\n### 0.2.*\n\nWorks with SypexGeo 2.2.\n\n* [-] The _fips_ field has been removed (removed from a database);\n* [+] The _find_ and _getCountryIso_ methods have been added;\n* [!] The _getCountry_, _getCity_ and _getCityFull_ now is deprecated;\n* [!] Completely rewritten code;\n* [!] Requires GCC 4.8.\n\n### 0.1.*\n\nWorks with SypexGeo 2.1.\n\n* 0.1.1 - Ported to [Nan](https://github.com/rvagg/nan)\n\n## License\n\nCopyright by Vyatcheslav Suharnikov and contributors.\n\nSee contributors list in AUTHORS.\n\nLicensed under the MIT license, see license text in LICENSE file.\n","created":"2015-02-01T16:56:29.604Z","modified":"2016-05-01T06:52:28.276Z","lastPublisher":{"name":"vsuharnikov","email":"arz.freezy@gmail.com"},"owners":[{"name":"vsuharnikov","email":"arz.freezy@gmail.com"}],"other":{"_attachments":{},"_from":".","_id":"sypexgeo-vyvid","_npmOperationalInternal":{"host":"packages-12-west.internal.npmjs.com","tmp":"tmp/sypexgeo-vyvid-0.2.7.tgz_1462085545752_0.14576129196211696"},"_npmUser":{"name":"vsuharnikov","email":"arz.freezy@gmail.com"},"_npmVersion":"1.4.29","_rev":"1-86eabf89d4da404864adbe6ba11115c8","_shasum":"ae563f403b0667012fbb09e72c4fd7ef8c1a0e40","author":{"name":"Vyatcheslav Suharnikov","email":"arz.freezy@gmail.com"},"bugs":{"url":"https://github.com/vsuharnikov/sypexgeo-node/issues"},"contributors":[{"name":"Vyatcheslav Suharnikov","email":"arz.freezy@gmail.com"},{"name":"pvf","email":"people.vs.flies@gmail.com"},{"name":"Олексій Чечель","email":"alex.mirrr@gmail.com"}],"directories":{},"dist-tags":{"latest":"0.2.7"},"dist":{"shasum":"ae563f403b0667012fbb09e72c4fd7ef8c1a0e40","tarball":"http://registry.npmjs.org/sypexgeo-vyvid/-/sypexgeo-vyvid-0.2.7.tgz"},"maintainers":[{"name":"vsuharnikov","email":"arz.freezy@gmail.com"}],"readmeFilename":"README.markdown","time":{"modified":"2016-05-01T06:52:28.276Z","created":"2015-02-01T16:56:29.604Z","0.2.0":"2015-02-01T16:56:29.604Z","0.2.1":"2015-02-01T17:28:11.314Z","0.2.2":"2015-02-01T18:29:43.220Z","0.2.3":"2015-03-04T12:55:56.962Z","0.2.4":"2015-05-09T00:04:24.918Z","0.2.5":"2015-11-01T12:43:49.485Z","0.2.6":"2016-01-30T21:43:35.652Z","0.2.7":"2016-05-01T06:52:28.276Z"}}}