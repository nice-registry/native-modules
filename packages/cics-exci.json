{"name":"cics-exci","version":"0.2.0","description":"CICS sample node for EXCI","license":"Apache-2.0","repository":"https://github.com/cicsdev/cics-nodejs-exci-module","main":"cics-exci.js","dependencies":{"node-pre-gyp":"0.6.36","bindings":"~1.2.1","nan":"^2.0.0","child_process":"latest","path":"latest"},"scripts":{"install":"node_modules/node-pre-gyp/bin/node-pre-gyp install --fallback-to-build"},"binary":{"module_name":"cics-exci-bindings","module_path":"./lib/cics-exci-bindings/","host":"https://github.com/cicsdev/cics-nodejs-exci-module/releases/download/","remote_path":"{version}"},"os":["os390"],"gypfile":true,"gitHead":"e5b744f18b976c1a5a672e77fefb7499868f3272","homepage":"https://github.com/cicsdev/cics-nodejs-exci-module#readme","bundleDependencies":["node-pre-gyp"],"versions":[{"number":"0.1.0","date":"2017-07-17T09:56:01.578Z"},{"number":"0.1.1","date":"2017-07-17T10:10:36.695Z"},{"number":"0.1.2","date":"2017-07-17T10:39:47.205Z"},{"number":"0.1.3","date":"2017-07-17T10:59:43.068Z"},{"number":"0.2.0","date":"2017-07-20T15:25:33.084Z"}],"readme":"# cics-exci Node.js module\nSample Node.js for z/OS node module demonstrating how to access CICS from z/OS Unix System Services (USS) using the external CICS interface (EXCI)\n\n__Important:__ This cics-exci node module is provided as a SAMPLE and is intended __only for internal use for evaluation purposes and not for use in a production environment__. IBM provides the information and node module without obligation of support and “as is” without warranty of any kind, under the Apache 2.0 license.\n\nTo get started with this sample, it is recommended you download and install the sample web app, which can be found here: [https://github.com/cicsdev/cics-nodejs-exci-webapp-sample](https://github.com/cicsdev/cics-nodejs-exci-webapp-sample). Follow the instructions for the web app for use of this node module with an application. Alternatively, to use this sample, you can install using the instructions below.\n\nWhichever installation method you use, you will also need to:\n1.\tConfigure EXCI in your CICS region\n1.\tSet up USS for EXCI\n\nOptionally, if you would like to make changes to the sample, you will have to re-build the Native Add-On component.\n\nInstructions for all these steps are provided in this README.\n\n## Features\n* Node.js application running on z/OS can access CICS over EXCI\n* Pass data to and from CICS over EXCI using CICS Channels and Containers\n* Concurrent EXCI requests into CICS\n\n## Sample applications\n* [https://github.com/cicsdev/cics-nodejs-exci-webapp-sample](https://github.com/cicsdev/cics-nodejs-exci-webapp-sample)\n\n## Pre-requisites\n* IBM CICS Transaction Server for z/OS (CICS) V5.4 - you may run the cics-exci node against a pre-V5.4 CICS region, however the node module utilises EXCI Channels and Containers functionality implemented in CICS V5.4. As such the SDFHEXCI V5.4 library must be in your STEPLIB during execution.\n* IBM SDK for Node.js - z/OS, beta 2 - [Download](https://developer.ibm.com/node/sdk/ztp/)\n  * __Note:__ ensure that all setup has been completed before you try to use the cics-exci sample node. If you would like to build the cics-exci code, you will also need to install all prerequisites for compiling Node.js Native Add-ons, as described below. \n\n## Installation\n\n```bash\n$ npm install cics-exci\n```\n\nOr include as a dependency in package.json\n\n### Manual installation\n\nIf you would like to install the cics-exci module from source you will need to complete the following steps:\n1. Clone GitHub repository\n1. Install the sample\n1. Use in Node.js application\n\nInstructions for all these steps are provided below.\n\n#### Cloning GitHub repository\n\nYou will first have to clone this GitHub repository onto z/OS. When cloning the GitHub repo, you have two options. Firstly, if possible, use the Git client for z/OS available for download from the [Rocket Software Open Source Tools website](http://www.rocketsoftware.com/zos-open-source/tools).\n\nAlternatively download zipped repo, or clone, onto your local workstation and transfer the files to z/OS. Take care when transferring the files and ensure any file conversions happen as expected. Any zip files should be transferred as binary.\n\n#### Installing the sample\n\nTo install this sample, from within the repository's root directory, run:\n\n```bash\n$ npm install\n```\n\nThis will pull down all dependencies and install.\n\n#### Use in Node.js application\n\nOnce the installation is done copy the contents of this directory into the node_modules directory for any Node.js application that needs to use it. For example:\n\n```bash\n$ mkdir /u/user/myNodeApp/node_modules/cics-exci/\n$ cp -R * /u/user/myNodeApp/node_modules/cics-exci/\n```\n\n__Note:__ The node module includes a Node.js Native Add-on used to access EXCI functionality. This Native Add-on is supplied as a prebuilt binary hosted in this GitHub repository, and downloaded at install time. The code is also supplied in the GitHub repository and can be built manually. For instructions on building the Native Add-on see the instructions at the bottom of this page.\n\n## Using the sample\n\n### Configuring EXCI to work with the sample\n\n*It is advised that you consult with your CICS Systems Programmer to determine how to setup EXCI in your CICS region, and verify that it is working correctly before you use the cics-exci node module.*\n\n#### EXCI setup instructions\n\nYou will need to configure the External CICS Interface (EXCI) in your CICS region. Instructions for how to do this can be found here: [Setting up EXCI for static routing](https://www.ibm.com/support/knowledgecenter/en/SSGMCP_5.4.0/configuring/interfaces/dfhtm_staticrouting.html). These instructions include installing the required CONNECTION and SESSION resources for EXCI.\n\nAdditionally, as with any EXCI application, you may need to create a custom EXCI options table. You can use this to, for example, override the CICSSVC if required. For more information on the using the DFHXCOPT EXCI options table see the CICS Knowledge Center: [Using the EXCI options table, DFHXCOPT](https://www.ibm.com/support/knowledgecenter/en/SSGMCP_5.4.0/configuring/interfaces/dfhtmf0.html)\n\n#### USS EXCI setup instructions\n\nYou will need the EXCI load library in the STEPLIB in USS. You can set this by executing the following command:\n\n```bash\n$ export STEPLIB=CICSTS54.CICS.SDFHEXCI:$STEPLIB\n```\n\n__Note:__ Substitute the `CICSTS54.CICS` high-level qualifier to match the location of the `SDFHEXCI` load library.\n\nIf you require a DFHXCOPT options table, once this has been built, you will need to include the data set containing the DFHXCOPT load module in the USS STEPLIB, in addition to the SDFHEXCI library. You can do this by executing the following command:\n\n```bash\n$ export STEPLIB=USERID.LOADLIB:$STEPLIB\n```\n\nWhere *USERID.LOADLIB* is the data set containing the built DFHXCOPT member.\n\n## Building the cics-exci-bindings Native Add-on\nFor convenience, the Native Add-on portion of the cics-exci, which includes using the cics-exci-64bit-connector sample to implement EXCI, has been prebuilt and is downloaded as binary when the cics-exci node module is installed. If you would like to extend or view the code for this module, you can build the Native Add-on manually by following the instructions below.\n\n### Pre-reqs\n* cics-exci-64bit-connector - the sample EXCI 64-bit connector is included in the node module as a precompiled static library archive. If you would like to see the code for this, extend, or troubleshoot with the connector, you can find the code on GitHub here: [cics-exci-64bit-connector](https://github.com/cicsdev/cics-exci-64bit-connector)\n* Node.js Native Add-on support\n  * Python v2.7.6 - [available as an open source ported language from Rocket Software](http://www.rocketsoftware.com/zos-open-source)\n  * Make v4.0 or higher - [available as an open source ported tool from Rocket Software](http://www.rocketsoftware.com/zos-open-source/tools)\n  * node-gyp - required to build a Node.js Native Add-on. Install by running `npm install -g node-gyp`\n  * nan (Native Abstractions for Node.js) - required for Node.js Native Add-on development. Install by running `npm install nan`\n\n### Building and installing the Native Add-on\n\nBefore building you need to set the `LD_FLAGS` environment variable to point to the SDFHEXCI V5.4 library. You can you this as follows:\n\n```bash\n$ export LDFLAGS=\\\"-l//\\'CICTS54.CICS.SDFHEXCI\\'\\\"\n```\n\n__Note:__ Substitute the `CICSTS54.CICS` high-level qualifier to match the location of the `SDFHEXCI` load library.\n\nYou are now ready to build the node module. To do this, run the following:\n\n```bash\n$ npm install --build-from-source\n```\nThis should output build results similar to this:\n\n```bash\n> cics-exci@0.1.0 install /u/user/GitHub/cics-nodejs-exci-module\n> node-pre-gyp install --fallback-to-build\n\nmake: Entering directory '/u/user/GitHub/cics-nodejs-exci-module/build'\n  CXX(target) Release/obj.target/cics-exci-bindings/cics-exci.o\ninclude_end nan.h\n../nan_temp.h\nnan_temp.h\ninclude_end string.h\n../string_temp.h\nstring_temp.h\ninclude_end unistd.h\n../unistd_temp.h\nunistd_temp.h\ninclude_end entry.h\n../entry_temp.h\nentry_temp.h\nIn file included from ../cics-exci_temp.cc:11:\nIn file included from ../node_modules/nan/nan.h:24:\n/u/marholl/.node-gyp/6.11.0/include/node/node_version.h:14:9: warning: 'USTR' macro redefined [-Wmacro-redefined]\n#define USTR(x) u8##x\n        ^\n../cics-exci_temp.cc:1:9: note: previous definition is here\n#define USTR(x) U8##x\n        ^\n1 warning generated.\n  SOLINK_MODULE(target) Release/obj.target/cics-exci-bindings.node\n  COPY Release/cics-exci-bindings.node\n  COPY /u/user/GitHub/cics-nodejs-exci-module/lib/cics-exci-bindings/cics-exci-bindings.node\n  TOUCH Release/obj.target/action_after_build.stamp\nmake: Leaving directory '/u/user/GitHub/cics-nodejs-exci-module/build'\ncics-exci@0.1.0 /u/user/GitHub/cics-nodejs-exci-module\n```\nThis has manually built the node module, which can now be used in a Node.js application hosted in z/OS batch.\n\n## License\nThis project is licensed under [Apache License Version 2.0](LICENSE).\n","created":"2017-07-17T09:56:01.578Z","modified":"2017-07-20T15:25:33.084Z","lastPublisher":{"name":"markjhollands","email":"markhollands@uk.ibm.com"},"owners":[{"name":"markjhollands","email":"markhollands@uk.ibm.com"}],"other":{"_attachments":{},"_from":".","_id":"cics-exci","_nodeVersion":"6.11.0","_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/cics-exci-0.2.0.tgz_1500564329721_0.17202814086340368"},"_npmUser":{"name":"markjhollands","email":"markhollands@uk.ibm.com"},"_npmVersion":"3.10.10","_rev":"5-92830002cf7bd40d9e1eea64dbeff0d2","_shasum":"edb839dde797cf0f09e8c628d4a4770d444d9eda","bugs":{"url":"https://github.com/cicsdev/cics-nodejs-exci-module/issues"},"directories":{},"dist-tags":{"latest":"0.2.0"},"dist":{"shasum":"edb839dde797cf0f09e8c628d4a4770d444d9eda","tarball":"https://registry.npmjs.org/cics-exci/-/cics-exci-0.2.0.tgz"},"maintainers":[{"name":"markjhollands","email":"markhollands@uk.ibm.com"}],"readmeFilename":"README.md","time":{"modified":"2017-07-20T15:25:33.084Z","created":"2017-07-17T09:56:01.578Z","0.1.0":"2017-07-17T09:56:01.578Z","0.1.1":"2017-07-17T10:10:36.695Z","0.1.2":"2017-07-17T10:39:47.205Z","0.1.3":"2017-07-17T10:59:43.068Z","0.2.0":"2017-07-20T15:25:33.084Z"}}}