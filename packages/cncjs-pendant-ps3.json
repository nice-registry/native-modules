{"name":"cncjs-pendant-ps3","version":"1.0.9","description":"A cncjs pendant, using Playstation 3 Dualshock Controller / SIXAXIS Controller.","license":"MIT","main":"./index.js","engines":{"node":">=4"},"bin":{"cncjs-pendant-ps3":"./bin/cncjs-pendant-ps3"},"preferGlobal":true,"scripts":{"test":"echo \"Error: no test specified\" && exit 1"},"repository":"https://github.com/cncjs/cncjs-pendant-ps3","keywords":["cncjs","pendant","ps3"],"homepage":"https://github.com/cncjs/cncjs-pendant-ps3#readme","dependencies":{"commander":"^2.9.0","inquirer":"^3.0.1","jsonwebtoken":"^7.2.1","lodash.get":"^4.4.2","serialport":"^4.0.7","socket.io-client":"^1.7.2","vorpal":"^1.11.4","dualshock-controller":"^1.1.1","node-gyp":"^3.5.0","node-pre-gyp":"^0.6.33","node-hid":"^0.5.4 --driver=hidraw --build-from-source"},"devDependencies":{},"gitHead":"ebb6e9c7a288f7b22eccd21824ca2f904ea2bc1a","versions":[{"number":"1.0.0","date":"2017-03-12T05:53:52.448Z"},{"number":"1.0.1","date":"2017-03-12T08:39:20.024Z"},{"number":"1.0.2","date":"2017-03-12T19:13:25.668Z"},{"number":"1.0.3","date":"2017-03-12T19:20:24.317Z"},{"number":"1.0.4","date":"2017-03-12T20:00:41.515Z"},{"number":"1.0.5","date":"2017-03-12T22:46:40.039Z"},{"number":"1.0.6","date":"2017-03-12T22:56:24.857Z"},{"number":"1.0.7","date":"2017-03-12T23:06:44.437Z"},{"number":"1.0.8","date":"2017-03-17T02:11:48.351Z"},{"number":"1.0.9","date":"2017-03-26T01:41:32.701Z"}],"readme":"# cncjs-pendant-ps3\nDual Shock / PS3 Bluetooth Remote Pendant for CNCjs\n\nUse [Playstation 3 Controller](https://www.playstation.com/en-us/explore/accessories/dualshock-3-ps3/) wirelessly over bluetooth to control CNC from the host device (raspberry pi). [PS3 CNC Control Button Map](https://docs.google.com/drawings/d/1DMzfBk5DSvjJ082FrerrfmpL19-pYAOcvcmTbZJJsvs/edit?usp=sharing)\n\n[Remote Pendant (Playstation 3 Dualshock Controller / SIXAXIS Controller)](https://github.com/cheton/cnc/issues/103)\n\nUsing a wireless game controller (like a PS3 controller) seems to be one of the lowest cost & simplest solution method. See related issue [#103](https://github.com/cheton/cnc/issues/103)\n\n## Playstation Controller Setup ( general guide to connect hardware & setup )\n\nHere is what I have figured out so far for PS3 on Raspberry PI 3 w/ integrated bluetooth.\nThe bellow just shows how to get PS3 controller connected.\n\n\n## Bluetooth Configuration\n\n### Install\n```\n# Install & Enable Bluetooth Tools\nsudo apt-get install -y bluetooth libbluetooth3 libusb-dev\nsudo systemctl enable bluetooth.service\n\n# Add pi user to bluetooth group\nsudo usermod -G bluetooth -a pi\n```\n\n### Pairing Tools\n```\n# Get and build the command line pairing tool (sixpair)\nwget http://www.pabr.org/sixlinux/sixpair.c\ngcc -o sixpair sixpair.c -lusb\n\n### Connect PS3 over USB\n# Get PS3 DS \nsudo ./sixpair\n```\n\n### [Parting DualShock 3 Controller](https://wiki.gentoo.org/wiki/Sony_DualShock)\n```\n### Disonnect DualShock 3 over USB\n\n# Start bluetoothctl:\nbluetoothctl\n\n# Enable the agent and set it as default:\nagent on\ndefault-agent\n\n# Power on the Bluetooth controller, and set it as discoverable and pairable:\npower on\ndiscoverable on\npairable on\n\n### Connect DualShock 3 over USB, and press the PlayStation button.\n\n# Discover the DualShock 3 MAC address:\ndevices\n\n### Disonnect DualShock 3 over USB\n\n#Allow the service authorization request:\n#[agent]Authorize service service_uuid (yes/no): yes\n\n#Trust the DualShock 3:\n#trust device_mac_address # Replace \"MAC\" with MAC of \"Device 64:D4:BD:B3:9E:66 PLAYSTATION(R)3 Controller\"\ntrust 64:D4:BD:B3:9E:66 \n\n# The DualShock 3 is now paired:\nquit\n\n# Turn the DualShock 3 off when it's no longer in use by pressing and holding the PlayStation button for 10 seconds.\n# Press the PlayStation button to use the DualShock 3 again.\n```\n\n### Test Controller Connectivity\n```\n### PS3 Controller: press the PS button, the lights on the front of the controller should flash for a couple of seconds then stop, leaving a single light on. If you now look again at the contents of /dev/input you should see a new device, probably called something like ‘js0’:\n\n# List Devices\nls /dev/input\n```\n\n### Get Battery Level\n`cat \"/sys/class/power_supply/sony_controller_battery_64:d4:bd:b3:9e:66/capacity\"`\n\n\n### Joystick Application\n```\n# Install\nsudo apt-get -y install joystick\n\n# Usage / Test\njstest /dev/input/js0\n```\n\n----------------------------------------\n\n## Install NodeJS Libraries\n - https://www.npmjs.com/package/node-hid\n - https://www.npmjs.com/package/dualshock-controller\n\n### Node.js DS3 Controller Setup\n```\n# Install Tools\nsudo apt-get install -y libudev-dev libusb-1.0-0 libusb-1.0-0-dev build-essential git\nsudo apt-get install -y gcc-4.8 g++-4.8 && export CXX=g++-4.8\n#npm install node-gyp node-pre-gyp\n\n# Install node-hid with hidraw support\n#npm install node-hid --driver=hidraw --build-from-source --unsafe-perm\n\n# Install Pendant Package\nsudo npm install -g cncjs-pendant-ps3 --unsafe-perm  # Install Globally\n\n## If NOT installed globally, Install node-hid with hidraw support (https://github.com/rdepena/node-dualshock-controller)\n```\n\n### [Create udev Rules](https://github.com/rdepena/node-dualshock-controller#-create-udev-rules)\n```\n# Run as Root\nsudo su\n\n# You will need to create a udev rule to be able to access the hid stream as a non root user.\nsudo touch /etc/udev/rules.d/61-dualshock.rules\nsudo cat <<EOT >> /etc/udev/rules.d/61-dualshock.rules\nSUBSYSTEM==\"input\", GROUP=\"input\", MODE=\"0666\"\nSUBSYSTEM==\"usb\", ATTRS{idVendor}==\"054c\", ATTRS{idProduct}==\"0268\", MODE:=\"666\", GROUP=\"plugdev\"\nKERNEL==\"hidraw*\", SUBSYSTEM==\"hidraw\", MODE=\"0664\", GROUP=\"plugdev\"\n\nSUBSYSTEM==\"input\", GROUP=\"input\", MODE=\"0666\"\nSUBSYSTEM==\"usb\", ATTRS{idVendor}==\"054c\", ATTRS{idProduct}==\"05c4\", MODE:=\"666\", GROUP=\"plugdev\"\nKERNEL==\"hidraw*\", SUBSYSTEM==\"hidraw\", MODE=\"0664\", GROUP=\"plugdev\"\nEOT\n\n# Reload the rules, then disconnect/connect the controller.\nsudo udevadm control --reload-rules\n\nexit\n```\n\n# QUICK FIX for node-hid hidraw... PLEASE HELP IF YOU KNOW FIX\n```\n# I am having issues with node-hid --driver=hidraw not seeming to work... quickest fix is to reinstall, node-hid --driver=hidraw \n\n# Reinstall (node-hid --driver=hidraw) on cncjs-pendant-ps3\ncd /usr/lib/node_modules/cncjs-pendant-ps3/\nsudo npm install node-hid --driver=hidraw --build-from-source --unsafe-perm\n```\n\nI recommend rebooting now.\nAfter reboot you can test pendant by running `cncjs-pendant-ps3 -p \"/dev/ttyUSB0\"`.\n\n----------------------------------------\n\n# Auto Start\n\n### Install [Production Process Manager [PM2]](http://pm2.io)\n```\n# Install Production Process Manager [PM2]\nnpm install pm2 -g\n\n# Setup PM2 Startup Script\npm2 startup debian\n  #[PM2] You have to run this command as root. Execute the following command:\n  sudo su -c \"env PATH=$PATH:/home/pi/.nvm/versions/node/v4.5.0/bin pm2 startup debian -u pi --hp /home/pi\"\n\n# Start Dual Shock / PS3 Bluetooth Remote Pendant for CNCjs (conected to serail device @ /dev/ttyUSB0) with PM2\npm2 start $(which cncjs-pendant-ps3) -- -p \"/dev/ttyUSB0\"\n\n# Set current running apps to startup\npm2 save\n\n# Get list of PM2 processes\npm2 list\n```\n","starsCount":1,"created":"2017-03-12T05:53:52.448Z","modified":"2017-04-24T10:20:37.871Z","lastPublisher":{"name":"austinsaintaubin","email":"austinsaintaubin@gmail.com"},"owners":[{"name":"austinsaintaubin","email":"austinsaintaubin@gmail.com"}],"other":{"_attachments":{},"_from":".","_id":"cncjs-pendant-ps3","_nodeVersion":"7.7.4","_npmOperationalInternal":{"host":"packages-18-east.internal.npmjs.com","tmp":"tmp/cncjs-pendant-ps3-1.0.9.tgz_1490492492100_0.5298774128314108"},"_npmUser":{"name":"austinsaintaubin","email":"austinsaintaubin@gmail.com"},"_npmVersion":"4.4.4","_rev":"11-486346969d11e4d84ac0f5bda5491d5f","_shasum":"320a730a930c1f8255602153cd3b18f0923c3aa3","author":{"name":"Austin St. Aubin","email":"AustinSaintAubin@gmail.com"},"bugs":{"url":"https://github.com/cncjs/cncjs-pendant-ps3/issues"},"directories":{},"dist-tags":{"latest":"1.0.9"},"dist":{"shasum":"320a730a930c1f8255602153cd3b18f0923c3aa3","tarball":"https://registry.npmjs.org/cncjs-pendant-ps3/-/cncjs-pendant-ps3-1.0.9.tgz"},"maintainers":[{"name":"austinsaintaubin","email":"austinsaintaubin@gmail.com"}],"readmeFilename":"README.md","time":{"modified":"2017-04-24T10:20:37.871Z","created":"2017-03-12T05:53:52.448Z","1.0.0":"2017-03-12T05:53:52.448Z","1.0.1":"2017-03-12T08:39:20.024Z","1.0.2":"2017-03-12T19:13:25.668Z","1.0.3":"2017-03-12T19:20:24.317Z","1.0.4":"2017-03-12T20:00:41.515Z","1.0.5":"2017-03-12T22:46:40.039Z","1.0.6":"2017-03-12T22:56:24.857Z","1.0.7":"2017-03-12T23:06:44.437Z","1.0.8":"2017-03-17T02:11:48.351Z","1.0.9":"2017-03-26T01:41:32.701Z"},"users":{"tazjel":true}}}