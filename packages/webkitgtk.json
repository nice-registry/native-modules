{"name":"webkitgtk","version":"4.6.0","description":"webkitgtk addon with powerful Node.js API","keywords":["webkit","binding","gtk","phantom","snapshot","screenshot","pdf"],"main":"index.js","bin":{"webkitgtk":"./bin/webkitgtk.js"},"dependencies":{"dashdash":"^1.10.1","debug":"^2.2.0","nan":"^2.0.5","promise-polyfill":"^6.0.2","tosource":"^1.0.0","chalk":"^1.1.1","headless":"^1.0.0","jsdom":"^9.8.3","request":"^2.60.0"},"engines":{"node":">=0.10.29"},"optionalDependencies":{"chalk":"^1.1.1","headless":"^1.0.0","jsdom":"^9.8.3","request":"^2.60.0"},"devDependencies":{"engine.io":"^1.4.2","engine.io-client":"^1.4.2","expect.js":"^0.3.1","glob":"^7.1.1","headless":"^1.0.0","http-digest-auth":"^0.1.3","mocha":"^2.5.3","pdfinfo":"0.0.3","rimraf":"^2.5.4"},"scripts":{"install":"make || exit 0","test":"make check"},"repository":"https://github.com/kapouer/node-webkitgtk","license":"MIT","gitHead":"a7d10dc06ad3b260c47ce0f26339f901aa7a3e07","homepage":"https://github.com/kapouer/node-webkitgtk#readme","versions":[{"number":"0.0.1","date":"2014-09-04T23:54:07.394Z"},{"number":"0.0.2","date":"2014-09-05T00:08:58.219Z"},{"number":"0.0.3","date":"2014-09-06T16:43:19.258Z"},{"number":"0.0.4","date":"2014-09-06T18:17:42.460Z"},{"number":"0.0.5","date":"2014-09-06T20:31:32.169Z"},{"number":"1.0.0","date":"2014-09-24T00:09:09.716Z"},{"number":"1.1.0","date":"2014-09-24T10:42:36.445Z"},{"number":"1.1.1","date":"2014-09-24T13:10:20.532Z"},{"number":"1.1.2","date":"2014-09-24T13:20:38.992Z"},{"number":"1.1.3","date":"2014-09-24T14:21:36.629Z"},{"number":"1.1.4","date":"2014-09-24T14:27:01.296Z"},{"number":"1.1.5","date":"2014-09-24T17:36:48.907Z"},{"number":"1.1.6","date":"2014-09-24T21:28:11.436Z"},{"number":"1.2.0","date":"2014-09-30T09:07:07.527Z"},{"number":"1.2.1","date":"2014-10-03T00:09:53.608Z"},{"number":"1.2.2","date":"2014-10-03T22:41:04.280Z"},{"number":"1.3.0","date":"2014-10-08T10:00:01.996Z"},{"number":"1.3.1","date":"2014-10-08T10:10:22.604Z"},{"number":"1.3.2","date":"2014-10-08T13:27:12.544Z"},{"number":"1.4.0","date":"2014-10-08T18:39:36.631Z"},{"number":"1.4.1","date":"2014-10-08T19:07:51.326Z"},{"number":"1.4.2","date":"2014-10-09T07:24:11.985Z"},{"number":"1.4.3","date":"2014-10-09T07:41:56.555Z"},{"number":"1.4.4","date":"2014-10-09T08:30:10.404Z"},{"number":"1.5.0","date":"2014-10-16T08:25:54.048Z"},{"number":"1.5.1","date":"2014-10-18T09:38:18.253Z"},{"number":"1.5.2","date":"2014-10-23T13:37:07.699Z"},{"number":"1.5.3","date":"2014-10-25T21:31:38.905Z"},{"number":"1.5.4","date":"2014-10-28T22:59:53.590Z"},{"number":"1.5.5","date":"2014-10-29T00:42:03.075Z"},{"number":"1.5.6","date":"2014-10-29T01:12:16.287Z"},{"number":"1.5.7","date":"2014-10-29T19:53:40.825Z"},{"number":"1.5.8","date":"2014-10-30T00:00:06.075Z"},{"number":"1.6.0","date":"2014-10-31T16:53:43.417Z"},{"number":"1.7.0","date":"2014-11-02T09:28:08.795Z"},{"number":"1.7.1","date":"2014-11-02T09:51:56.844Z"},{"number":"1.7.2","date":"2014-11-02T15:42:18.810Z"},{"number":"1.7.3","date":"2014-11-03T13:25:32.165Z"},{"number":"1.8.0","date":"2014-11-05T00:11:41.541Z"},{"number":"1.8.1","date":"2014-11-05T10:19:15.594Z"},{"number":"1.8.2","date":"2014-11-06T12:18:48.849Z"},{"number":"1.8.3","date":"2014-11-07T09:24:58.531Z"},{"number":"1.8.4","date":"2014-11-09T17:44:40.869Z"},{"number":"1.8.5","date":"2014-11-19T10:30:02.030Z"},{"number":"1.8.6","date":"2014-12-02T14:47:37.679Z"},{"number":"1.8.7","date":"2014-12-02T23:22:15.864Z"},{"number":"1.9.0","date":"2014-12-06T01:16:36.532Z"},{"number":"1.9.1","date":"2014-12-07T22:41:16.972Z"},{"number":"1.9.2","date":"2014-12-08T10:03:23.766Z"},{"number":"1.9.3","date":"2014-12-11T10:58:17.697Z"},{"number":"1.9.4","date":"2014-12-17T13:18:05.663Z"},{"number":"1.10.0","date":"2014-12-29T14:57:08.384Z"},{"number":"1.10.1","date":"2015-01-02T01:23:01.095Z"},{"number":"1.11.0","date":"2015-01-07T22:38:14.573Z"},{"number":"1.11.1","date":"2015-01-11T01:57:21.117Z"},{"number":"1.11.2","date":"2015-01-20T17:33:28.933Z"},{"number":"1.11.3","date":"2015-01-27T00:32:45.877Z"},{"number":"1.12.0","date":"2015-02-02T13:45:37.984Z"},{"number":"1.12.1","date":"2015-02-02T17:27:20.846Z"},{"number":"1.13.0","date":"2015-02-04T17:39:05.377Z"},{"number":"1.14.0","date":"2015-02-04T21:45:41.687Z"},{"number":"1.14.1","date":"2015-02-05T00:41:22.046Z"},{"number":"1.14.2","date":"2015-02-05T00:53:33.802Z"},{"number":"1.15.0","date":"2015-02-05T01:27:43.487Z"},{"number":"1.16.0","date":"2015-02-09T02:21:16.421Z"},{"number":"1.16.1","date":"2015-02-09T10:18:04.436Z"},{"number":"1.16.2","date":"2015-02-09T10:48:31.160Z"},{"number":"1.17.0","date":"2015-02-10T14:11:28.914Z"},{"number":"1.17.1","date":"2015-02-17T01:15:33.535Z"},{"number":"1.17.2","date":"2015-02-17T09:39:51.375Z"},{"number":"1.17.3","date":"2015-02-26T01:45:53.202Z"},{"number":"1.17.4","date":"2015-03-01T01:13:31.635Z"},{"number":"1.18.0","date":"2015-03-01T22:42:32.420Z"},{"number":"1.18.1","date":"2015-03-02T21:29:05.222Z"},{"number":"1.18.2","date":"2015-03-03T02:43:05.137Z"},{"number":"1.18.4","date":"2015-04-10T08:10:26.680Z"},{"number":"1.18.5","date":"2015-04-10T15:39:24.376Z"},{"number":"1.18.6","date":"2015-04-12T23:57:00.577Z"},{"number":"1.18.7","date":"2015-04-17T09:03:33.957Z"},{"number":"1.18.8","date":"2015-04-22T21:14:53.321Z"},{"number":"1.18.9","date":"2015-05-16T00:26:15.152Z"},{"number":"1.18.10","date":"2015-05-18T09:23:33.937Z"},{"number":"1.18.11","date":"2015-05-18T20:16:07.215Z"},{"number":"1.18.12","date":"2015-06-05T13:23:49.192Z"},{"number":"1.18.13","date":"2015-06-08T12:38:05.392Z"},{"number":"1.18.14","date":"2015-06-23T15:37:32.424Z"},{"number":"1.18.15","date":"2015-06-25T12:48:08.947Z"},{"number":"1.18.16","date":"2015-06-25T12:56:34.617Z"},{"number":"1.18.17","date":"2015-06-29T10:40:54.460Z"},{"number":"1.18.18","date":"2015-07-14T14:33:32.616Z"},{"number":"1.18.19","date":"2015-07-24T08:17:29.726Z"},{"number":"2.0.0","date":"2015-08-11T14:25:02.115Z"},{"number":"2.0.1","date":"2015-08-12T09:26:54.076Z"},{"number":"2.1.0","date":"2015-08-14T00:38:56.595Z"},{"number":"2.1.1","date":"2015-08-16T10:07:42.718Z"},{"number":"2.2.0","date":"2015-08-19T12:53:50.310Z"},{"number":"2.2.1","date":"2015-08-19T13:51:03.213Z"},{"number":"2.2.2","date":"2015-08-19T16:06:03.305Z"},{"number":"2.3.0","date":"2015-08-20T15:32:15.476Z"},{"number":"2.4.0","date":"2015-08-24T22:03:47.577Z"},{"number":"2.4.1","date":"2015-08-24T22:17:09.084Z"},{"number":"3.0.0","date":"2015-09-02T00:58:34.759Z"},{"number":"3.0.1","date":"2015-09-02T08:55:15.973Z"},{"number":"3.0.2","date":"2015-09-03T21:41:12.516Z"},{"number":"3.0.3","date":"2015-09-09T15:29:38.162Z"},{"number":"3.0.4","date":"2015-09-17T09:11:27.465Z"},{"number":"3.0.5","date":"2015-09-21T22:44:06.823Z"},{"number":"3.0.6","date":"2015-09-22T23:48:50.522Z"},{"number":"3.1.0","date":"2015-09-23T10:50:02.210Z"},{"number":"3.1.1","date":"2015-10-07T10:58:58.087Z"},{"number":"3.1.2","date":"2015-10-26T13:30:56.950Z"},{"number":"3.1.3","date":"2015-11-02T15:11:14.589Z"},{"number":"3.2.0","date":"2015-11-05T11:30:22.038Z"},{"number":"3.2.1","date":"2015-11-05T11:36:13.204Z"},{"number":"3.2.2","date":"2015-11-07T01:12:08.659Z"},{"number":"3.2.3","date":"2015-11-09T13:41:33.477Z"},{"number":"3.2.4","date":"2015-11-16T22:52:13.029Z"},{"number":"3.2.5","date":"2015-12-02T10:06:37.744Z"},{"number":"3.2.6","date":"2015-12-03T10:11:34.339Z"},{"number":"3.2.7","date":"2015-12-03T12:07:31.898Z"},{"number":"3.2.8","date":"2015-12-06T16:13:40.980Z"},{"number":"3.2.9","date":"2015-12-16T01:41:06.261Z"},{"number":"3.3.0","date":"2015-12-16T10:13:24.006Z"},{"number":"3.3.1","date":"2015-12-16T11:53:07.100Z"},{"number":"3.3.2","date":"2015-12-16T15:50:01.939Z"},{"number":"3.3.3","date":"2016-01-10T21:36:45.886Z"},{"number":"3.4.0","date":"2016-01-11T01:07:15.179Z"},{"number":"3.4.1","date":"2016-01-11T10:35:19.010Z"},{"number":"3.5.0","date":"2016-02-10T11:56:37.404Z"},{"number":"3.5.1","date":"2016-02-16T13:58:54.738Z"},{"number":"3.6.0","date":"2016-02-22T09:18:02.912Z"},{"number":"3.6.1","date":"2016-02-22T15:08:02.428Z"},{"number":"3.6.2","date":"2016-02-24T10:16:34.616Z"},{"number":"3.6.3","date":"2016-02-25T01:00:26.399Z"},{"number":"3.6.4","date":"2016-02-25T02:02:03.223Z"},{"number":"3.6.5","date":"2016-03-01T00:50:30.328Z"},{"number":"3.6.6","date":"2016-03-04T14:11:54.037Z"},{"number":"3.6.7","date":"2016-03-06T11:25:30.764Z"},{"number":"4.0.0","date":"2016-03-14T02:28:48.136Z"},{"number":"4.0.1","date":"2016-03-23T13:29:38.323Z"},{"number":"4.0.2","date":"2016-03-31T13:39:34.105Z"},{"number":"4.1.0","date":"2016-04-04T22:35:23.350Z"},{"number":"4.1.1","date":"2016-04-04T22:36:54.839Z"},{"number":"4.1.2","date":"2016-04-12T20:07:00.233Z"},{"number":"4.1.3","date":"2016-04-12T21:09:20.782Z"},{"number":"4.1.4","date":"2016-04-25T19:43:11.320Z"},{"number":"4.1.5","date":"2016-05-27T12:58:31.506Z"},{"number":"4.2.0","date":"2016-06-02T21:28:49.093Z"},{"number":"4.3.0","date":"2016-06-03T12:37:57.494Z"},{"number":"4.3.1","date":"2016-06-24T07:06:26.724Z"},{"number":"4.3.2","date":"2016-07-01T23:46:13.511Z"},{"number":"4.3.3","date":"2016-07-11T22:11:50.454Z"},{"number":"4.3.4","date":"2016-07-12T00:31:31.300Z"},{"number":"4.3.5","date":"2016-07-12T22:16:08.940Z"},{"number":"4.3.6","date":"2016-07-17T07:46:11.654Z"},{"number":"4.4.0","date":"2016-07-27T14:40:51.629Z"},{"number":"4.4.1","date":"2016-07-27T23:15:47.080Z"},{"number":"4.4.2","date":"2016-07-28T09:28:43.014Z"},{"number":"4.4.3","date":"2016-08-08T15:53:48.436Z"},{"number":"4.4.4","date":"2016-11-07T19:23:28.238Z"},{"number":"4.4.5","date":"2017-01-07T01:55:37.405Z"},{"number":"4.4.6","date":"2017-01-09T09:24:34.861Z"},{"number":"4.4.7","date":"2017-01-10T14:33:16.674Z"},{"number":"4.4.8","date":"2017-01-11T21:50:22.240Z"},{"number":"4.5.0","date":"2017-03-06T11:13:01.617Z"},{"number":"4.5.1","date":"2017-04-02T22:56:21.797Z"},{"number":"4.6.0","date":"2017-05-03T09:31:55.488Z"}],"readme":"[![NPM](https://nodei.co/npm/webkitgtk.png?downloads=true)](https://nodei.co/npm/webkitgtk/)\n\nnode-webkitgtk\n==============\n\nPilot webkitgtk from Node.js with a simple API.\n\nAlso offers a command-line REPL, able to display (or not) the\ncurrent window, output pdf or png, see `webkitgtk --help`,\nand several example calls in examples/repl.sh.\n\nFalls back to jsdom if the module cannot be compiled (with obvious\nlimitations like inability to render the DOM nor output png or pdf).\n\nTypically, [express-dom](https://github.com/kapouer/express-dom) can run\non webkitgtk's jsdom mode - developers can work on other platforms where\njsdom builds fine.\n\n*this module uses only system-installed, shared libraries*  \nit doesn't embed static libraries, meaning it plugs very nicely into\nsystem-installed libraries.\n\n\nNode.js compatibility\n---------------------\n\nNode.js LTS and Current.\n\n\nusage\n-----\n\nThe API has two styles:\n- with callbacks, all methods return current instance\n- without callbacks, all methods return promise\n\nFor convenience, the returned promises have bound methods once, on, when.\n\n\nThese calls will output pdf/png version of fully loaded pages (see documentation\nbelow about idle event).\n\nPdf output from cli:\n\n```\nwebkitgtk --pdf test.pdf \\\n\t--paper 210x297 \\\n\t--margins 20,20,20,20 \\\n\t--unit mm \\\n\thttp://google.fr\n```\n\nPng output from cli:\n\n```\nwebkitgtk --png test.png http://nasa.gov\n```\n\n\n```js\nvar WebKit = require('webkitgtk');\nvar fs = require('fs');\n\n// optional, if nothing is set, defaults to :0\nvar displayOpts = {\n  width: 1024,\n  height: 768,\n  display: \"99\"\n};\n\n\n// old-style creation\nvar view = new WebKit();\nview.init(displayOpts).then(function() {\n  view.load(uri, {\n    style: fs.readFileSync('css/png.css') // useful stylesheet for snapshots\n  })\n  view.when('load', function() {\n    return this.png('test.png');\n  });\n});\n\n// short-hand can init display and load\nWebKit.load(uri, {\n  display: displayOpts, // optional, defaults to :0\n  style: fs.readFileSync('css/png.css') // useful stylesheet for snapshots\n}).once('idle', function() {\n  this.png('test.png'); // this is always the created instance in listeners\n  // ...\n});\n```\n\nA facility for choosing/spawning a display using xvfb\n\n```js\n// this spawns xvfb instance\n// new-style creation\nWebKit(\"1024x768x16:99\", function(err, w) {\n  w.load(\"http://github.com\", function(err) {\n    w.png('test.png', function(err) {\n      // done\n    });\n  });\n});\n\n// this uses a pre-existing display\nWebKit(98, function(err, w) {\n  w.load(\"http://google.com\");\n});\n\n// use pre-existing display 0 by default\nWebkit(function(err, w) {\n  w.load(\"http://webkitgtk.org\", function(err) {\n    w.html(function(err, str) {\n      console.log(html);\n    });\n  });\n});\n\n```\n\nAsynchronous (life) event handlers\n\n```js\nWebKit\n.load(\"http://localhost/test\", {content: \"<html><body></body></html>\"})\n.when(\"ready\", function(cb) {\n  this.run(function(className, done) {\n    setTimeout(function() {\n      document.body.classList.add(className);\n      done();\n    }, 100);\n  }, 'testClass', cb);\n})\n.when(\"ready\", function(cb) {\n  setTimeout(cb, 100);\n})\n.when(\"idle\", function() {\n  // promise variant\n});\n```\n\nSee test/ for more examples.\n\n\nuse cases\n---------\n\nThis module is specifically designed to run 'headless'.\nPatches are welcome for UI uses, though.\n\n* snapshotting service (in combination with 'gm' module)\n\n* print to pdf service (in combination with 'gs' module)\n\n* static web page rendering\n\n* long-running web page as a service with websockets or webrtc\n  communications\n\n* gui widgets (since webkitgtk >= 2.7.4, transparent windows are possible),\n  see [the github wiki of node-webkitgtk](https://github.com/kapouer/node-webkitgtk/wiki).\n\n\nload(uri, opts, cb) options\n---------------------------\n\n- WebKitSettings  \n  http://webkitgtk.org/reference/webkit2gtk/stable/WebKitSettings.html  \n  Some settings have different default values:  \n  enable-plugins: FALSE  \n  enable-html5-database: FALSE  \n  enable-html5-local-storage: FALSE  \n  enable-java: FALSE  \n  enable-page-cache: FALSE  \n  enable-offline-web-application-cache: FALSE  \n  default-charset: \"utf-8\"  \n  user-agent: backend-specific value  \n\n- deprecated WebKitSettings aliases:  \n  private: enable-private-browsing  \n  images: auto-load-images  \n  localAccess: allow-file-access-from-file-urls  \n  ua: user-agent  \n  charset: default-charset  \n\n- cookies  \n  string | [string], default none  \n  note that as of webkitgtk 4.3.3 cookies are properly cleared and isolated between views.\n\n- width  \n  number, 1024\n- height  \n  number, 768  \n  the viewport\n\n- allow  \n  \"all\" or \"same-origin\" or \"none\" or a RegExp, default \"all\"  \n  A short-hand filter that is run after all other filters.  \n  Note that data:uri are discarded by \"none\" and allowed by \"same-origin\".\n\n- filters  \n  An array of request filters that are run in browser, synchronously.  \n  All filters are called one after another, and each filter can read-write the\n  following properties on `this`:  \n   uri (string)  \n   cancel (boolean)  \n   ignore (boolean)  \n  and has read-only access to  \n   from (string, in case the uri was redirected from another uri)  \n  In particular, a filter can revert the action of a previous filter.  \n  The initial document loading request is not filtered.  \n  A single filter is either a `function() {}`,\n  or an array `[function(arg0, ...) {}, arg0, ...]`, allowing passing\n  immutable stringyfiable arguments to the filter function.\n\n- filter  \n  Convenient option to append one filter to the list in opts.filters.\n\n- navigation  \n  boolean, default false  \n  allow navigation within the webview (changing document.location).\n\n- dialogs  \n  boolean, default false  \n  allow display of dialogs.\n\n- content  \n  string, default null  \n  load this content with the given base uri.\n\n- script  \n  buffer, string or {fn: function(..args) {}, args: [..]}, default null  \n  insert script at the beginning of loaded document.  \n  args length must match fn function arity.\n\n- scripts  \n  same as script but an array of them, default []\n\n- style  \n  string, default null  \n  insert user stylesheet, see  \n  http://www.w3.org/TR/CSS21/cascade.html#cascading-order\n  \n- transparent  \n  boolean, default false  \n  webkitgtk >= 2.7.4  \n  let the background be transparent (or any color set by css on the document)\n\n- decorated  \n  boolean, default true  \n  show window decorations (title bar, scroll bars)\n\n- timeout  \n  number, default 30000  \n  timeout for load(), in milliseconds\n\n- stall  \n  number, default 1000  \n  requests not receiving data for `stall` milliseconds are not taken into\n  account for deciding `idle` events.\n\n- stallInterval  \n  number, default 1000  \n  wait that long before ignoring all setInterval tasks as idle condition.  \n  Set to 0 to ignore all.\n\n- stallTimeout  \n  number, default 100  \n  wait that long before ignoring all setTimeout tasks with timeout > 0 as\n  idle condition. Tasks with 0 timeout will not be ignored, though.  \n  Set to 0 to ignore all.\n\n- stallFrame  \n  number, default 1000  \n  wait that long before ignoring requestAnimationFrames as idle condition.  \n  Set to 0 to ignore all.\n\n- console  \n  boolean, default false  \n  Send `console` events (see below).  \n  Default listener outputs everything and is disabled by registering a custom\n  listener.\n\n- runTimeout  \n  number, default 10000  \n  Async run() calls will timeout and call back after `runTimeout` ms.  \n  Sync run() calls, or runev() calls, are not affected.  \n  Can be disabled by setting this param to 0.\n\n\ninit(opts, cb) options\n----------------------\n\n`init(display)` can be called instead of passing an object.\n\n- display  \n  number for port, or string, (WIDTHxHEIGHTxDEPTH):PORT, default env.DISPLAY  \n  checks an X display or framebuffer is listening on that port\n  init(display)\n\n- width  \n  number, 1024\n- height  \n  number, 768\n  Framebuffer dimensions\n- depth  \n  number, 32\n  Framebuffer pixel depth\n\n- offscreen  \n  boolean, default true  \n  By default, nothing is shown on display. Set to false to display a window.\n\n- verbose  \n  boolean, default false  \n  log client errors and stalled requests, otherwise available as\n  DEBUG=webkitgtk:timeout,webkitgtk:error.\n\n- cacheDir  \n  string, $user_cache_dir/node-webkitgtk  \n  path to webkitgtk cache directory.  \n  Changing cacheDir can fail silently if webkitgtk lib is already initialized.\n\n- cacheModel  \n  string, defaults to browser.  \n  none: disables cache completely  \n  local: cache optimized for viewing local files  \n  browser: the real deal  \n\n- debug  \n  boolean, default false  \n  shows a real window with a web inspector.  \n  As a commodity, *the inspector must be closed* to get the `idle` event fired.\n\n- cookiePolicy  \n  string, \"always\", \"never\", any other string defaults to \"no third party\".\n\nIf width, height, depth options are given, an xvfb instance listening\ngiven display port will be spawned using `headless` module.\nWrapping the application with `xvfb-run` command line tool is a safe(r) alternative.\n\n\npdf() options\n-------------\n\n- orientation  \n  landscape | portrait, default to portrait\n\n- paper (string)  \n  typical values are iso_a3, iso_a4, iso_a5, iso_b5,\n  na_letter, na_executive, na_legal, see  \n  https://developer.gnome.org/gtk3/stable/GtkPaperSize.html\n\n- paper (object)  \n  unit : string, mm|in|pt, default \"pt\"  \n  width : number, default 0  \n  height : number, default 0  \n\n- margins (number)  \n  sets all margins in \"pt\" units, default 0\n\n- margins (string)  \n  sets all margins in given units, default 0 and \"pt\"\n\n- margins (object)  \n  unit : string, mm|in|pt, default \"pt\"  \n  left, top, right, bottom : number, default 0\n\n\nevents\n------\n\nAll events are on the WebKit instance.\n\nThese are lifecycle events:\n\n* ready  \n  same as document's DOMContentLoaded event  \n\n* load  \n  same as window's load event  \n\n* idle  \n  when all requests (xhr included), timeouts, intervals, animation requests,\n  are finished or timed out (see stall* options).  \n\n* unload  \n  same as window's unload event  \n\nThese events happen *once* and *in that order*.\n\nA new *busy* event can happen after *idle* event: it tracks further activity\nafter idling state, caused by any of:\n\n- setTimeout is finished or cleared\n- setInterval is finished or cleared\n- xhr is finished or aborted\n- animationFrame is finished or cancelled\n- a websocket emits a message\n\nIt can be used to track updates done by XHR, or long timeouts executed after\npage load.\n\nRegistering a listener for an event that already happened immediately calls the\nnew listener.\n\n\nThese events can happen at any moment:\n\n* error  \n  this is what is caught by window.onerror  \n  listener(message, url, line, column)\n\n* request  \n  listener(req) where req.uri, req.headers are read only.  \n  The request has already been sent when that event is emitted.\n\n* response  \n  listener(res)  \n  res have read-only properties uri, mime, status, length, filename, headers.  \n  res.data(function(err, buf)) fetches the response data.\n\n* data  \n  listener(res), called as soon as the first chunk of data is received.  \n  res have read-only properties uri, mime, status, length, filename, headers,  \n  and clength - the length of the received chunk of data.  \n\n* authenticate  \n  listener(request) where request.host, request.port, request.realm are\n  read-only.  \n  request.use(username, password) authenticates  \n  request.ignore() ignores authentication  \n  Both methods can be called later (asynchronously), but at least one of them\n  is supposed to be called if the signal is handled.\n\n* navigate  \n  listener(url)  \n  Called when document location changes (not when history state change).  \n  Navigation is permitted or not using `navigation` option, not this event.\n\n* console (deprecated)\n  listener(level, ...) where level is 'log', 'error', 'warn' or 'info'.  \n  Remaining arguments are the arguments of the corresponding calls to\n  console[level] inside the page.  \n  Logging everything that comes out of web pages can be annoying, so this is\n  disabled by default.  \n  This event is deprecated - use `console` load option to enable/disable\n  console output instead.\n\n\nmethods\n-------\n\n* new Webkit()  \n  creates an unitialized instance upon which init() must be called.  \n  WebKit is also an EventEmitter.\n\n* WebKit(opts?, cb)  \n  Same as above.  \n  If arguments are given, equals `new WebKit().init(opts, cb)`.\n\n* init(opts?, cb)  \n  see parameters described above  \n  *must be invoked before (pre)load*.  \n  Callback receives (err, instance).\n\n* clearCache()  \n  Clear cache of the current instance.  \n  Busy on-disk resources won't be cleared, so it's safer to call on an unloaded view.\n  Other running instances sharing the same cache may not be immediately affected.\n\n* preload(uri, opts?, cb)  \n  load uri into webview  \n  initial scripts are not run, resources are not loaded.  \n  These options are not effective: `cookies`, `script`, `allow`.  \n  Callback receives (err, instance).\n\n* load(uri, opts?, cb)  \n  load uri into webview  \n  see parameters described above.  \n  Callback receives (err, instance).\n\n* once(event, listener)  \n  the standard synchronous EventEmitter interface\n\n* when(event, asyncListener*)  \n  Allow queuing asynchronous jobs on an event and before next event.  \n  The async listener can have a function length of zero, in which case\n  it is considered to be a thenable; and the method returns the promise.  \n  If asyncListener is missing it returns the latest promise.  \n  Using promises is the only way to catch errors from previous jobs.  \n  Otherwise the callback-style API is assumed.  \n\n* run(sync-script, param*, cb)  \n  any synchronous script text or global function.  \n  If it's a function, multiple parameters can be passed, as long as they are\n  serializable.\n\n* run(async-script, param*, cb)  \n  async-script must be a function with callback as last argument,\n  whose arguments will be passed to cb, as long as they are stringifyable.\n\n* runev(async-script, param*, cb)  \n  async-script must be a function, it receives an `emit` function as last\n  argument, which in turn acts as event emitter: each call emits the named event\n  on current instance, and can be listened using view.on(event, listener).  \n  The listener receives additional arguments as long as they're stringifyable.  \n  Can be used to listen recurring events.\n\n* png(writableStream or filename, cb)  \n  takes a png snapshot of the whole document right now.  \n  If invoked with a filename, save the stream to file.  \n  Tip: use custom css to cut portions of the document.\n\n* html(cb)  \n  get the whole document html, prepended with its doctype, right now.  \n  Callback receives (err, str).\n\n* pdf(filepath, opts?, cb)  \n  print page to file right now  \n  see parameters described above.\n\n* reset(cb)  \n  Stops loading if it was, unregister listeners, allows .load() to be run\n  sooner than when calling unload.\n\n* unload(cb)  \n  Sets current view to an empty document and uri.  \n  Emits 'unload' event.\n\n* destroy(cb)  \n  does the reverse of init - frees webview and xvfb instance if any.  \n  init() can be called again to recover a working instance.  \n  destroy must be called after unload to avoid memory leaks.\n\n\nproperties\n----------\n\n* WebKit.navigator  \n  static property, a copy of the currently installed engine.\n\n* uri  \n  Read-only, get current uri of the web view.\n\n* readyState  \n  Read-only: empty, \"opening\", \"loading\", \"interactive\", \"complete\"  \n  Before the first call to .load(uri, cb) it is empty, and before cb is called it\n  is opening.\n\n\ndebugging\n---------\n\n`DEBUG=webkitgtk node myscript.js`\nto print all logs.\n\nIn a production environment, it could be useful to set the init option\nverbose = true\nor, equivalently, the environment variables\nDEBUG=webkitgtk:timeout,webkitgtk:error,webkitgtk:warn\n\n\nThis will keep the page running, output console to terminal, and open\na gtk window with inspector open:\n\n```\nWebKit({debug: true, verbose: true}, function(err, w) {\n  w.load(url, {console: true});\n});\n```\n\nFor debugging of node-webkitgtk itself, please read ./DEBUG.\n\n\nabout plugins\n-------------\n\nIn webkit2gtk >= 2.4.4, if there are plugins in `/usr/lib/mozilla/plugins`\nthey are initialized (but not necessarily enabled on the WebView),\nand that could impact first page load time greatly (seconds !) - especially if\nthere's a java plugin.\n\nWorkaround:\nuninstall the plugin, on my dev machine it was\n`/usr/lib/mozilla/plugins/libjavaplugin.so` installed by icedtea.\n\n\ninstall\n-------\n\nLinux only.\n\nCompatible with webkitgtk (WebKit2) versions 2.8 and above.\n\nIt's usually a better idea to use latest stable webkit2gtk.\n\nThese libraries and their development files must be available in usual\nlocations.\n\n```\nwebkit2gtk-3.0 (2.4.x), for node-webkitgtk 1.2.x\nwebkit2gtk-4.0 (>= 2.8.x), for node-webkitgtk >= 1.3.0\nglib-2.0\ngtk+-3.0\nlibsoup2.4\n```\n\nAlso usual development tools are needed (pkg-config, gcc, and so on).\n\nOn debian/jessie, these packages will pull necessary dependencies:\n\n```\nnodejs\nnpm\nlibwebkit2gtk-3.0-dev (2.4.x), for node-webkitgtk 1.2.x\nlibwebkit2gtk-4.0-dev (>= 2.8.x), for node-webkitgtk >= 1.3.0\n```\n\nOn fedora/21:\n\n```\nnodejs\nnpm\nwebkitgtk4-devel\n```\n\nOn ubuntu/14:\ntry [the WebKit team ppa](https://launchpad.net/~webkit-team)\n\nLicense\n-------\n\nMIT, see LICENSE file\n\n","starsCount":5,"created":"2014-09-04T23:54:07.394Z","modified":"2017-05-03T09:31:55.488Z","lastPublisher":{"name":"kapouer","email":"kapouer@melix.org"},"owners":[{"name":"kapouer","email":"kapouer@melix.org"}],"other":{"_attachments":{},"_from":".","_id":"webkitgtk","_nodeVersion":"6.10.2","_npmOperationalInternal":{"host":"packages-12-west.internal.npmjs.com","tmp":"tmp/webkitgtk-4.6.0.tgz_1493803913496_0.8623201365116984"},"_npmUser":{"name":"kapouer","email":"kapouer@melix.org"},"_npmVersion":"4.5.0","_rev":"9-cbb3b3f889683620aeac21bd4b3edac5","_shasum":"6451c362f61f5f8243126ac7340916efcbc39236","author":{"name":"Jérémy Lal","email":"kapouer@melix.org"},"bugs":{"url":"https://github.com/kapouer/node-webkitgtk/issues"},"directories":{},"dist-tags":{"latest":"4.6.0"},"dist":{"shasum":"6451c362f61f5f8243126ac7340916efcbc39236","tarball":"https://registry.npmjs.org/webkitgtk/-/webkitgtk-4.6.0.tgz"},"maintainers":[{"name":"kapouer","email":"kapouer@melix.org"}],"readmeFilename":"README.md","time":{"modified":"2017-05-03T09:31:55.488Z","created":"2014-09-04T23:54:07.394Z","0.0.1":"2014-09-04T23:54:07.394Z","0.0.2":"2014-09-05T00:08:58.219Z","0.0.3":"2014-09-06T16:43:19.258Z","0.0.4":"2014-09-06T18:17:42.460Z","0.0.5":"2014-09-06T20:31:32.169Z","1.0.0":"2014-09-24T00:09:09.716Z","1.1.0":"2014-09-24T10:42:36.445Z","1.1.1":"2014-09-24T13:10:20.532Z","1.1.2":"2014-09-24T13:20:38.992Z","1.1.3":"2014-09-24T14:21:36.629Z","1.1.4":"2014-09-24T14:27:01.296Z","1.1.5":"2014-09-24T17:36:48.907Z","1.1.6":"2014-09-24T21:28:11.436Z","1.2.0":"2014-09-30T09:07:07.527Z","1.2.1":"2014-10-03T00:09:53.608Z","1.2.2":"2014-10-03T22:41:04.280Z","1.3.0":"2014-10-08T10:00:01.996Z","1.3.1":"2014-10-08T10:10:22.604Z","1.3.2":"2014-10-08T13:27:12.544Z","1.4.0":"2014-10-08T18:39:36.631Z","1.4.1":"2014-10-08T19:07:51.326Z","1.4.2":"2014-10-09T07:24:11.985Z","1.4.3":"2014-10-09T07:41:56.555Z","1.4.4":"2014-10-09T08:30:10.404Z","1.5.0":"2014-10-16T08:25:54.048Z","1.5.1":"2014-10-18T09:38:18.253Z","1.5.2":"2014-10-23T13:37:07.699Z","1.5.3":"2014-10-25T21:31:38.905Z","1.5.4":"2014-10-28T22:59:53.590Z","1.5.5":"2014-10-29T00:42:03.075Z","1.5.6":"2014-10-29T01:12:16.287Z","1.5.7":"2014-10-29T19:53:40.825Z","1.5.8":"2014-10-30T00:00:06.075Z","1.6.0":"2014-10-31T16:53:43.417Z","1.7.0":"2014-11-02T09:28:08.795Z","1.7.1":"2014-11-02T09:51:56.844Z","1.7.2":"2014-11-02T15:42:18.810Z","1.7.3":"2014-11-03T13:25:32.165Z","1.8.0":"2014-11-05T00:11:41.541Z","1.8.1":"2014-11-05T10:19:15.594Z","1.8.2":"2014-11-06T12:18:48.849Z","1.8.3":"2014-11-07T09:24:58.531Z","1.8.4":"2014-11-09T17:44:40.869Z","1.8.5":"2014-11-19T10:30:02.030Z","1.8.6":"2014-12-02T14:47:37.679Z","1.8.7":"2014-12-02T23:22:15.864Z","1.9.0":"2014-12-06T01:16:36.532Z","1.9.1":"2014-12-07T22:41:16.972Z","1.9.2":"2014-12-08T10:03:23.766Z","1.9.3":"2014-12-11T10:58:17.697Z","1.9.4":"2014-12-17T13:18:05.663Z","1.10.0":"2014-12-29T14:57:08.384Z","1.10.1":"2015-01-02T01:23:01.095Z","1.11.0":"2015-01-07T22:38:14.573Z","1.11.1":"2015-01-11T01:57:21.117Z","1.11.2":"2015-01-20T17:33:28.933Z","1.11.3":"2015-01-27T00:32:45.877Z","1.12.0":"2015-02-02T13:45:37.984Z","1.12.1":"2015-02-02T17:27:20.846Z","1.13.0":"2015-02-04T17:39:05.377Z","1.14.0":"2015-02-04T21:45:41.687Z","1.14.1":"2015-02-05T00:41:22.046Z","1.14.2":"2015-02-05T00:53:33.802Z","1.15.0":"2015-02-05T01:27:43.487Z","1.16.0":"2015-02-09T02:21:16.421Z","1.16.1":"2015-02-09T10:18:04.436Z","1.16.2":"2015-02-09T10:48:31.160Z","1.17.0":"2015-02-10T14:11:28.914Z","1.17.1":"2015-02-17T01:15:33.535Z","1.17.2":"2015-02-17T09:39:51.375Z","1.17.3":"2015-02-26T01:45:53.202Z","1.17.4":"2015-03-01T01:13:31.635Z","1.18.0":"2015-03-01T22:42:32.420Z","1.18.1":"2015-03-02T21:29:05.222Z","1.18.2":"2015-03-03T02:43:05.137Z","1.18.4":"2015-04-10T08:10:26.680Z","1.18.5":"2015-04-10T15:39:24.376Z","1.18.6":"2015-04-12T23:57:00.577Z","1.18.7":"2015-04-17T09:03:33.957Z","1.18.8":"2015-04-22T21:14:53.321Z","1.18.9":"2015-05-16T00:26:15.152Z","1.18.10":"2015-05-18T09:23:33.937Z","1.18.11":"2015-05-18T20:16:07.215Z","1.18.12":"2015-06-05T13:23:49.192Z","1.18.13":"2015-06-08T12:38:05.392Z","1.18.14":"2015-06-23T15:37:32.424Z","1.18.15":"2015-06-25T12:48:08.947Z","1.18.16":"2015-06-25T12:56:34.617Z","1.18.17":"2015-06-29T10:40:54.460Z","1.18.18":"2015-07-14T14:33:32.616Z","1.18.19":"2015-07-24T08:17:29.726Z","2.0.0":"2015-08-11T14:25:02.115Z","2.0.1":"2015-08-12T09:26:54.076Z","2.1.0":"2015-08-14T00:38:56.595Z","2.1.1":"2015-08-16T10:07:42.718Z","2.2.0":"2015-08-19T12:53:50.310Z","2.2.1":"2015-08-19T13:51:03.213Z","2.2.2":"2015-08-19T16:06:03.305Z","2.3.0":"2015-08-20T15:32:15.476Z","2.4.0":"2015-08-24T22:03:47.577Z","2.4.1":"2015-08-24T22:17:09.084Z","3.0.0":"2015-09-02T00:58:34.759Z","3.0.1":"2015-09-02T08:55:15.973Z","3.0.2":"2015-09-03T21:41:12.516Z","3.0.3":"2015-09-09T15:29:38.162Z","3.0.4":"2015-09-17T09:11:27.465Z","3.0.5":"2015-09-21T22:44:06.823Z","3.0.6":"2015-09-22T23:48:50.522Z","3.1.0":"2015-09-23T10:50:02.210Z","3.1.1":"2015-10-07T10:58:58.087Z","3.1.2":"2015-10-26T13:30:56.950Z","3.1.3":"2015-11-02T15:11:14.589Z","3.2.0":"2015-11-05T11:30:22.038Z","3.2.1":"2015-11-05T11:36:13.204Z","3.2.2":"2015-11-07T01:12:08.659Z","3.2.3":"2015-11-09T13:41:33.477Z","3.2.4":"2015-11-16T22:52:13.029Z","3.2.5":"2015-12-02T10:06:37.744Z","3.2.6":"2015-12-03T10:11:34.339Z","3.2.7":"2015-12-03T12:07:31.898Z","3.2.8":"2015-12-06T16:13:40.980Z","3.2.9":"2015-12-16T01:41:06.261Z","3.3.0":"2015-12-16T10:13:24.006Z","3.3.1":"2015-12-16T11:53:07.100Z","3.3.2":"2015-12-16T15:50:01.939Z","3.3.3":"2016-01-10T21:36:45.886Z","3.4.0":"2016-01-11T01:07:15.179Z","3.4.1":"2016-01-11T10:35:19.010Z","3.5.0":"2016-02-10T11:56:37.404Z","3.5.1":"2016-02-16T13:58:54.738Z","3.6.0":"2016-02-22T09:18:02.912Z","3.6.1":"2016-02-22T15:08:02.428Z","3.6.2":"2016-02-24T10:16:34.616Z","3.6.3":"2016-02-25T01:00:26.399Z","3.6.4":"2016-02-25T02:02:03.223Z","3.6.5":"2016-03-01T00:50:30.328Z","3.6.6":"2016-03-04T14:11:54.037Z","3.6.7":"2016-03-06T11:25:30.764Z","4.0.0":"2016-03-14T02:28:48.136Z","4.0.1":"2016-03-23T13:29:38.323Z","4.0.2":"2016-03-31T13:39:34.105Z","4.1.0":"2016-04-04T22:35:23.350Z","4.1.1":"2016-04-04T22:36:54.839Z","4.1.2":"2016-04-12T20:07:00.233Z","4.1.3":"2016-04-12T21:09:20.782Z","4.1.4":"2016-04-25T19:43:11.320Z","4.1.5":"2016-05-27T12:58:31.506Z","4.2.0":"2016-06-02T21:28:49.093Z","4.3.0":"2016-06-03T12:37:57.494Z","4.3.1":"2016-06-24T07:06:26.724Z","4.3.2":"2016-07-01T23:46:13.511Z","4.3.3":"2016-07-11T22:11:50.454Z","4.3.4":"2016-07-12T00:31:31.300Z","4.3.5":"2016-07-12T22:16:08.940Z","4.3.6":"2016-07-17T07:46:11.654Z","4.4.0":"2016-07-27T14:40:51.629Z","4.4.1":"2016-07-27T23:15:47.080Z","4.4.2":"2016-07-28T09:28:43.014Z","4.4.3":"2016-08-08T15:53:48.436Z","4.4.4":"2016-11-07T19:23:28.238Z","4.4.5":"2017-01-07T01:55:37.405Z","4.4.6":"2017-01-09T09:24:34.861Z","4.4.7":"2017-01-10T14:33:16.674Z","4.4.8":"2017-01-11T21:50:22.240Z","4.5.0":"2017-03-06T11:13:01.617Z","4.5.1":"2017-04-02T22:56:21.797Z","4.6.0":"2017-05-03T09:31:55.488Z"},"users":{"26medias":true,"davidchase":true,"kapouer":true,"aburczy":true,"mastayoda":true}}}