{"name":"@paulcbetts/v8-profiler","version":"5.6.6","description":"node bindings for the v8 profiler","homepage":"http://github.com/node-inspector/v8-profiler","repository":"https://github.com/node-inspector/v8-profiler","license":"BSD-2-Clause","keywords":["profiler","inspector"],"engines":{"node":">=0.10"},"main":"v8-profiler","dependencies":{"bindings":"^1.2.1","nan":"^2.3.2"},"devDependencies":{"aws-sdk":"^2.0.0","chai":"^1.9.1","co":"^4.6.0","mocha":"^1.20.1","rimraf":"^2.4.4"},"scripts":{"release":"node ./tools/release.js $@","test":"mocha --debug","install":"node-gyp rebuild"},"gypfile":true,"gitHead":"59c36eddadce7ee5da5fcac5ec8ef78e5222244a","versions":[{"number":"5.6.5","date":"2016-11-12T00:23:50.601Z"},{"number":"5.7.0-alpha.1","date":"2017-01-13T02:18:01.640Z"},{"number":"5.6.6","date":"2017-01-13T02:20:02.535Z"}],"readme":"[![Build Status](https://secure.travis-ci.org/node-inspector/v8-profiler.png?branch=master)](http://travis-ci.org/node-inspector/v8-profiler)\n[![Build status](https://ci.appveyor.com/api/projects/status/hhgloy5smkl5i8fd/branch/master?svg=true)](https://ci.appveyor.com/project/3y3/v8-profiler/branch/master)\n[![npm version](https://badge.fury.io/js/v8-profiler.svg)](http://badge.fury.io/js/v8-profiler)\n\nv8-profiler provides [node](http://github.com/ry/node) bindings for the v8\nprofiler and integration with [node-inspector](http://github.com/dannycoates/node-inspector)\n\n## Installation\n```sh\nnpm install v8-profiler\n```\n## Usage\n```js\nvar profiler = require('v8-profiler');\n```\n## API\n`takeSnapshot([name])` - returns new HEAP Snapshot instance. `name` is optional argument, by default snapshot name will be constructed from his uid.\n\n`deleteAllSnapshots()` - works as described in name.\n\n```js\nvar snapshot1 = profiler.takeSnapshot('1');\nvar snapshot2 = profiler.takeSnapshot();\nprofiler.deleteAllSnapshots();\n```\n\n`startProfiling([name], [recsamples])` - start CPU profiling. `name` is optional argument, by default profile name will be constructed from his uid. `recsamples` is true by default.\n\n`stopProfiling([name])` - returns new CPU Profile instance. There is no strictly described behavior for usage without `name` argument.\n\n`setSamplingInterval([num])` - Changes default CPU profiler sampling interval to the specified number of microseconds. Default interval is 1000us. This method must be called when there are no profiles being recorded. If called without arguments it resets interval to default.\n\n`deleteAllProfiles()` - works as described in name.\n\n```js\nprofiler.startProfiling('', true);\nsetTimeout(function() {\n  var profile = profiler.stopProfiling('');\n  profiler.deleteAllProfiles();\n}, 1000);\n```\n\n### HEAP Snapshot API\n`Snapshot.getHeader()` - provides short information about snapshot.\n\n`Snapshot.compare(snapshot)` - creates HEAP diff for two snapshots.\n\n`Snapshot.delete()` - removes snapshot from memory.\n\n`Snapshot.export([callback])` - provides simple export API for snapshot. `callback(error, data)` receives serialized snapshot as second argument. (Serialization is not equal to `JSON.stringify` result).\n\nIf callback will not be passed, `export` returns transform stream.\n\n`Snapshot.serialize` - low level serialization method. Look `Snapshot.export` source for usage example.\n\n```js\nvar fs = require('fs');\nvar profiler = require('v8-profiler');\nvar snapshot1 = profiler.takeSnapshot();\nvar snapshot2 = profiler.takeSnapshot();\n\nconsole.log(snapshot1.getHeader(), snapshot2.getHeader());\n\nconsole.log(snapshot1.compare(snapshot2));\n\n// Export snapshot to file file\nsnapshot1.export(function(error, result) {\n  fs.writeFileSync('snapshot1.json', result);\n  snapshot1.delete();\n});\n\n// Export snapshot to file stream\nsnapshot2.export()\n  .pipe(fs.createWriteStream('snapshot2.json'))\n  .on('finish', snapshot2.delete);\n```\n\n## CPU Profile API\n`Profile.getHeader()` - provides short information about profile.\n\n`Profile.delete()` - removes profile from memory.\n\n`Profile.export([callback])` - provides simple export API for profile. `callback(error, data)` receives serialized profile as second argument. (Serialization is equal to `JSON.stringify` result).\n\n```js\nvar fs = require('fs');\nvar profiler = require('v8-profiler');\nprofiler.startProfiling('1', true);\nvar profile1 = profiler.stopProfiling();\nprofiler.startProfiling('2', true);\nvar profile2 = profiler.stopProfiling();\n\nconsole.log(snapshot1.getHeader(), snapshot2.getHeader());\n\nprofile1.export(function(error, result) {\n  fs.writeFileSync('profile1.json', result);\n  profile1.delete();\n});\n\nprofile2.export()\n  .pipe(fs.createWriteStream('profile2.json'))\n  .on('finish', function() {\n    profile2.delete();\n  });\n```\n\n## node-inspector\n\nCpu profiles can be viewed and heap snapshots may be taken and viewed from the\nprofiles panel.\n","created":"2016-11-12T00:23:50.601Z","modified":"2017-02-27T18:42:13.654Z","lastPublisher":{"name":"paulcbetts","email":"paul@paulbetts.org"},"owners":[{"name":"paulcbetts","email":"paul@paulbetts.org"}],"other":{"_attachments":{},"_from":".","_id":"@paulcbetts/v8-profiler","_nodeVersion":"7.2.1","_npmOperationalInternal":{"host":"packages-18-east.internal.npmjs.com","tmp":"tmp/v8-profiler-5.6.6.tgz_1484274000777_0.053931596456095576"},"_npmUser":{"name":"paulcbetts","email":"paul@paulbetts.org"},"_npmVersion":"4.0.5","_rev":"1-060c6737635415bb6769f7176e888729","_shasum":"7b0c764eaa6611c51b185770fd2b2cbf86bbc07c","author":{"name":"Danny Coates","email":"dannycoates@gmail.com"},"bugs":{"url":"https://github.com/node-inspector/v8-profiler/issues"},"contributors":[{"name":"Miroslav Bajto≈°"},{"name":"3y3","email":"3y3@bk.ru"}],"directories":{},"dist-tags":{"latest":"5.6.6"},"dist":{"shasum":"7b0c764eaa6611c51b185770fd2b2cbf86bbc07c","tarball":"https://registry.npmjs.org/@paulcbetts/v8-profiler/-/v8-profiler-5.6.6.tgz"},"maintainers":[{"name":"paulcbetts","email":"paul@paulbetts.org"}],"readmeFilename":"readme.md","time":{"modified":"2017-02-27T18:42:13.654Z","created":"2016-11-12T00:23:50.601Z","5.6.5":"2016-11-12T00:23:50.601Z","5.7.0-alpha.1":"2017-01-13T02:18:01.640Z","5.6.6":"2017-01-13T02:20:02.535Z"}}}