{"name":"duktape","description":"Duktape for node.js","version":"0.3.0","main":"./index.js","license":"MIT","repository":"https://github.com/ndob/duktape-node","dependencies":{"bindings":"1.1.1","node-gyp":"3.0.2","nan":"2.0.9"},"devDependencies":{"mocha":"1.17.1"},"engines":{"node":">=0.10.0"},"scripts":{"test":"mocha test/* --reporter spec --colors","install":"node-gyp rebuild"},"gypfile":true,"gitHead":"dae10d830ab0909acb1a18bb2aaa5490b2d2c164","homepage":"https://github.com/ndob/duktape-node#readme","versions":[{"number":"0.0.2","date":"2014-02-08T17:56:54.622Z"},{"number":"0.0.3","date":"2014-02-08T18:05:28.126Z"},{"number":"0.1.0","date":"2014-02-17T17:20:37.347Z"},{"number":"0.1.2","date":"2014-03-09T16:24:59.852Z"},{"number":"0.1.3","date":"2014-03-25T18:11:42.694Z"},{"number":"0.1.5","date":"2014-05-27T19:48:38.241Z"},{"number":"0.1.6","date":"2014-11-11T18:32:52.277Z"},{"number":"0.2.0","date":"2015-08-29T18:38:36.061Z"},{"number":"0.3.0","date":"2015-09-13T15:04:57.538Z"}],"readme":"duktape-node\n=========\n[![Build Status](https://travis-ci.org/ndob/duktape-node.svg?branch=master)](https://travis-ci.org/ndob/duktape-node)\n\nSimple [Duktape Javascript engine](http://duktape.org/) integration for node.js. \n\nThis package provides facilities for running a single script on an isolated Duktape virtual machine.\n\nPackage has been tested on linux and should be compatible with node.js versions: 0.10.x, 0.11.x, 0.12.x and 4.x.\n\n## Installing\n```shell\nnpm install duktape\n```\n## Building manually and running tests\n```shell\ngit clone https://github.com/ndob/duktape-node.git\ncd duktape-node\ngit submodule init\ngit submodule update\nnpm install\nnpm test\n```\n## API\n\n### run(functionName, parameter, script, apiObject, callback)\n**Description**\n\nRuns a single script on duktape and returns error status and return value to callback.\n\n**Parameters**\n\n* functionName: function to run (string)\n* parameter: parameter for function (string)\n* script: whole javascript source of script (string)\n* apiObject: API for script (object)\n  * properties:\n    * key: name for function\n    * value: function to call\n* callback: function with signature `function(error, returnValue)`\n  * error: error status (boolean)\n  * returnValue: return value from script (string) or error string in case of an error\n  \n**Example**\n```javascript\nvar duktape = require('duktape');\n\nvar apiFunction = function(name) {\n    return \"hello \" + name;\n}\n\nvar script = \" \\\n  function helloFun(parameterString) { \\\n    return { \\\n      value: hello(parameterString), \\\n      extra: 'bye ' + parameterString \\\n    }; \\\n  }\";\n\nvar apiObject = {\n    hello: apiFunction\n};\n  \nduktape.run(\"helloFun\", \"world\", script, apiObject, function(error, ret) {\n  if(error) {\n    console.log(\"got error: \" + ret);\n  } else {\n    var retVal = JSON.parse(ret);\n    console.log(retVal.value);\n    console.log(retVal.extra);\n  }\n});\n```\n\n### runSync(functionName, parameter, script, apiObject)\n\n**Description**\n\n  Runs a single script on duktape and returns script's return value. Errors are handled by exceptions. Otherwise functionality is the same as in async-version.\n\n**Parameters**\n\n* functionName: function to run (string)\n* parameter: parameter for function (string)\n* script: whole javascript source of script (string)\n* apiObject: API for script (object)\n  * properties:\n    * key: name for function\n    * value: function to call\n\n**Example**\n```javascript\nvar duktape = require('duktape');\n\nvar apiFunction = function(name) {\n    return \"hello \" + name;\n}\n\nvar apiObject = {\n    hello: apiFunction\n};\n\nvar script = \" \\\n  function helloFun(parameterString) { \\\n    return { \\\n      value: hello(parameterString), \\\n      extra: 'bye ' + parameterString \\\n    }; \\\n  }\";\n  \ntry {\n  var ret = duktape.runSync(\"helloFun\", \"world\", script, apiObject);\n  var retVal = JSON.parse(ret);\n  console.log(retVal.value);\n  console.log(retVal.extra);\n} catch(error) {\n  console.log(\"got error\" + error);\n}\n\n```\n\n## What this package _doesn't_ do\nThis package just runs scripts on duktape VM without doing much else. Everything listed here is left for host programs responsibility.\n* Limit resources (memory, cpu time, etc.)\n* Input parameters and return values\n  * Sanity checks\n  * Formatting\n  \n## Known issues\n* To use this package with node 4.0.0 you should build with gcc version >= 4.8 or clang >= 3.4.\n* No async support from defined API-functions back to duktape (ie. no callbacks).\n","created":"2014-02-08T17:56:54.622Z","modified":"2015-09-13T15:04:57.538Z","lastPublisher":{"name":"ndob","email":"ndob@safe-mail.net"},"owners":[{"name":"ndob","email":"ndob@safe-mail.net"}],"other":{"_attachments":{},"_from":".","_id":"duktape","_nodeVersion":"4.0.0","_npmUser":{"name":"ndob","email":"ndob@safe-mail.net"},"_npmVersion":"2.14.2","_rev":"1-0cfb7dc43c50d99956b4eccb48926670","_shasum":"3d20032a23a19e2b5dcc774006fbc713411c03ea","author":{"name":"ndob"},"bugs":{"url":"https://github.com/ndob/duktape-node/issues"},"directories":{},"dist-tags":{"latest":"0.3.0"},"dist":{"shasum":"3d20032a23a19e2b5dcc774006fbc713411c03ea","tarball":"http://registry.npmjs.org/duktape/-/duktape-0.3.0.tgz"},"maintainers":[{"name":"ndob","email":"ndob@safe-mail.net"}],"readmeFilename":"README.md","time":{"modified":"2015-09-13T15:04:57.538Z","created":"2014-02-08T17:56:54.622Z","0.0.2":"2014-02-08T17:56:54.622Z","0.0.3":"2014-02-08T18:05:28.126Z","0.1.0":"2014-02-17T17:20:37.347Z","0.1.2":"2014-03-09T16:24:59.852Z","0.1.3":"2014-03-25T18:11:42.694Z","0.1.5":"2014-05-27T19:48:38.241Z","0.1.6":"2014-11-11T18:32:52.277Z","0.2.0":"2015-08-29T18:38:36.061Z","0.3.0":"2015-09-13T15:04:57.538Z"}}}