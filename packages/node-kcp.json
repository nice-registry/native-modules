{"name":"node-kcp","version":"1.0.8","description":"KCP protocol for Node.js","main":"node-kcp.node","dependencies":{"nan":"^2.4.0"},"devDependencies":{"chai":"latest","mocha":"latest","grunt":"latest","grunt-mocha-test":"latest","grunt-contrib-clean":"latest"},"scripts":{"test":"grunt","install":"node-gyp rebuild"},"repository":"https://github.com/leenjewel/node-kcp","keywords":["kcp","protocol","game","server"],"license":"Apache-2.0","gypfile":true,"homepage":"https://github.com/leenjewel/node-kcp#readme","gitHead":"4a89e72fbf902e1163900af397fd8ecbef16bd07","readme":"# node-kcp\n\n======================================\n[![Build Status][1]][2] \n[1]: https://api.travis-ci.org/leenjewel/node-kcp.svg?branch=master\n[2]: https://travis-ci.org/leenjewel/node-kcp\n\n\n[KCP Protocol](https://github.com/skywind3000/kcp) for Node.js\n\n## HowTo\n\n### Build:\n\n```\nnpm install -g node-gyp\n\nnode-gyp configure\n\ngit clone git@github.com:leenjewel/node-kcp\n\ncd node-kcp\n\ngit submodule init\n\ngit submodule update\n\nnode-gyp build\n```\n\n## Example:\n\n### Install by npm\n\n```\nnpm install node-kcp\n```\n\n### udpserver.js\n\n```\nvar kcp = require('node-kcp');\nvar dgram = require('dgram');\nvar server = dgram.createSocket('udp4');\nvar clients = {};\nvar interval = 200;\n\nvar output = function(data, size, context) {\n    server.send(data, 0, size, context.port, context.address);\n};\n\nserver.on('error', (err) => {\n    console.log(`server error:\\n${err.stack}`);\n    server.close();\n});\n\nserver.on('message', (msg, rinfo) => {\n    var k = rinfo.address+'_'+rinfo.port;\n    if (undefined === clients[k]) {\n        var context = {\n            address : rinfo.address,\n            port : rinfo.port\n        };\n        var kcpobj = new kcp.KCP(123, context);\n        kcpobj.nodelay(0, interval, 0, 0);\n        kcpobj.output(output);\n        clients[k] = kcpobj;\n    }\n    var kcpobj = clients[k];\n    kcpobj.input(msg);\n});\n\nserver.on('listening', () => {\n    var address = server.address();\n    console.log(`server listening ${address.address} : ${address.port}`);\n    setInterval(() => {\n        for (var k in clients) {\n            var kcpobj = clients[k];\n        \tkcpobj.update(Date.now());\n        \tvar recv = kcpobj.recv();\n        \tif (recv) {\n            \tconsole.log(`server recv ${recv} from ${kcpobj.context().address}:${kcpobj.context().port}`);\n           \t\tkcpobj.send('RE-'+recv);\n       \t \t}\n       \t}\n    }, interval);\n});\n\nserver.bind(41234);\n\n```\n\n### udpclient.js\n\n```\nvar kcp = require('node-kcp');\nvar kcpobj = new kcp.KCP(123, {address: '127.0.0.1', port: 41234});\nvar dgram = require('dgram');\nvar client = dgram.createSocket('udp4');\nvar msg = 'hello world';\nvar idx = 1;\nvar interval = 200;\n\nkcpobj.nodelay(0, interval, 0, 0);\n\nkcpobj.output((data, size, context) => {\n    client.send(data, 0, size, context.port, context.address);\n});\n\nclient.on('error', (err) => {\n    console.log(`client error:\\n${err.stack}`);\n    client.close();\n});\n\nclient.on('message', (msg, rinfo) => {\n    kcpobj.input(msg);\n});\n\nsetInterval(() => {\n    kcpobj.update(Date.now());\n    var recv = kcpobj.recv();\n    if (recv) {\n        console.log(`client recv ${recv}`);\n        kcpobj.send(msg+(idx++));\n    }\n}, interval);\n\nkcpobj.send(msg+(idx++));\n\n```\n\n## About Pomelo and Pomelo-kcp\n\nIf you want to use [node-kcp](https://github.com/leenjewel/node-kcp) in [pomelo](https://github.com/NetEase/pomelo/) server, you need [pomelo-kcp](https://github.com/leenjewel/pomelo-kcp)","versions":[{"number":"1.0.0","date":"2016-08-05T07:06:38.859Z"},{"number":"1.0.1","date":"2016-08-06T05:27:14.486Z"},{"number":"1.0.2","date":"2016-08-08T10:44:28.061Z"},{"number":"1.0.3","date":"2016-08-09T10:05:15.887Z"},{"number":"1.0.4","date":"2016-08-19T07:31:25.704Z"},{"number":"1.0.5","date":"2016-09-01T09:42:12.999Z"},{"number":"1.0.6","date":"2016-12-23T06:49:36.629Z"},{"number":"1.0.7","date":"2017-02-08T06:07:07.987Z"},{"number":"1.0.8","date":"2017-08-01T06:38:37.559Z"}],"created":"2016-08-05T07:06:38.859Z","modified":"2017-08-01T06:38:37.559Z","lastPublisher":{"name":"leenjewel","email":"leenjewel@gmail.com"},"owners":[{"name":"leenjewel","email":"leenjewel@gmail.com"}],"other":{"_attachments":{},"_from":".","_id":"node-kcp","_nodeVersion":"6.11.0","_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/node-kcp-1.0.8.tgz_1501569517313_0.6480204160325229"},"_npmUser":{"name":"leenjewel","email":"leenjewel@gmail.com"},"_npmVersion":"3.10.10","_rev":"4-24142069464fa0a3d4f62d35107356b9","_shasum":"88013156d03a0043e53ab83f37acf91f2ea56da4","author":{"name":"leenjewel"},"bugs":{"url":"https://github.com/leenjewel/node-kcp/issues"},"directories":{},"dist-tags":{"latest":"1.0.8"},"dist":{"shasum":"88013156d03a0043e53ab83f37acf91f2ea56da4","tarball":"https://registry.npmjs.org/node-kcp/-/node-kcp-1.0.8.tgz"},"maintainers":[{"name":"leenjewel","email":"leenjewel@gmail.com"}],"readmeFilename":"README.md","time":{"modified":"2017-08-01T06:38:37.559Z","created":"2016-08-05T07:06:38.859Z","1.0.0":"2016-08-05T07:06:38.859Z","1.0.1":"2016-08-06T05:27:14.486Z","1.0.2":"2016-08-08T10:44:28.061Z","1.0.3":"2016-08-09T10:05:15.887Z","1.0.4":"2016-08-19T07:31:25.704Z","1.0.5":"2016-09-01T09:42:12.999Z","1.0.6":"2016-12-23T06:49:36.629Z","1.0.7":"2017-02-08T06:07:07.987Z","1.0.8":"2017-08-01T06:38:37.559Z"}}}